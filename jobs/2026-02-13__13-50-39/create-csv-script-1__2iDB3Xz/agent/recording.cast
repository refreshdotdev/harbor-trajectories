{"version": 2, "width": 160, "height": 40, "timestamp": 1771009002, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.005393, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user# "]
[0.882449, "i", "clear\r"]
[0.882583, "o", "clear\r\n\u001b[?2004l\r"]
[0.88349, "o", "\u001b[H\u001b[J"]
[0.883688, "o", "\u001b[?2004h"]
[0.883724, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user# "]
[7.990379, "i", "ls -la /etc/finops/\n"]
[7.990494, "o", "ls -la /etc/finops/\r\n\u001b[?2004l\r"]
[7.991878, "o", "total 0\r\n"]
[7.99193, "o", "drwxr-xr-x 1 root root 24 Feb 13 18:51 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root 51 Feb 13 18:56 \u001b[01;34m..\u001b[0m\r\n-rw-r--r-- 1 root root  0 Feb 13 18:51 policy.ini\r\n"]
[7.992177, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user# "]
[8.332541, "i", "cat /etc/finops/policy.ini\n"]
[8.332695, "o", "cat /etc/finops/policy.ini\r\n\u001b[?2004l\r"]
[8.334376, "o", "\u001b[?2004h"]
[8.334392, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user# "]
[18.343272, "i", "mkdir -p /etc/finops\n"]
[18.343385, "o", "mkdir -p /etc/finops\r\n\u001b[?2004l\r"]
[18.344867, "o", "\u001b[?2004h"]
[18.344908, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user# "]
[18.588248, "i", "cat > /etc/finops/policy.ini << 'EOF'\nfilename_pattern=^.*\\.csv$\nmin_size_bytes=1024\ndate_header_pattern=^Report Generated on: (.*?)$\nEOF\n"]
[18.588394, "o", "cat > /etc/finops/policy.ini << 'EOF'\r\n\u001b[?2004l\r"]
[18.588435, "o", "\u001b[?2004h"]
[18.588465, "o", "> "]
[18.588515, "o", "filename_pattern=^.*\\.csv$\r\n\u001b[?2004l\r"]
[18.58855, "o", "\u001b[?2004h> "]
[18.588592, "o", "min_size_bytes=1024\r\n\u001b[?2004l\r"]
[18.588628, "o", "\u001b[?2004h> "]
[18.588755, "o", "date_header_pattern=^Report Generated on: (.*?)$\r\n\u001b[?2004l\r"]
[18.588782, "o", "\u001b[?2004h> "]
[18.588809, "o", "EOF\r\n\u001b[?2004l\r"]
[18.590528, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user# "]
[28.753781, "i", "cd /home/user/cloud_costs\n"]
[28.753945, "o", "cd /home/user/cloud_costs\r\n\u001b[?2004l\r"]
[28.753989, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[28.888357, "i", "ls -la\n"]
[28.888482, "o", "ls -la\r\n\u001b[?2004l\r"]
[28.889858, "o", "total 0\r\n"]
[28.889901, "o", "drwxr-xr-x 1 root root  50 Feb 13 18:51 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root  33 Feb 13 18:50 \u001b[01;34m..\u001b[0m\r\ndrwxr-xr-x 1 root root 188 Feb 13 18:51 \u001b[01;34mmonthly\u001b[0m\r\ndrwxr-xr-x 1 root root  10 Feb 13 18:51 \u001b[01;34mprocessed\u001b[0m\r\n"]
[28.890132, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[29.070736, "i", "mkdir -p monthly processed archive per_service\n"]
[29.070919, "o", "mkdir -p monthly processed archive per_service\r\n\u001b[?2004l\r"]
[29.073825, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[38.673881, "i", "ls -la monthly/\n"]
[38.673994, "o", "ls -la monthly/\r\n"]
[38.674024, "o", "\u001b[?2004l\r"]
[38.67539, "o", "total 24\r\n"]
[38.675443, "o", "drwxr-xr-x 1 root root 188 Feb 13 18:51 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root  52 Feb 13 18:57 \u001b[01;34m..\u001b[0m\r\n-rw-r--r-- 1 root root  63 Feb 13 18:51 cost_2023-05.csv\r\n-rw-r--r-- 1 root root  63 Feb 13 18:51 cost_2023-06.csv\r\n-rw-r--r-- 1 root root 126 Feb 13 18:51 cost_2023-07_v2.csv\r\n-rw-r--r-- 1 root root  24 Feb 13 18:51 cost_2023-08_draft.csv\r\n-rw-r--r-- 1 root root  24 Feb 13 18:51 cost_2023-09_tiny.csv\r\n-rw-r--r-- 1 root root  32 Feb 13 18:51 old_data.txt\r\n"]
[38.675701, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[47.556119, "i", "cat /etc/finops/policy.ini\n"]
[47.556255, "o", "cat /etc/finops/policy.ini\r\n\u001b[?2004l\r"]
[47.557029, "o", "filename_pattern=^.*\\.csv$\r\nmin_size_bytes=1024\r\ndate_header_pattern=^Report Generated on: (.*?)$\r\n"]
[47.557229, "o", "\u001b[?2004h"]
[47.557282, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[47.697634, "i", "awk -F'=' '/^filename_pattern/{fp=substr($2,2,length($2)-2)} /^min_size_bytes/{msb=$2} /^date_header_pattern/{dhp=substr($2,2,length($2)-2)} END{print \"filename_pattern: \" fp; print \"min_size_bytes: \" msb; print \"date_header_pattern: \" dhp}' /etc/finops/policy.ini\n"]
[47.699353, "o", "awk -F'=' '/^filename_pattern/{fp=substr($2,2,length($2)-2)} /^min_size_bytes/{msb=$2} /^date_header_pattern/{dhp=substr($2,2,length($2)-2)} END{print \"filename_pattern: \" fp; print \"min_size_bytes: \" msb; print \"date_header_pattern: \" dhp}' /etc/finops/policy.ini\r\n\u001b[?2004l\r"]
[47.700759, "o", "filename_pattern: .*\\.csv\r\nmin_size_bytes: 1024\r\ndate_header_pattern: Report Generated on: (.*?)\r\n"]
[47.701043, "o", "\u001b[?2004h"]
[47.701076, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[71.264854, "i", "echo \"Validating files with policy: filename_pattern='.*\\.csv', min_size_bytes=1024, date_header_pattern='Report Generated on: (.*?)'\"\n"]
[71.265242, "o", "echo \"Validating files with policy: filename_pattern='.*\\.csv', min_size_bytes=1024, date_header_pattern='Report Generated on: (.*?)'\"\r\n\u001b[?2004l\r"]
[71.265298, "o", "Validating files with policy: filename_pattern='.*\\.csv', min_size_bytes=1024, date_header_pattern='Report Generated on: (.*?)'\r\n"]
[71.265334, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[71.431801, "i", "cat > validate_files.sh << 'EOF'\n#!/bin/bash\n\nPOLICY_FILE=\"/etc/finops/policy.ini\"\nFILENAME_PATTERN=$(awk -F'=' '/^filename_pattern/{print $2}' \"$POLICY_FILE\" | sed \"s/^'//;s/'$//\")\nMIN_SIZE_BYTES=$(awk -F'=' '/^min_size_bytes/{print $2}' \"$POLICY_FILE\")\nDATE_HEADER_PATTERN=$(awk -F'=' '/^date_header_pattern/{print $2}' \"$POLICY_FILE\" | sed \"s/^'//;s/'$//\")\n\necho \"Filename Pattern: $FILENAME_PATTERN\"\necho \"Min Size Bytes: $MIN_SIZE_BYTES\"\necho \"Date Header Pattern: $DATE_HEADER_PATTERN\"\n\ndeclare -a valid_files\n\ncount=0\n\nfor file in monthly/*; do\n    filename=$(basename \"$file\")\n    filesize=$(stat -c%s \"$file\")\n    \n    if [[ \"$filename\" =~ $FILENAME_PATTERN ]] && [ \"$filesize\" -ge \"$MIN_SIZE_BYTES\" ]; then\n        echo \"Processing valid file: $filename (size: $filesize)\"\n        \n        # Extract timestamp\n        timestamp=$(grep -oP \"$DATE_HEADER_PATTERN\" \"$file\" | sed \"s/$DATE_HEADER_PATTERN/\\\\1/\")\n        if [ -n \"$timestamp\" ]; then\n            echo \"Filename: $filename, Timestamp: $timestamp\"\n        "]
[71.431919, "i", "    valid_files+=(\"$file $timestamp\")\n            count=$((count+1))\n        else\n            echo \"Warning: No timestamp found in $filename\"\n        fi\n    else\n        echo \"Skipping $filename (reason: $( [[ ! \"$filename\" =~ $FILENAME_PATTERN ]] && echo \"pattern\" ) $( [ \"$filesize\" -lt \"$MIN_SIZE_BYTES\" ] && echo \"size\") )\"\n    fi\ndone\n\nif [ $count -gt 0 ]; then\n    echo -e \"\\nValid files (count: $count):\"\n    for i in \"${valid_files[@]}\"; do\n        echo \"$i\"\n    done\nelse\n    echo -e \"\\nNo valid files found matching policy criteria.\"\nfi\nEOF\n"]
[71.432036, "o", "cat > validate_files.sh << 'EOF'\r\n\u001b[?2004l\r"]
[71.432094, "o", "\u001b[?2004h"]
[71.432117, "o", "> "]
[71.432168, "o", "#!/bin/bash\r\n\u001b[?2004l\r"]
[71.432194, "o", "\u001b[?2004h"]
[71.432218, "o", "> \r\n\u001b[?2004l\r"]
[71.432237, "o", "\u001b[?2004h"]
[71.432261, "o", "> "]
[71.432422, "o", "POLICY_FILE=\"/etc/finops/policy.ini\"\r\n\u001b[?2004l\r"]
[71.432447, "o", "\u001b[?2004h"]
[71.432474, "o", "> "]
[71.432938, "o", "FILENAME_PATTERN=$(awk -F'=' '/^filename_pattern/{print $2}' \"$POLICY_FILE\" | sed \"s/^'//;s/'$//\")\r\n\u001b[?2004l\r"]
[71.432996, "o", "\u001b[?2004h> "]
[71.433292, "o", "MIN_SIZE_BYTES=$(awk -F'=' '/^min_size_bytes/{print $2}' \"$POLICY_FILE\")\r\n\u001b[?2004l\r"]
[71.43335, "o", "\u001b[?2004h> "]
[71.433807, "o", "DATE_HEADER_PATTERN=$(awk -F'=' '/^date_header_pattern/{print $2}' \"$POLICY_FILE\" | sed \"s/^'//;s/'$//\")\r\n\u001b[?2004l\r"]
[71.433853, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r"]
[71.433882, "o", "\u001b[?2004h> "]
[71.434073, "o", "echo \"Filename Pattern: $FILENAME_PATTERN\"\r\n\u001b[?2004l\r"]
[71.434106, "o", "\u001b[?2004h"]
[71.434133, "o", "> "]
[71.434289, "o", "echo \"Min Size Bytes: $MIN_SIZE_BYTES\"\r\n\u001b[?2004l\r"]
[71.434321, "o", "\u001b[?2004h> "]
[71.434542, "o", "echo \"Date Header Pattern: $DATE_HEADER_PATTERN\"\r\n\u001b[?2004l\r"]
[71.434574, "o", "\u001b[?2004h> "]
[71.434601, "o", "\r\n\u001b[?2004l\r\u001b[?2004h"]
[71.434641, "o", "> "]
[71.434728, "o", "declare -a valid_files\r\n\u001b[?2004l\r"]
[71.434755, "o", "\u001b[?2004h"]
[71.43478, "o", "> \r\n\u001b[?2004l\r"]
[71.434806, "o", "\u001b[?2004h> "]
[71.434847, "o", "count=0\r\n\u001b[?2004l\r"]
[71.434871, "o", "\u001b[?2004h"]
[71.4349, "o", "> \r\n\u001b[?2004l\r"]
[71.434926, "o", "\u001b[?2004h> "]
[71.435044, "o", "for file in monthly/*; do\r\n\u001b[?2004l\r"]
[71.43507, "o", "\u001b[?2004h"]
[71.4351, "o", "> "]
[71.435229, "o", "    filename=$(basename \"$file\")\r\n\u001b[?2004l\r"]
[71.435259, "o", "\u001b[?2004h"]
[71.435285, "o", "> "]
[71.435417, "o", "    filesize=$(stat -c%s \"$file\")\r\n\u001b[?2004l\r"]
[71.435442, "o", "\u001b[?2004h"]
[71.435468, "o", "> "]
[71.435494, "o", "    \r\n\u001b[?2004l\r"]
[71.43552, "o", "\u001b[?2004h> "]
[71.435966, "o", "    if [[ \"$filename\" =~ $FILENAME_PATTERN ]] && [ \"$filesize\" -ge \"$MIN_SIZE_BYTES\" ]; then\r\n\u001b[?2004l\r"]
[71.435988, "o", "\u001b[?2004h"]
[71.436016, "o", "> "]
[71.436288, "o", "        echo \"Processing valid file: $filename (size: $filesize)\"\r\n\u001b[?2004l\r"]
[71.436313, "o", "\u001b[?2004h"]
[71.436342, "o", "> "]
[71.436369, "o", "        \r\n\u001b[?2004l\r"]
[71.436401, "o", "\u001b[?2004h"]
[71.436429, "o", "> "]
[71.436533, "o", "        # Extract timestamp\r\n\u001b[?2004l\r"]
[71.436561, "o", "\u001b[?2004h"]
[71.436586, "o", "> "]
[71.437005, "o", "        timestamp=$(grep -oP \"$DATE_HEADER_PATTERN\" \"$file\" | sed \"s/$DATE_HEADER_PATTERN/\\\\1/\")\r\n\u001b[?2004l\r"]
[71.437036, "o", "\u001b[?2004h"]
[71.437063, "o", "> "]
[71.43721, "o", "        if [ -n \"$timestamp\" ]; then\r\n\u001b[?2004l\r"]
[71.437239, "o", "\u001b[?2004h"]
[71.437264, "o", "> "]
[71.437521, "o", "            echo \"Filename: $filename, Timestamp: $timestamp\"\r\n\u001b[?2004l\r"]
[71.437548, "o", "\u001b[?2004h"]
[71.437578, "o", "> "]
[71.437774, "o", "            valid_files+=(\"$file $timestamp\")\r\n\u001b[?2004l\r"]
[71.437805, "o", "\u001b[?2004h"]
[71.437831, "o", "> "]
[71.437955, "o", "            count=$((count+1))\r\n\u001b[?2004l\r"]
[71.437984, "o", "\u001b[?2004h"]
[71.43801, "o", "> "]
[71.438096, "o", "        else\r\n\u001b[?2004l\r\u001b[?2004h> "]
[71.438352, "o", "            echo \"Warning: No timestamp found in $filename\"\r\n\u001b[?2004l\r"]
[71.438391, "o", "\u001b[?2004h> "]
[71.438452, "o", "        fi\r\n\u001b[?2004l\r"]
[71.438499, "o", "\u001b[?2004h> "]
[71.438533, "o", "    else\r\n"]
[71.438576, "o", "\u001b[?2004l\r\u001b[?2004h"]
[71.4386, "o", "> "]
[71.439329, "o", "        echo \"Skipping $filename (reason: $( [[ ! \"$filename\" =~ $FILENAME_PATTERN ]] && echo \"pattern\" ) $( [ \"$filesize\" -lt \"$MIN_SIZE_BYTES\" ] && echo \"size\") )\"\r\n\u001b[?2004l\r"]
[71.439358, "o", "\u001b[?2004h"]
[71.439379, "o", "> "]
[71.439418, "o", "    fi\r\n"]
[71.439436, "o", "\u001b[?2004l\r"]
[71.439454, "o", "\u001b[?2004h"]
[71.439471, "o", "> "]
[71.439493, "o", "done\r\n"]
[71.439512, "o", "\u001b[?2004l\r"]
[71.439529, "o", "\u001b[?2004h"]
[71.43956, "o", "> \r\n\u001b[?2004l\r"]
[71.439585, "o", "\u001b[?2004h"]
[71.439631, "o", "> "]
[71.439756, "o", "if [ $count -gt 0 ]; then\r\n\u001b[?2004l\r"]
[71.439794, "o", "\u001b[?2004h> "]
[71.440014, "o", "    echo -e \"\\nValid files (count: $count):\"\r\n\u001b[?2004l\r"]
[71.440045, "o", "\u001b[?2004h"]
[71.440074, "o", "> "]
[71.440244, "o", "    for i in \"${valid_files[@]}\"; do\r\n\u001b[?2004l\r"]
[71.440274, "o", "\u001b[?2004h"]
[71.440302, "o", "> "]
[71.440393, "o", "        echo \"$i\"\r\n\u001b[?2004l\r"]
[71.440423, "o", "\u001b[?2004h"]
[71.440455, "o", "> "]
[71.440499, "o", "    done\r\n\u001b[?2004l\r"]
[71.440528, "o", "\u001b[?2004h"]
[71.440556, "o", "> "]
[71.440585, "o", "else\r\n\u001b[?2004l\r"]
[71.44065, "o", "\u001b[?2004h> "]
[71.440935, "o", "    echo -e \"\\nNo valid files found matching policy criteria.\"\r\n\u001b[?2004l\r"]
[71.440974, "o", "\u001b[?2004h> "]
[71.441008, "o", "fi\r\n\u001b[?2004l\r"]
[71.44104, "o", "\u001b[?2004h> "]
[71.441071, "o", "EOF\r\n\u001b[?2004l\r"]
[71.442278, "o", "\u001b[?2004h"]
[71.442317, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[71.725362, "i", "chmod +x validate_files.sh\n"]
[71.725657, "o", "chmod +x validate_files.sh\r\n\u001b[?2004l\r"]
[71.72699, "o", "\u001b[?2004h"]
[71.727047, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[71.868822, "i", "./validate_files.sh\n"]
[71.868972, "o", "./validate_files.sh\r\n\u001b[?2004l\r"]
[71.875842, "o", "Filename Pattern: ^.*\\.csv$\r\nMin Size Bytes: 1024\r\nDate Header Pattern: ^Report Generated on: (.*?)$\r\n"]
[71.879164, "o", "Skipping cost_2023-05.csv (reason:  size )\r\n"]
[71.882899, "o", "Skipping cost_2023-06.csv (reason:  size )\r\n"]
[71.885579, "o", "Skipping cost_2023-07_v2.csv (reason:  size )\r\n"]
[71.888656, "o", "Skipping cost_2023-08_draft.csv (reason:  size )\r\n"]
[71.893198, "o", "Skipping cost_2023-09_tiny.csv (reason:  size )\r\n"]
[71.896155, "o", "Skipping old_data.txt (reason: pattern size )\r\n"]
[71.896529, "o", "\r\nNo valid files found matching policy criteria.\r\n"]
[71.89666, "o", "\u001b[?2004h"]
[71.896692, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[83.529303, "i", "echo \"No valid files found. Proceeding with directory setup and placeholder creation.\"\n"]
[83.529578, "o", "echo \"No valid files found. Proceeding with directory setup and placeholder creation.\"\r\n\u001b[?2004l\r"]
[83.529625, "o", "No valid files found. Proceeding with directory setup and placeholder creation.\r\n"]
[83.529681, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[83.651177, "i", "ls -la processed/\n"]
[83.651327, "o", "ls -la processed/\r\n\u001b[?2004l\r"]
[83.652827, "o", "total 0\r\n"]
[83.652878, "o", "drwxr-xr-x 1 root root 10 Feb 13 18:51 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root 81 Feb 13 18:57 \u001b[01;34m..\u001b[0m\r\nlrwxrwxrwx 1 root root 19 Feb 13 18:51 \u001b[40;31;01mbroken.csv\u001b[0m -> \u001b[40;31;01m../monthly/gone.csv\u001b[0m\r\nlrwxrwxrwx 1 root root 18 Feb 13 18:51 \u001b[40;31;01mfuture_plan.csv\u001b[0m -> \u001b[40;31;01m../future/2024.csv\u001b[0m\r\n"]
[83.653208, "o", "\u001b[?2004h"]
[83.653256, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[95.839437, "i", "echo \"Checking symlinks in processed/ directory:\"\n"]
[95.839634, "o", "echo \"Checking symlinks in processed/ directory:\"\r\n\u001b[?2004l\r"]
[95.839692, "o", "Checking symlinks in processed/ directory:\r\n"]
[95.839746, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[95.936568, "i", "find processed/ -type l -exec sh -c 'for link; do target=\"${link#*/}\"; if [[ ! -e \"$target\" && \"${target##*/}\" != \"future/2024.csv\" ]]; then echo \"Removing broken link: $link\"; rm \"$link\"; fi; done' sh {} +\n"]
[95.937208, "o", "find processed/ -type l -exec sh -c 'for link; do target=\"${link#*/}\"; if [[ ! -e \"$target\" && \"${target##*/}\" != \"future/2024.csv\" ]]; then echo \"Removing broken link: $link\"; rm \"$link\"; fi; done' sh {} +\r\n\u001b[?2004l\r"]
[95.939229, "o", "sh: 1: [[: not found\r\n"]
[95.93927, "o", "sh: 1: [[: not found\r\n"]
[95.939583, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[96.125041, "i", "ls -la processed/\n"]
[96.125167, "o", "ls -la processed/\r\n\u001b[?2004l\r"]
[96.126599, "o", "total 0\r\n"]
[96.126655, "o", "drwxr-xr-x 1 root root 10 Feb 13 18:51 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root 81 Feb 13 18:57 \u001b[01;34m..\u001b[0m\r\nlrwxrwxrwx 1 root root 19 Feb 13 18:51 \u001b[40;31;01mbroken.csv\u001b[0m -> \u001b[40;31;01m../monthly/gone.csv\u001b[0m\r\nlrwxrwxrwx 1 root root 18 Feb 13 18:51 \u001b[40;31;01mfuture_plan.csv\u001b[0m -> \u001b[40;31;01m../future/2024.csv\u001b[0m\r\n"]
[96.126851, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[106.919055, "i", "cat > cleanup_broken_links.sh << 'EOF'\n#!/bin/bash\n\nfor link in processed/*; do\n    if [ -L \"$link\" ]; then\n        target=$(readlink \"$link\")\n        # Check if target is a future link\n        if [[ \"$target\" == *\"future/\"* ]]; then\n            echo \"Preserving future link: $link -> $target\"\n        elif [ ! -e \"$target\" ]; then\n            echo \"Removing broken link: $link -> $target\"\n            rm \"$link\"\n        fi\n    fi\ndone\n\necho \"Cleanup complete. Current processed/ contents:\"\nls -la processed/\nEOF\n"]
[106.919208, "o", "cat > cleanup_broken_links.sh << 'EOF'\r\n\u001b[?2004l\r"]
[106.91925, "o", "\u001b[?2004h"]
[106.91927, "o", "> "]
[106.919299, "o", "#!/bin/bash\r\n\u001b[?2004l\r"]
[106.919323, "o", "\u001b[?2004h> "]
[106.919334, "o", "\r\n\u001b[?2004l\r"]
[106.919364, "o", "\u001b[?2004h"]
[106.919383, "o", "> "]
[106.919451, "o", "for link in processed/*; do\r\n\u001b[?2004l\r"]
[106.919499, "o", "\u001b[?2004h> "]
[106.919542, "o", "    if [ -L \"$link\" ]; then\r\n\u001b[?2004l\r"]
[106.919564, "o", "\u001b[?2004h"]
[106.919589, "o", "> "]
[106.919674, "o", "        target=$(readlink \"$link\")\r\n\u001b[?2004l\r"]
[106.919709, "o", "\u001b[?2004h> "]
[106.919831, "o", "        # Check if target is a future link\r\n\u001b[?2004l\r"]
[106.919852, "o", "\u001b[?2004h> "]
[106.919991, "o", "        if [[ \"$target\" == *\"future/\"* ]]; then\r\n\u001b[?2004l\r"]
[106.920018, "o", "\u001b[?2004h> "]
[106.920179, "o", "            echo \"Preserving future link: $link -> $target\"\r\n\u001b[?2004l\r"]
[106.920224, "o", "\u001b[?2004h"]
[106.920249, "o", "> "]
[106.92031, "o", "        elif [ ! -e \"$target\" ]; then\r\n\u001b[?2004l\r"]
[106.920334, "o", "\u001b[?2004h> "]
[106.920499, "o", "            echo \"Removing broken link: $link -> $target\"\r\n\u001b[?2004l\r"]
[106.920525, "o", "\u001b[?2004h"]
[106.920544, "o", "> "]
[106.92059, "o", "            rm \"$link\"\r\n"]
[106.920601, "o", "\u001b[?2004l\r"]
[106.920662, "o", "\u001b[?2004h> "]
[106.920686, "o", "        fi\r\n\u001b[?2004l\r\u001b[?2004h"]
[106.920707, "o", "> "]
[106.920729, "o", "    fi\r\n\u001b[?2004l\r\u001b[?2004h"]
[106.92075, "o", "> "]
[106.92077, "o", "done\r\n\u001b[?2004l\r\u001b[?2004h"]
[106.920791, "o", "> \r\n\u001b[?2004l\r"]
[106.920811, "o", "\u001b[?2004h> "]
[106.92096, "o", "echo \"Cleanup complete. Current processed/ contents:\"\r\n\u001b[?2004l\r"]
[106.920991, "o", "\u001b[?2004h> "]
[106.921045, "o", "ls -la processed/\r\n\u001b[?2004l\r"]
[106.921068, "o", "\u001b[?2004h> "]
[106.921103, "o", "EOF\r\n\u001b[?2004l\r"]
[106.922106, "o", "\u001b[?2004h"]
[106.922131, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[107.114216, "i", "chmod +x cleanup_broken_links.sh\n"]
[107.114371, "o", "chmod +x cleanup_broken_links.sh\r\n\u001b[?2004l\r"]
[107.115453, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[107.205543, "i", "./cleanup_broken_links.sh\n"]
[107.205664, "o", "./cleanup_broken_links.sh\r\n\u001b[?2004l\r"]
[107.207833, "o", "Removing broken link: processed/broken.csv -> ../monthly/gone.csv\r\n"]
[107.210249, "o", "Preserving future link: processed/future_plan.csv -> ../future/2024.csv\r\nCleanup complete. Current processed/ contents:\r\n"]
[107.211432, "o", "total 0\r\n"]
[107.211464, "o", "drwxr-xr-x 1 root root  32 Feb 13 18:58 .\r\ndrwxr-xr-x 1 root root 137 Feb 13 18:58 ..\r\nlrwxrwxrwx 1 root root  18 Feb 13 18:51 future_plan.csv -> ../future/2024.csv\r\n"]
[107.211899, "o", "\u001b[?2004h"]
[107.211943, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[167.493672, "i", "cat > process_cloud_costs.sh << 'EOF'\n#!/bin/bash\n\n# Configuration and constants\nPOLICY_FILE=\"/etc/finops/policy.ini\"\nBASE_DIR=\"/home/user/cloud_costs\"\nMONTHLY_DIR=\"$BASE_DIR/monthly\"\nPROCESSED_DIR=\"$BASE_DIR/processed\"\nARCHIVE_DIR=\"$BASE_DIR/archive\"\nPER_SERVICE_DIR=\"$BASE_DIR/per_service\"\nAUDIT_FILE=\"$BASE_DIR/audit_chain.csv\"\n\necho \"Cloud Cost Compliance Processor - Starting...\"\n\n# Load policy configuration\nif [ ! -f \"$POLICY_FILE\" ]; then\n    echo \"ERROR: Policy file $POLICY_FILE not found!\"\n    exit 1\nfi\n\nFILENAME_PATTERN=$(awk -F'=' '/^filename_pattern/{print $2}' \"$POLICY_FILE\" | sed 's/^\"//;s/\"$//')\nMIN_SIZE_BYTES=$(awk -F'=' '/^min_size_bytes/{print $2}' \"$POLICY_FILE\")\nDATE_HEADER_PATTERN=$(awk -F'=' '/^date_header_pattern/{print $2}' \"$POLICY_FILE\" | sed 's/^\"//;s/\"$//')\n\n# Create directories if missing\nmkdir -p \"$MONTHLY_DIR\" \"$PROCESSED_DIR\" \"$ARCHIVE_DIR\" \"$PER_SERVICE_DIR\"\n\n# Validate files and collect metadata\necho \"Validating files in $MONTHLY_DIR...\"\n\ncount_valid=0\ndeclare -A file_metadata\n\n"]
[167.493774, "i", "declare -a files_to_sort\n\nfor file_path in \"$MONTHLY_DIR\"/*; do\n    filename=$(basename \"$file_path\")\n    filesize=$(stat -c%s \"$file_path\")\n    \n    # Check filename pattern\n    if [[ \"$filename\" =~ $FILENAME_PATTERN ]]; then\n        # Check minimum size\n        if [ \"$filesize\" -ge \"$MIN_SIZE_BYTES\" ]; then\n            # Extract timestamp\n            if grep -q \"$DATE_HEADER_PATTERN\" \"$file_path\"; then\n                timestamp=$(grep -oP \"$DATE_HEADER_PATTERN\" \"$file_path\" | sed \"s/$DATE_HEADER_PATTERN/\\\\1/\")\n                if [ -n \"$timestamp\" ]; then\n                    echo \"Valid file: $filename (size: $filesize, timestamp: $timestamp)\"\n                    file_metadata[$filename]=\"$timestamp\"\n                    files_to_sort+=(\"$file_path $timestamp $filename\")\n                    count_valid=$((count_valid+1))\n                else\n                    echo \"Warning: $filename - No timestamp found\"\n                fi\n            else\n                echo \"Warning: $filename - Pattern not found\"\n     "]
[167.493822, "i", "       fi\n        else\n            echo \"Skipping $filename - Below minimum size ($filesize < $MIN_SIZE_BYTES)\"\n        fi\n    else\n        echo \"Skipping $filename - Invalid filename pattern\"\n    fi\ndone\n\n# Sort files by timestamp\nif [ $count_valid -gt 0 ]; then\n    echo \"Found $count_valid valid files. Sorting by timestamp...\"\n    IFS=$'\\n' sorted_files=($(sort -k2 -t' ' <<<\"${files_to_sort[*]}\"))\n    \n    # Identify latest and previous files\n    latest_file=\"\"\n    previous_file=\"\"\n    archive_files=()\n    \n    for i in \"${sorted_files[@]}\"; do\n        echo \"Sorted: $(basename $(echo \"$i\" | cut -d' ' -f1)) -> $(echo \"$i\" | cut -d' ' -f2)\"\n    done\n    \n    # Process sorted files\n    for i in \"${!sorted_files[@]}\"; do\n        file_path=$(echo \"${sorted_files[$i]}\" | cut -d' ' -f1)\n        filename=$(echo \"${sorted_files[$i]}\" | cut -d' ' -f3)\n        timestamp=$(echo \"${sorted_files[$i]}\" | cut -d' ' -f2)\n        \n        if [ $i -eq $((${#sorted_files[@]}-1)) ]; then\n            latest_file=\"$file_path\"\n   "]
[167.49385, "i", "     elif [ $i -eq $((${#sorted_files[@]}-2)) ]; then\n            previous_file=\"$file_path\"\n        else\n            archive_files+=(\"$file_path\")\n        fi\n    done\n    \n    # Create symlinks\n    if [ -n \"$latest_file\" ]; then\n        echo \"Creating symlinks for latest: $(basename \"$latest_file\")\"\n        \n        # Relative path for symlinks\n        relative_latest=$(realpath --relative-to=\"$PROCESSED_DIR\" \"$latest_file\")\n        \n        ln -sf \"$relative_latest\" \"$PROCESSED_DIR/latest.csv\"\n        ln -sf \"$relative_latest\" \"$PROCESSED_DIR/previous.csv\"\n        \n        relative_latest_per_service=$(realpath --relative-to=\"$PER_SERVICE_DIR\" \"$latest_file\")\n        \n        ln -sf \"$relative_latest_per_service\" \"$PER_SERVICE_DIR/compute_v2.csv\"\n        ln -sf \"$relative_latest_per_service\" \"$PER_SERVICE_DIR/network_v2.csv\"\n        ln -sf \"$relative_latest_per_service\" \"$PER_SERVICE_DIR/storage_v2.csv\"\n    fi\n    \n    # Archive older valid files\n    for archive_file in \"${archive_files[@]}\"; do\n        if "]
[167.493915, "i", "[ -n \"$archive_file\" ]; then\n            filename=$(basename \"$archive_file\")\n            echo \"Archiving: $filename\"\n            mv \"$archive_file\" \"$ARCHIVE_DIR/\"\n        fi\n    done\n    \n    # Generate audit chain\n    if [ -n \"$latest_file\" ]; then\n        echo \"Generating audit chain...\"\n        audit_seed=${AUDIT_SEED:-\"default_seed_value\"}\n        \n        # Ensure ISO-8859-1 encoding\n        iconv -f UTF-8 -t ISO-8859-1 \"$AUDIT_FILE\" > \"$AUDIT_FILE.tmp\" && mv \"$AUDIT_FILE.tmp\" \"$AUDIT_FILE\"\n        \n        chain_hash=$(echo -n \"$audit_seed\" | sha256sum | cut -d' ' -f1)\n        \n        # Process symlinks in specified order\n        symlinks=(\n            \"processed/latest.csv\"\n            \"processed/previous.csv\" \n            \"per_service/compute_v2.csv\"\n            \"per_service/network_v2.csv\"\n            \"per_service/storage_v2.csv\"\n        )\n        \n        for symlink in \"${symlinks[@]}\"; do\n            target=$(readlink -m \"$BASE_DIR/$symlink\")\n            \n            if [ ! -f \"$target\" ]; then"]
[167.493925, "o", "cat > process_cloud_costs.sh << 'EOF'\r\n"]
[167.49399, "i", "\n                echo \"ERROR: Target file $target for $symlink does not exist\"\n                continue\n            fi\n            \n            # Calculate SHA1 of content (handle UTF-16 conversion if needed)\n            if file \"$target\" | grep -q 'UTF-16'; then\n                content_hash=$(iconv -f UTF-16 -t UTF-8 \"$target\" | sha1sum | cut -d' ' -f1 | tr -d '\\n')\n            else\n                content_hash=$(sha1sum \"$target\" | cut -d' ' -f1 | tr -d '\\n')\n            fi\n            \n            # Get relative target path\n            target_relative=$(realpath --relative-to=\"$(dirname \"$BASE_DIR/$symlink\")\" \"$target\")\n            \n            # Prepare CSV line\n            csv_line=\"${symlink#*$BASE_DIR/},${target_relative},${content_hash},${chain_hash}\"\n            \n            # Write to audit file (ISO-8859-1)\n            echo -n \"$csv_line\" | iconv -f UTF-8 -t ISO-8859-1 >> \"$AUDIT_FILE\"\n            \n            # Calculate next chain hash\n            chain_hash=$(echo -n \"$csv_line\" | sha256sum | cu"]
[167.494, "o", "\u001b[?2004l\r\u001b[?2004h"]
[167.494054, "i", "t -d' ' -f1)\n        done\n        \n        echo \"Audit chain created successfully.\"\n    else\n        echo \"No valid files to process for audit chain.\"\n    fi\n    \n    echo \"Processing complete.\"\nelse\n    echo \"No valid files found for processing.\"\nfi\nEOF\n"]
[167.494063, "o", "> "]
[167.494116, "o", "#!/bin/bash\r\n"]
[167.494178, "o", "\u001b[?2004l\r\u001b[?2004h> \r\n\u001b[?2004l\r"]
[167.494207, "o", "\u001b[?2004h"]
[167.494236, "o", "> "]
[167.494437, "o", "# Configuration and constants\r\n\u001b[?2004l\r"]
[167.494465, "o", "\u001b[?2004h"]
[167.494482, "o", "> "]
[167.494702, "o", "POLICY_FILE=\"/etc/finops/policy.ini\"\r\n\u001b[?2004l\r"]
[167.49473, "o", "\u001b[?2004h"]
[167.494755, "o", "> "]
[167.494939, "o", "BASE_DIR=\"/home/user/cloud_costs\"\r\n"]
[167.49495, "o", "\u001b[?2004l\r"]
[167.495006, "o", "\u001b[?2004h> "]
[167.495181, "o", "MONTHLY_DIR=\"$BASE_DIR/monthly\"\r\n\u001b[?2004l\r"]
[167.49521, "o", "\u001b[?2004h"]
[167.495245, "o", "> "]
[167.495446, "o", "PROCESSED_DIR=\"$BASE_DIR/processed\"\r\n\u001b[?2004l\r"]
[167.495477, "o", "\u001b[?2004h"]
[167.495513, "o", "> "]
[167.495697, "o", "ARCHIVE_DIR=\"$BASE_DIR/archive\"\r\n\u001b[?2004l\r"]
[167.495729, "o", "\u001b[?2004h"]
[167.495764, "o", "> "]
[167.495976, "o", "PER_SERVICE_DIR=\"$BASE_DIR/per_service\"\r\n"]
[167.496019, "o", "\u001b[?2004l\r\u001b[?2004h> "]
[167.496251, "o", "AUDIT_FILE=\"$BASE_DIR/audit_chain.csv\"\r\n\u001b[?2004l\r"]
[167.496303, "o", "\u001b[?2004h> \r\n"]
[167.496315, "o", "\u001b[?2004l\r"]
[167.496359, "o", "\u001b[?2004h> "]
[167.496661, "o", "echo \"Cloud Cost Compliance Processor - Starting...\"\r\n\u001b[?2004l\r"]
[167.496699, "o", "\u001b[?2004h"]
[167.49671, "o", "> "]
[167.496754, "o", "\r\n\u001b[?2004l\r"]
[167.496789, "o", "\u001b[?2004h"]
[167.496822, "o", "> "]
[167.496952, "o", "# Load policy configuration\r\n\u001b[?2004l\r"]
[167.496985, "o", "\u001b[?2004h"]
[167.497002, "o", "> "]
[167.497193, "o", "if [ ! -f \"$POLICY_FILE\" ]; then\r\n\u001b[?2004l\r"]
[167.49723, "o", "\u001b[?2004h"]
[167.497266, "o", "> "]
[167.49756, "o", "    echo \"ERROR: Policy file $POLICY_FILE not found!\"\r\n\u001b[?2004l\r"]
[167.497597, "o", "\u001b[?2004h> "]
[167.497684, "o", "    exit 1\r\n\u001b[?2004l\r"]
[167.497718, "o", "\u001b[?2004h"]
[167.497753, "o", "> fi\r\n"]
[167.497789, "o", "\u001b[?2004l\r\u001b[?2004h"]
[167.497824, "o", "> "]
[167.497857, "o", "\r\n\u001b[?2004l\r\u001b[?2004h> "]
[167.498397, "o", "FILENAME_PATTERN=$(awk -F'=' '/^filename_pattern/{print $2}' \"$POLICY_FILE\" | sed 's/^\"//;s/\"$//')\r\n\u001b[?2004l\r"]
[167.498428, "o", "\u001b[?2004h"]
[167.498461, "o", "> "]
[167.498861, "o", "MIN_SIZE_BYTES=$(awk -F'=' '/^min_size_bytes/{print $2}' \"$POLICY_FILE\")\r\n\u001b[?2004l\r"]
[167.498895, "o", "\u001b[?2004h"]
[167.498926, "o", "> "]
[167.499492, "o", "DATE_HEADER_PATTERN=$(awk -F'=' '/^date_header_pattern/{print $2}' \"$POLICY_FILE\" | sed 's/^\"//;s/\"$//')\r\n\u001b[?2004l\r"]
[167.499526, "o", "\u001b[?2004h"]
[167.499558, "o", "> \r\n\u001b[?2004l\r"]
[167.499588, "o", "\u001b[?2004h"]
[167.499627, "o", "> "]
[167.499799, "o", "# Create directories if missing\r\n\u001b[?2004l\r"]
[167.499829, "o", "\u001b[?2004h"]
[167.499859, "o", "> "]
[167.500263, "o", "mkdir -p \"$MONTHLY_DIR\" \"$PROCESSED_DIR\" \"$ARCHIVE_DIR\" \"$PER_SERVICE_DIR\"\r\n\u001b[?2004l\r"]
[167.500306, "o", "\u001b[?2004h"]
[167.500344, "o", "> \r\n\u001b[?2004l\r"]
[167.500379, "o", "\u001b[?2004h> "]
[167.500588, "o", "# Validate files and collect metadata\r\n\u001b[?2004l\r"]
[167.500625, "o", "\u001b[?2004h"]
[167.500654, "o", "> "]
[167.500893, "o", "echo \"Validating files in $MONTHLY_DIR...\"\r\n\u001b[?2004l\r"]
[167.500933, "o", "\u001b[?2004h"]
[167.500967, "o", "> \r\n\u001b[?2004l\r"]
[167.501, "o", "\u001b[?2004h> "]
[167.50109, "o", "count_valid=0\r\n\u001b[?2004l\r"]
[167.501122, "o", "\u001b[?2004h"]
[167.501156, "o", "> "]
[167.501289, "o", "declare -A file_metadata\r\n\u001b[?2004l\r"]
[167.501323, "o", "\u001b[?2004h"]
[167.501355, "o", "> "]
[167.501395, "o", "\r\n\u001b[?2004l\r"]
[167.501407, "o", "\u001b[?2004h> "]
[167.501555, "o", "declare -a files_to_sort\r\n\u001b[?2004l\r"]
[167.501587, "o", "\u001b[?2004h"]
[167.501627, "o", "> "]
[167.501661, "o", "\r\n\u001b[?2004l\r\u001b[?2004h> "]
[167.50188, "o", "for file_path in \"$MONTHLY_DIR\"/*; do\r\n\u001b[?2004l\r"]
[167.501918, "o", "\u001b[?2004h"]
[167.501949, "o", "> "]
[167.50215, "o", "    filename=$(basename \"$file_path\")\r\n\u001b[?2004l\r"]
[167.502186, "o", "\u001b[?2004h"]
[167.502218, "o", "> "]
[167.502432, "o", "    filesize=$(stat -c%s \"$file_path\")\r\n\u001b[?2004l\r"]
[167.502469, "o", "\u001b[?2004h> "]
[167.502511, "o", "    \r\n\u001b[?2004l\r"]
[167.502542, "o", "\u001b[?2004h"]
[167.502575, "o", "> "]
[167.502741, "o", "    # Check filename pattern\r\n\u001b[?2004l\r"]
[167.502779, "o", "\u001b[?2004h"]
[167.502813, "o", "> "]
[167.503115, "o", "    if [[ \"$filename\" =~ $FILENAME_PATTERN ]]; then\r\n\u001b[?2004l\r"]
[167.503154, "o", "\u001b[?2004h"]
[167.503192, "o", "> "]
[167.503347, "o", "        # Check minimum size\r\n\u001b[?2004l\r"]
[167.503394, "o", "\u001b[?2004h"]
[167.503439, "o", "> "]
[167.503794, "o", "        if [ \"$filesize\" -ge \"$MIN_SIZE_BYTES\" ]; then\r\n\u001b[?2004l\r"]
[167.503829, "o", "\u001b[?2004h"]
[167.503857, "o", "> "]
[167.504034, "o", "            # Extract timestamp\r\n"]
[167.504068, "o", "\u001b[?2004l\r\u001b[?2004h"]
[167.504187, "o", "> "]
[167.504502, "o", "            if grep -q \"$DATE_HEADER_PATTERN\" \"$file_path\"; then\r\n\u001b[?2004l\r"]
[167.504551, "o", "\u001b[?2004h> "]
[167.505176, "o", "                timestamp=$(grep -oP \"$DATE_HEADER_PATTERN\" \"$file_path\" | sed \"s/$DATE_HEADER_PATTERN/\\\\1/\")\r\n\u001b[?2004l\r"]
[167.505212, "o", "\u001b[?2004h"]
[167.505253, "o", "> "]
[167.505794, "o", "                if [ -n \"$timestamp\" ]; then\r\n\u001b[?2004l\r\u001b[?2004h> "]
[167.505961, "o", "                    echo \"Valid file: $filename (size: $filesize, timestamp: $timestamp)\"\r\n\u001b[?2004l\r"]
[167.505999, "o", "\u001b[?2004h"]
[167.506015, "o", "> "]
[167.506335, "o", "                    file_metadata[$filename]=\"$timestamp\"\r\n\u001b[?2004l\r"]
[167.50639, "o", "\u001b[?2004h> "]
[167.506906, "o", "                    files_to_sort+=(\"$file_path $timestamp $filename\")\r\n\u001b[?2004l\r"]
[167.506966, "o", "\u001b[?2004h"]
[167.507009, "o", "> "]
[167.507304, "o", "                    count_valid=$((count_valid+1))\r\n\u001b[?2004l\r"]
[167.507343, "o", "\u001b[?2004h"]
[167.50738, "o", "> "]
[167.507524, "o", "                else\r\n\u001b[?2004l\r"]
[167.507552, "o", "\u001b[?2004h"]
[167.507581, "o", "> "]
[167.507977, "o", "                    echo \"Warning: $filename - No timestamp found\"\r\n\u001b[?2004l\r"]
[167.508013, "o", "\u001b[?2004h"]
[167.508083, "o", "> "]
[167.50816, "o", "                fi\r\n\u001b[?2004l\r"]
[167.508191, "o", "\u001b[?2004h"]
[167.508234, "o", "> "]
[167.508319, "o", "            else\r\n"]
[167.508342, "o", "\u001b[?2004l\r"]
[167.50837, "o", "\u001b[?2004h> "]
[167.508755, "o", "                echo \"Warning: $filename - Pattern not found\"\r\n\u001b[?2004l\r"]
[167.50879, "o", "\u001b[?2004h"]
[167.508806, "o", "> "]
[167.508918, "o", "            fi\r\n\u001b[?2004l\r\u001b[?2004h"]
[167.509002, "o", "> "]
[167.509054, "o", "        else\r\n\u001b[?2004l\r\u001b[?2004h"]
[167.509089, "o", "> "]
[167.509548, "o", "            echo \"Skipping $filename - Below minimum size ($filesize < $MIN_SIZE_BYTES)\"\r\n\u001b[?2004l\r"]
[167.509595, "o", "\u001b[?2004h> "]
[167.509662, "o", "        fi\r\n\u001b[?2004l\r"]
[167.509707, "o", "\u001b[?2004h> "]
[167.509751, "o", "    else\r\n\u001b[?2004l\r"]
[167.509779, "o", "\u001b[?2004h"]
[167.509797, "o", "> "]
[167.510117, "o", "        echo \"Skipping $filename - Invalid filename pattern\"\r\n\u001b[?2004l\r"]
[167.510149, "o", "\u001b[?2004h"]
[167.510167, "o", "> "]
[167.510203, "o", "    fi\r\n\u001b[?2004l\r"]
[167.510231, "o", "\u001b[?2004h"]
[167.510249, "o", "> "]
[167.510272, "o", "done\r\n\u001b[?2004l\r"]
[167.5103, "o", "\u001b[?2004h"]
[167.510324, "o", "> \r\n\u001b[?2004l\r"]
[167.510348, "o", "\u001b[?2004h"]
[167.510369, "o", "> "]
[167.510508, "o", "# Sort files by timestamp\r\n\u001b[?2004l\r"]
[167.510537, "o", "\u001b[?2004h"]
[167.510555, "o", "> "]
[167.510727, "o", "if [ $count_valid -gt 0 ]; then\r\n\u001b[?2004l\r"]
[167.510759, "o", "\u001b[?2004h"]
[167.510776, "o", "> "]
[167.51107, "o", "    echo \"Found $count_valid valid files. Sorting by timestamp...\"\r\n\u001b[?2004l\r"]
[167.5111, "o", "\u001b[?2004h"]
[167.511121, "o", "> "]
[167.511438, "o", "    IFS=$'\\n' sorted_files=($(sort -k2 -t' ' <<<\"${files_to_sort[*]}\"))\r\n\u001b[?2004l\r"]
[167.511475, "o", "\u001b[?2004h> "]
[167.511509, "o", "    \r\n\u001b[?2004l\r"]
[167.51154, "o", "\u001b[?2004h"]
[167.511561, "o", "> "]
[167.511751, "o", "    # Identify latest and previous files\r\n\u001b[?2004l\r"]
[167.511792, "o", "\u001b[?2004h> "]
[167.511875, "o", "    latest_file=\"\"\r\n\u001b[?2004l\r"]
[167.511901, "o", "\u001b[?2004h"]
[167.511918, "o", "> "]
[167.512021, "o", "    previous_file=\"\"\r\n\u001b[?2004l\r"]
[167.512076, "o", "\u001b[?2004h> "]
[167.512155, "o", "    archive_files=()\r\n\u001b[?2004l\r"]
[167.512179, "o", "\u001b[?2004h"]
[167.512208, "o", "> "]
[167.512237, "o", "    \r\n\u001b[?2004l\r"]
[167.512261, "o", "\u001b[?2004h"]
[167.512289, "o", "> "]
[167.512428, "o", "    for i in \"${sorted_files[@]}\"; do\r\n\u001b[?2004l\r"]
[167.512458, "o", "\u001b[?2004h"]
[167.512493, "o", "> "]
[167.512901, "o", "        echo \"Sorted: $(basename $(echo \"$i\" | cut -d' ' -f1)) -> $(echo \"$i\" | cut -d' ' -f2)\"\r\n\u001b[?2004l\r"]
[167.512952, "o", "\u001b[?2004h> "]
[167.512985, "o", "    done\r\n\u001b[?2004l\r"]
[167.513018, "o", "\u001b[?2004h"]
[167.513044, "o", "> "]
[167.513077, "o", "    \r\n\u001b[?2004l\r"]
[167.513103, "o", "\u001b[?2004h> "]
[167.513215, "o", "    # Process sorted files\r\n\u001b[?2004l\r"]
[167.513248, "o", "\u001b[?2004h"]
[167.513269, "o", "> "]
[167.513433, "o", "    for i in \"${!sorted_files[@]}\"; do\r\n\u001b[?2004l\r"]
[167.513463, "o", "\u001b[?2004h"]
[167.513483, "o", "> "]
[167.513765, "o", "        file_path=$(echo \"${sorted_files[$i]}\" | cut -d' ' -f1)\r\n\u001b[?2004l\r"]
[167.513798, "o", "\u001b[?2004h"]
[167.513819, "o", "> "]
[167.514081, "o", "        filename=$(echo \"${sorted_files[$i]}\" | cut -d' ' -f3)\r\n\u001b[?2004l\r"]
[167.514117, "o", "\u001b[?2004h"]
[167.514146, "o", "> "]
[167.514419, "o", "        timestamp=$(echo \"${sorted_files[$i]}\" | cut -d' ' -f2)\r\n\u001b[?2004l\r"]
[167.514458, "o", "\u001b[?2004h> "]
[167.514501, "o", "        \r\n\u001b[?2004l\r"]
[167.51453, "o", "\u001b[?2004h"]
[167.514551, "o", "> "]
[167.514816, "o", "        if [ $i -eq $((${#sorted_files[@]}-1)) ]; then\r\n\u001b[?2004l\r"]
[167.514849, "o", "\u001b[?2004h"]
[167.514873, "o", "> "]
[167.51503, "o", "            latest_file=\"$file_path\"\r\n\u001b[?2004l\r"]
[167.515069, "o", "\u001b[?2004h"]
[167.515088, "o", "> "]
[167.515335, "o", "        elif [ $i -eq $((${#sorted_files[@]}-2)) ]; then\r\n\u001b[?2004l\r"]
[167.515365, "o", "\u001b[?2004h"]
[167.515387, "o", "> "]
[167.515553, "o", "            previous_file=\"$file_path\"\r\n\u001b[?2004l\r"]
[167.515579, "o", "\u001b[?2004h"]
[167.515603, "o", "> "]
[167.515661, "o", "        else\r\n\u001b[?2004l\r"]
[167.515693, "o", "\u001b[?2004h"]
[167.515714, "o", "> "]
[167.515896, "o", "            archive_files+=(\"$file_path\")\r\n\u001b[?2004l\r"]
[167.515922, "o", "\u001b[?2004h"]
[167.515942, "o", "> "]
[167.515987, "o", "        fi\r\n\u001b[?2004l\r"]
[167.516015, "o", "\u001b[?2004h"]
[167.516032, "o", "> "]
[167.516071, "o", "    done\r\n\u001b[?2004l\r"]
[167.516099, "o", "\u001b[?2004h"]
[167.516118, "o", "> "]
[167.51614, "o", "    \r\n\u001b[?2004l\r"]
[167.516167, "o", "\u001b[?2004h"]
[167.516186, "o", "> "]
[167.51628, "o", "    # Create symlinks\r\n\u001b[?2004l\r"]
[167.516306, "o", "\u001b[?2004h"]
[167.516324, "o", "> "]
[167.516476, "o", "    if [ -n \"$latest_file\" ]; then\r\n\u001b[?2004l\r"]
[167.516506, "o", "\u001b[?2004h"]
[167.516524, "o", "> "]
[167.516848, "o", "        echo \"Creating symlinks for latest: $(basename \"$latest_file\")\"\r\n\u001b[?2004l\r"]
[167.516886, "o", "\u001b[?2004h"]
[167.51691, "o", "> "]
[167.516934, "o", "        \r\n\u001b[?2004l\r"]
[167.516962, "o", "\u001b[?2004h"]
[167.516984, "o", "> "]
[167.517141, "o", "        # Relative path for symlinks\r\n"]
[167.517174, "o", "\u001b[?2004l\r\u001b[?2004h"]
[167.517195, "o", "> "]
[167.517549, "o", "        relative_latest=$(realpath --relative-to=\"$PROCESSED_DIR\" \"$latest_file\")\r\n\u001b[?2004l\r"]
[167.517584, "o", "\u001b[?2004h> "]
[167.51764, "o", "        \r\n\u001b[?2004l\r"]
[167.517668, "o", "\u001b[?2004h"]
[167.517686, "o", "> "]
[167.517956, "o", "        ln -sf \"$relative_latest\" \"$PROCESSED_DIR/latest.csv\"\r\n\u001b[?2004l\r"]
[167.518013, "o", "\u001b[?2004h> "]
[167.51828, "o", "        ln -sf \"$relative_latest\" \"$PROCESSED_DIR/previous.csv\"\r\n\u001b[?2004l\r"]
[167.518309, "o", "\u001b[?2004h"]
[167.518339, "o", "> "]
[167.518371, "o", "        \r\n\u001b[?2004l\r"]
[167.5184, "o", "\u001b[?2004h"]
[167.518429, "o", "> "]
[167.518849, "o", "        relative_latest_per_service=$(realpath --relative-to=\"$PER_SERVICE_DIR\" \"$latest_file\")\r\n\u001b[?2004l\r"]
[167.518893, "o", "\u001b[?2004h> "]
[167.518931, "o", "        \r\n\u001b[?2004l\r"]
[167.51896, "o", "\u001b[?2004h"]
[167.518987, "o", "> "]
[167.51933, "o", "        ln -sf \"$relative_latest_per_service\" \"$PER_SERVICE_DIR/compute_v2.csv\"\r\n\u001b[?2004l\r"]
[167.519359, "o", "\u001b[?2004h"]
[167.519387, "o", "> "]
[167.519737, "o", "        ln -sf \"$relative_latest_per_service\" \"$PER_SERVICE_DIR/network_v2.csv\"\r\n\u001b[?2004l\r"]
[167.519779, "o", "\u001b[?2004h> "]
[167.520128, "o", "        ln -sf \"$relative_latest_per_service\" \"$PER_SERVICE_DIR/storage_v2.csv\"\r\n\u001b[?2004l\r"]
[167.520159, "o", "\u001b[?2004h"]
[167.52019, "o", "> "]
[167.520218, "o", "    fi\r\n\u001b[?2004l\r"]
[167.520246, "o", "\u001b[?2004h> "]
[167.520277, "o", "    \r\n\u001b[?2004l\r"]
[167.520305, "o", "\u001b[?2004h"]
[167.520329, "o", "> "]
[167.520466, "o", "    # Archive older valid files\r\n\u001b[?2004l\r"]
[167.520492, "o", "\u001b[?2004h"]
[167.52052, "o", "> "]
[167.520735, "o", "    for archive_file in \"${archive_files[@]}\"; do\r\n\u001b[?2004l\r"]
[167.520763, "o", "\u001b[?2004h"]
[167.520794, "o", "> "]
[167.520956, "o", "        if [ -n \"$archive_file\" ]; then\r\n\u001b[?2004l\r"]
[167.521008, "o", "\u001b[?2004h> "]
[167.521215, "o", "            filename=$(basename \"$archive_file\")\r\n\u001b[?2004l\r"]
[167.521242, "o", "\u001b[?2004h"]
[167.521268, "o", "> "]
[167.521435, "o", "            echo \"Archiving: $filename\"\r\n\u001b[?2004l\r"]
[167.521478, "o", "\u001b[?2004h> "]
[167.521732, "o", "            mv \"$archive_file\" \"$ARCHIVE_DIR/\"\r\n\u001b[?2004l\r"]
[167.521763, "o", "\u001b[?2004h"]
[167.52179, "o", "> "]
[167.521832, "o", "        fi\r\n\u001b[?2004l\r"]
[167.521862, "o", "\u001b[?2004h"]
[167.521878, "o", "> "]
[167.521923, "o", "    done\r\n\u001b[?2004l\r"]
[167.521948, "o", "\u001b[?2004h"]
[167.521975, "o", "> "]
[167.522001, "o", "    \r\n"]
[167.522029, "o", "\u001b[?2004l\r\u001b[?2004h> "]
[167.522159, "o", "    # Generate audit chain\r\n\u001b[?2004l\r"]
[167.522191, "o", "\u001b[?2004h> "]
[167.522355, "o", "    if [ -n \"$latest_file\" ]; then\r\n\u001b[?2004l\r"]
[167.522395, "o", "\u001b[?2004h"]
[167.522423, "o", "> "]
[167.52259, "o", "        echo \"Generating audit chain...\"\r\n\u001b[?2004l\r"]
[167.522639, "o", "\u001b[?2004h> "]
[167.522884, "o", "        audit_seed=${AUDIT_SEED:-\"default_seed_value\"}\r\n\u001b[?2004l\r"]
[167.522933, "o", "\u001b[?2004h> "]
[167.522983, "o", "        \r\n\u001b[?2004l\r"]
[167.523022, "o", "\u001b[?2004h> "]
[167.523174, "o", "        # Ensure ISO-8859-1 encoding\r\n\u001b[?2004l\r"]
[167.523211, "o", "\u001b[?2004h"]
[167.523241, "o", "> "]
[167.523705, "o", "        iconv -f UTF-8 -t ISO-8859-1 \"$AUDIT_FILE\" > \"$AUDIT_FILE.tmp\" && mv \"$AUDIT_FILE.tmp\" \"$AUDIT_FILE\"\r\n\u001b[?2004l\r"]
[167.523753, "o", "\u001b[?2004h> "]
[167.523783, "o", "        \r\n\u001b[?2004l\r"]
[167.523812, "o", "\u001b[?2004h"]
[167.523833, "o", "> "]
[167.524147, "o", "        chain_hash=$(echo -n \"$audit_seed\" | sha256sum | cut -d' ' -f1)\r\n\u001b[?2004l\r"]
[167.524171, "o", "\u001b[?2004h"]
[167.524189, "o", "> "]
[167.524228, "o", "        \r\n\u001b[?2004l\r"]
[167.52426, "o", "\u001b[?2004h"]
[167.524276, "o", "> "]
[167.524481, "o", "        # Process symlinks in specified order\r\n\u001b[?2004l\r"]
[167.524521, "o", "\u001b[?2004h"]
[167.524536, "o", "> "]
[167.524667, "o", "        symlinks=(\r\n\u001b[?2004l\r"]
[167.524694, "o", "\u001b[?2004h> "]
[167.524852, "o", "            \"processed/latest.csv\"\r\n\u001b[?2004l\r"]
[167.524879, "o", "\u001b[?2004h"]
[167.524899, "o", "> "]
[167.525061, "o", "            \"processed/previous.csv\" \r\n\u001b[?2004l\r"]
[167.525093, "o", "\u001b[?2004h"]
[167.525111, "o", "> "]
[167.525292, "o", "            \"per_service/compute_v2.csv\"\r\n\u001b[?2004l\r"]
[167.525325, "o", "\u001b[?2004h"]
[167.525344, "o", "> "]
[167.525525, "o", "            \"per_service/network_v2.csv\"\r\n\u001b[?2004l\r"]
[167.52556, "o", "\u001b[?2004h> "]
[167.525756, "o", "            \"per_service/storage_v2.csv\"\r\n\u001b[?2004l\r"]
[167.525794, "o", "\u001b[?2004h> "]
[167.52584, "o", "        )\r\n\u001b[?2004l\r"]
[167.52587, "o", "\u001b[?2004h"]
[167.525888, "o", "> "]
[167.525932, "o", "        \r\n\u001b[?2004l\r"]
[167.525962, "o", "\u001b[?2004h"]
[167.525982, "o", "> "]
[167.526175, "o", "        for symlink in \"${symlinks[@]}\"; do\r\n\u001b[?2004l\r"]
[167.526199, "o", "\u001b[?2004h"]
[167.526217, "o", "> "]
[167.526456, "o", "            target=$(readlink -m \"$BASE_DIR/$symlink\")\r\n\u001b[?2004l\r"]
[167.526487, "o", "\u001b[?2004h"]
[167.526507, "o", "> "]
[167.526563, "o", "            \r\n\u001b[?2004l\r"]
[167.526595, "o", "\u001b[?2004h"]
[167.526638, "o", "> "]
[167.5268, "o", "            if [ ! -f \"$target\" ]; then\r\n\u001b[?2004l\r"]
[167.526838, "o", "\u001b[?2004h> "]
[167.52719, "o", "                echo \"ERROR: Target file $target for $symlink does not exist\"\r\n\u001b[?2004l\r"]
[167.527216, "o", "\u001b[?2004h"]
[167.527237, "o", "> "]
[167.527344, "o", "                continue\r\n\u001b[?2004l\r"]
[167.527369, "o", "\u001b[?2004h"]
[167.527393, "o", "> "]
[167.527454, "o", "            fi\r\n\u001b[?2004l\r"]
[167.527482, "o", "\u001b[?2004h"]
[167.527503, "o", "> "]
[167.527556, "o", "            \r\n\u001b[?2004l\r"]
[167.527584, "o", "\u001b[?2004h"]
[167.527604, "o", "> "]
[167.527965, "o", "            # Calculate SHA1 of content (handle UTF-16 conversion if needed)\r\n\u001b[?2004l\r"]
[167.527995, "o", "\u001b[?2004h> "]
[167.528241, "o", "            if file \"$target\" | grep -q 'UTF-16'; then\r\n\u001b[?2004l\r"]
[167.528272, "o", "\u001b[?2004h> "]
[167.528756, "o", "                content_hash=$(iconv -f UTF-16 -t UTF-8 \"$target\" | sha1sum | cut -d' ' -f1 | tr -d '\\n')\r\n\u001b[?2004l\r"]
[167.528806, "o", "\u001b[?2004h> "]
[167.528881, "o", "            else\r\n\u001b[?2004l\r"]
[167.52891, "o", "\u001b[?2004h"]
[167.528932, "o", "> "]
[167.529276, "o", "                content_hash=$(sha1sum \"$target\" | cut -d' ' -f1 | tr -d '\\n')\r\n\u001b[?2004l\r"]
[167.529301, "o", "\u001b[?2004h"]
[167.529321, "o", "> "]
[167.529385, "o", "            fi\r\n\u001b[?2004l\r"]
[167.529414, "o", "\u001b[?2004h"]
[167.529436, "o", "> "]
[167.529492, "o", "            \r\n\u001b[?2004l\r"]
[167.529522, "o", "\u001b[?2004h"]
[167.529541, "o", "> "]
[167.529723, "o", "            # Get relative target path\r\n\u001b[?2004l\r"]
[167.529751, "o", "\u001b[?2004h"]
[167.529769, "o", "> "]
[167.530199, "o", "            target_relative=$(realpath --relative-to=\"$(dirname \"$BASE_DIR/$symlink\")\" \"$target\")\r\n\u001b[?2004l\r"]
[167.530224, "o", "\u001b[?2004h"]
[167.530248, "o", "> "]
[167.5303, "o", "            \r\n\u001b[?2004l\r"]
[167.530325, "o", "\u001b[?2004h"]
[167.530368, "o", "> "]
[167.53048, "o", "            # Prepare CSV line\r\n\u001b[?2004l\r"]
[167.530512, "o", "\u001b[?2004h"]
[167.530538, "o", "> "]
[167.530957, "o", "            csv_line=\"${symlink#*$BASE_DIR/},${target_relative},${content_hash},${chain_hash}\"\r\n\u001b[?2004l\r"]
[167.530993, "o", "\u001b[?2004h"]
[167.531016, "o", "> "]
[167.531065, "o", "            \r\n\u001b[?2004l\r"]
[167.531096, "o", "\u001b[?2004h"]
[167.531123, "o", "> "]
[167.531316, "o", "            # Write to audit file (ISO-8859-1)\r\n\u001b[?2004l\r"]
[167.531346, "o", "\u001b[?2004h"]
[167.531381, "o", "> "]
[167.531719, "o", "            echo -n \"$csv_line\" | iconv -f UTF-8 -t ISO-8859-1 >> \"$AUDIT_FILE\"\r\n\u001b[?2004l\r"]
[167.531748, "o", "\u001b[?2004h"]
[167.531768, "o", "> "]
[167.531821, "o", "            \r\n\u001b[?2004l\r"]
[167.53185, "o", "\u001b[?2004h"]
[167.531865, "o", "> "]
[167.532044, "o", "            # Calculate next chain hash\r\n"]
[167.532071, "o", "\u001b[?2004l\r"]
[167.532082, "o", "\u001b[?2004h"]
[167.53211, "o", "> "]
[167.53243, "o", "            chain_hash=$(echo -n \"$csv_line\" | sha256sum | cut -d' ' -f1)\r\n\u001b[?2004l\r"]
[167.532463, "o", "\u001b[?2004h> "]
[167.53252, "o", "        done\r\n\u001b[?2004l\r"]
[167.532548, "o", "\u001b[?2004h"]
[167.532568, "o", "> "]
[167.532605, "o", "        \r\n\u001b[?2004l\r"]
[167.532641, "o", "\u001b[?2004h"]
[167.532661, "o", "> "]
[167.532873, "o", "        echo \"Audit chain created successfully.\"\r\n"]
[167.532894, "o", "\u001b[?2004l\r"]
[167.532918, "o", "\u001b[?2004h> "]
[167.532965, "o", "    else\r\n\u001b[?2004l\r"]
[167.532995, "o", "\u001b[?2004h"]
[167.533021, "o", "> "]
[167.533277, "o", "        echo \"No valid files to process for audit chain.\"\r\n\u001b[?2004l\r"]
[167.533303, "o", "\u001b[?2004h"]
[167.533328, "o", "> "]
[167.533361, "o", "    fi\r\n\u001b[?2004l\r"]
[167.533391, "o", "\u001b[?2004h"]
[167.533412, "o", "> "]
[167.533445, "o", "    \r\n\u001b[?2004l\r"]
[167.533474, "o", "\u001b[?2004h> "]
[167.533632, "o", "    echo \"Processing complete.\"\r\n\u001b[?2004l\r"]
[167.533659, "o", "\u001b[?2004h"]
[167.533679, "o", "> "]
[167.5337, "o", "else\r\n\u001b[?2004l\r"]
[167.53373, "o", "\u001b[?2004h"]
[167.533752, "o", "> "]
[167.533967, "o", "    echo \"No valid files found for processing.\"\r\n\u001b[?2004l\r"]
[167.533998, "o", "\u001b[?2004h"]
[167.534021, "o", "> "]
[167.534044, "o", "fi\r\n\u001b[?2004l\r"]
[167.534063, "o", "\u001b[?2004h"]
[167.53408, "o", "> "]
[167.534099, "o", "EOF\r\n\u001b[?2004l\r"]
[167.535408, "o", "\u001b[?2004h"]
[167.535455, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[168.276362, "i", "chmod +x process_cloud_costs.sh\n"]
[168.276703, "o", "chmod +x process_cloud_costs.sh\r\n"]
[168.276736, "o", "\u001b[?2004l\r"]
[168.277886, "o", "\u001b[?2004h"]
[168.277906, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[168.418852, "i", "echo \"Comprehensive processing script created and ready for execution when valid files are available.\"\n"]
[168.419197, "o", "echo \"Comprehensive processing script created and ready for execution when valid files are available.\"\r\n\u001b[?2004l\r"]
[168.419267, "o", "Comprehensive processing script created and ready for execution when valid files are available.\r\n"]
[168.4193, "o", "\u001b[?2004h"]
[168.419321, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[184.711805, "i", "echo \"Testing processing script with current files...\"\n"]
[184.712117, "o", "echo \"Testing processing script with current files...\"\r\n\u001b[?2004l\r"]
[184.712167, "o", "Testing processing script with current files...\r\n"]
[184.712218, "o", "\u001b[?2004h"]
[184.712239, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[184.821463, "i", "./process_cloud_costs.sh\n"]
[184.821599, "o", "./process_cloud_costs.sh\r\n\u001b[?2004l\r"]
[184.822953, "o", "Cloud Cost Compliance Processor - Starting...\r\n"]
[184.829396, "o", "Validating files in /home/user/cloud_costs/monthly...\r\n"]
[184.831524, "o", "Skipping cost_2023-05.csv - Below minimum size (63 < 1024)\r\n"]
[184.833465, "o", "Skipping cost_2023-06.csv - Below minimum size (63 < 1024)\r\n"]
[184.835439, "o", "Skipping cost_2023-07_v2.csv - Below minimum size (126 < 1024)\r\n"]
[184.837472, "o", "Skipping cost_2023-08_draft.csv - Below minimum size (24 < 1024)\r\n"]
[184.839763, "o", "Skipping cost_2023-09_tiny.csv - Below minimum size (24 < 1024)\r\n"]
[184.841697, "o", "Skipping old_data.txt - Invalid filename pattern\r\n"]
[184.841819, "o", "No valid files found for processing.\r\n"]
[184.842134, "o", "\u001b[?2004h"]
[184.842156, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[185.837793, "i", "echo \"Final directory structure verification:\"\n"]
[185.837968, "o", "echo \"Final directory structure verification:\"\r\n\u001b[?2004l\r"]
[185.838021, "o", "Final directory structure verification:\r\n"]
[185.838057, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[186.00276, "i", "find . -type f -name \"*.csv\" -o -type f -name \"*.sh\" -o -type f -name \"*.ini\" | head -20\n"]
[186.003056, "o", "find . -type f -name \"*.csv\" -o -type f -name \"*.sh\" -o -type f -name \"*.ini\" | head -20\r\n\u001b[?2004l\r"]
[186.004941, "o", "./monthly/cost_2023-05.csv\r\n./monthly/cost_2023-06.csv\r\n./monthly/cost_2023-07_v2.csv\r\n./monthly/cost_2023-08_draft.csv\r\n./monthly/cost_2023-09_tiny.csv\r\n./validate_files.sh\r\n./cleanup_broken_links.sh\r\n"]
[186.005002, "o", "./process_cloud_costs.sh\r\n"]
[186.005207, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[186.13621, "i", "ls -la processed/\n"]
[186.136331, "o", "ls -la processed/\r\n\u001b[?2004l\r"]
[186.137673, "o", "total 0\r\n"]
[186.137707, "o", "drwxr-xr-x 1 root root  32 Feb 13 18:58 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root 171 Feb 13 18:59 \u001b[01;34m..\u001b[0m\r\n"]
[186.137735, "o", "lrwxrwxrwx 1 root root  18 Feb 13 18:51 \u001b[40;31;01mfuture_plan.csv\u001b[0m -> \u001b[40;31;01m../future/2024.csv\u001b[0m\r\n"]
[186.13794, "o", "\u001b[?2004h"]
[186.137968, "o", "root@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[186.335369, "i", "ls -la archive/\n"]
[186.335558, "o", "ls -la archive/\r\n\u001b[?2004l\r"]
[186.336945, "o", "total 0\r\n"]
[186.336993, "o", "drwxr-xr-x 2 root root  10 Feb 13 18:57 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root 171 Feb 13 18:59 \u001b[01;34m..\u001b[0m\r\n"]
[186.337222, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
[186.459456, "i", "ls -la per_service/\n"]
[186.459578, "o", "ls -la per_service/\r\n\u001b[?2004l\r"]
[186.460853, "o", "total 0\r\n"]
[186.460906, "o", "drwxr-xr-x 2 root root  10 Feb 13 18:57 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root 171 Feb 13 18:59 \u001b[01;34m..\u001b[0m\r\n"]
[186.461109, "o", "\u001b[?2004hroot@7307115a-6068-4a9c-8ca8-375cf3a5e3f8:/home/user/cloud_costs# "]
