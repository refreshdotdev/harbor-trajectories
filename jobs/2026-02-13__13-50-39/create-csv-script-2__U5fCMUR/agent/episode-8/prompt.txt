New Terminal Output:

root@bff6ad84-8ae6-4892-9247-81dcae4b04d9:/home/user/inventory# awk -F' -> ' '{print $1}' legacy_map.conf > old_names.txt
root@bff6ad84-8ae6-4892-9247-81dcae4b04d9:/home/user/inventory# awk -F' -> ' '{print $2}' legacy_map.conf > new_names.txt
root@bff6ad84-8ae6-4892-9247-81dcae4b04d9:/home/user/inventory# awk -F, 'NR==1 {next} !/^ *#/ {if ((\$4 == 2) || system("grep -q ^\"\$1\" old_names.txt")) {if (
system("grep -q ^\"\$1\" old_names.txt")) {while (getline < "new_names.txt") {if (\$0 ~ "^"\$1"/" ) {server=\$2; break}} } else {server=\$1}; permit=\$5; gsub(/
prohibit-password/, "without-password", permit); gsub(/forced-commands-only/, "no", permit); print server " | " permit } }' ssh_audit_utf8.csv | sort | unix2dos
 > ssh_root_status.txt
awk: cmd. line:1: NR==1 {next} !/^ *#/ {if ((\$4 == 2) || system("grep -q ^\"\$1\" old_names.txt")) {if (system("grep -q ^\"\$1\" old_names.txt")) {while (getli
ne < "new_names.txt") {if (\$0 ~ "^"\$1"/" ) {server=\$2; break}} } else {server=\$1}; permit=\$5; gsub(/prohibit-password/, "without-password", permit); gsub(/
forced-commands-only/, "no", permit); print server " | " permit } }
awk: cmd. line:1:                            ^ backslash not last character on line
awk: cmd. line:1: NR==1 {next} !/^ *#/ {if ((\$4 == 2) || system("grep -q ^\"\$1\" old_names.txt")) {if (system("grep -q ^\"\$1\" old_names.txt")) {while (getli
ne < "new_names.txt") {if (\$0 ~ "^"\$1"/" ) {server=\$2; break}} } else {server=\$1}; permit=\$5; gsub(/prohibit-password/, "without-password", permit); gsub(/
forced-commands-only/, "no", permit); print server " | " permit } }
awk: cmd. line:1:                            ^ syntax error
root@bff6ad84-8ae6-4892-9247-81dcae4b04d9:/home/user/inventory#


