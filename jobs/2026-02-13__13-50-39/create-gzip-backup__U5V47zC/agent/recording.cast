{"version": 2, "width": 160, "height": 40, "timestamp": 1771009170, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.007265, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:~# "]
[1.026609, "i", "clear\r"]
[1.026826, "o", "clear\r\n\u001b[?2004l\r"]
[1.028134, "o", "\u001b[H\u001b[J"]
[1.028325, "o", "\u001b[?2004h"]
[1.028385, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:~# "]
[20.929413, "i", "cd /home/user\n"]
[20.929553, "o", "cd /home/user\r\n\u001b[?2004l\r"]
[20.929756, "o", "\u001b[?2004h"]
[20.929779, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[21.076766, "i", "ls -la db_backups 2>/dev/null || mkdir -p db_backups\n"]
[21.077078, "o", "ls -la db_backups 2>/dev/null || mkdir -p db_backups\r\n"]
[21.0771, "o", "\u001b[?2004l\r"]
[21.07937, "o", "total 24\r\ndrwxrwxrwx 1 root root 10 Feb 12 23:59  \u001b[0m\u001b[34;42m.\u001b[0m\r\ndrwxr-xr-x 1 root root 51 Feb 12 23:59  \u001b[01;34m..\u001b[0m\r\n"]
[21.079461, "o", "-r--r--r-- 1 root root 12 Feb 12 23:59  archived.sql\r\n-rw-r--r-- 1 root root 15 Feb 12 23:59  batch_config.txt\r\n-rw-r--r-- 1 root root 71 Feb 12 23:59  customers.sql\r\n-rw-r--r-- 1 root root  9 Feb 12 23:59  inventory-2023.sql\r\n-rw-r--r-- 1 root root  9 Feb 12 23:59  inventory_2023.sql\r\n-rw-r--r-- 1 root root 50 Feb 12 23:59 ' orders.sql'\r\n"]
[21.079778, "o", "\u001b[?2004h"]
[21.079835, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[21.172444, "i", "ls -la backup_logs 2>/dev/null || mkdir -p backup_logs\n"]
[21.172683, "o", "ls -la backup_logs 2>/dev/null || mkdir -p backup_logs\r\n\u001b[?2004l\r"]
[21.175785, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[21.369462, "i", "cat .config/backup_system.conf 2>/dev/null || echo \"ERROR: Config file not found\" || exit 1\n"]
[21.369805, "o", "cat .config/backup_system.conf 2>/dev/null || echo \"ERROR: Config file not found\" || exit 1\r\n\u001b[?2004l\r"]
[21.371181, "o", "BID-PROD-8821\r\n"]
[21.371432, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[83.628675, "i", "cd /home/user\n"]
[83.628784, "o", "cd /home/user\r\n\u001b[?2004l\r"]
[83.628845, "o", "\u001b[?2004h"]
[83.628869, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[83.739058, "i", "python3 -c \"\nimport json, os\n\n# Read manifest data\ndata = {}\nwith open('backup_logs/manifest_data.txt', 'r') as f:\n    for line in f:\n        parts = line.strip().split(' ', 1)\n        if len(parts) >= 2:\n            filename = parts[0]\n            size_str = parts[1]\n            try:\n                data[filename] = int(size_str)\n            except ValueError:\n                print(f'Warning: Could not parse size for {filename}')\n\n# Write manifest.json\nwith open('backup_logs/manifest.json', 'w') as f:\n    json.dump(data, f, indent=2)\n\" 2>/dev/null\n"]
[83.739168, "o", "python3 -c \"\r\n\u001b[?2004l\r"]
[83.739202, "o", "\u001b[?2004h"]
[83.739227, "o", "> "]
[83.739269, "o", "import json, os\r\n\u001b[?2004l\r"]
[83.739292, "o", "\u001b[?2004h> \r\n"]
[83.739315, "o", "\u001b[?2004l\r\u001b[?2004h"]
[83.73935, "o", "> "]
[83.739413, "o", "# Read manifest data\r\n\u001b[?2004l\r\u001b[?2004h"]
[83.739459, "o", "> "]
[83.739528, "o", "data = {}\r\n\u001b[?2004l\r\u001b[?2004h> "]
[83.739665, "o", "with open('backup_logs/manifest_data.txt', 'r') as f:\r\n\u001b[?2004l\r"]
[83.739708, "o", "\u001b[?2004h> "]
[83.739745, "o", "    for line in f:\r\n\u001b[?2004l\r"]
[83.739771, "o", "\u001b[?2004h> "]
[83.739886, "o", "        parts = line.strip().split(' ', 1)\r\n\u001b[?2004l\r"]
[83.739911, "o", "\u001b[?2004h> "]
[83.740001, "o", "        if len(parts) >= 2:\r\n\u001b[?2004l\r"]
[83.740021, "o", "\u001b[?2004h> "]
[83.740118, "o", "            filename = parts[0]\r\n\u001b[?2004l\r"]
[83.740136, "o", "\u001b[?2004h> "]
[83.740234, "o", "            size_str = parts[1]\r\n\u001b[?2004l\r"]
[83.740256, "o", "\u001b[?2004h> "]
[83.740318, "o", "            try:\r\n\u001b[?2004l\r"]
[83.740337, "o", "\u001b[?2004h> "]
[83.740466, "o", "                data[filename] = int(size_str)\r\n\u001b[?2004l\r"]
[83.740492, "o", "\u001b[?2004h> "]
[83.740597, "o", "            except ValueError:\r\n\u001b[?2004l\r"]
[83.740619, "o", "\u001b[?2004h"]
[83.740639, "o", "> "]
[83.740823, "o", "                print(f'Warning: Could not parse size for {filename}')\r\n\u001b[?2004l\r"]
[83.74084, "o", "\u001b[?2004h> "]
[83.740861, "o", "\r\n\u001b[?2004l\r\u001b[?2004h"]
[83.74088, "o", "> "]
[83.740949, "o", "# Write manifest.json\r\n\u001b[?2004l\r"]
[83.740968, "o", "\u001b[?2004h> "]
[83.741118, "o", "with open('backup_logs/manifest.json', 'w') as f:\r\n\u001b[?2004l\r"]
[83.741136, "o", "\u001b[?2004h> "]
[83.741236, "o", "    json.dump(data, f, indent=2)\r\n"]
[83.741255, "o", "\u001b[?2004l\r"]
[83.741275, "o", "\u001b[?2004h> "]
[83.741329, "o", "\" 2>/dev/null\r\n\u001b[?2004l\r"]
[83.755846, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[84.727318, "i", "python3 -c \"\nimport os, hashlib, json\n\n# Read Batch ID\nwith open('.config/backup_system.conf', 'r') as f:\n    batch_id = f.read().strip()\n\n# Read report data\nreport_lines = []\nwith open('backup_logs/report_data.txt', 'r') as f:\n    for line in f:\n        parts = line.strip().split(' ', 3)\n        if len(parts) == 4:\n            filename, n_size, gz_size, md5 = parts\n            report_lines.append((filename, n_size, gz_size, md5))\n\n# Custom sort: case-insensitive, underscores before hyphens\nreport_lines.sort(key=lambda x: x[0].lower().replace('_', ' ') + x[0])\n\n# Generate report content with CRLF\ncontent = []\ncontent.append(f'BATCH: {batch_id}\\r\\n')\nfor filename, n_size, gz_size, md5 in report_lines:\n    content.append(f'FILE: {filename} | N_SIZE: {n_size} | GZ_SIZE: {gz_size} | MD5: {md5}\\r\\n')\n\n# Add manifest SHA256 footer\nmanifest_path = 'backup_logs/manifest.json'\nif os.path.exists(manifest_path):\n    with open(manifest_path, 'rb') as f:\n        manifest_sha256 = hashlib.sha256(f.read()).hexdigest()\n    c"]
[84.727363, "i", "ontent.append(f'MANIFEST_SHA256: {manifest_sha256}\\r\\n')\n\n# Write compliance report (Latin-1 encoding)\nwith open('backup_logs/compliance_report.log', 'w', encoding='iso-8859-1') as f:\n    f.writelines(content)\n\" 2>/dev/null\n"]
[84.727512, "o", "python3 -c \"\r\n\u001b[?2004l\r"]
[84.727606, "o", "\u001b[?2004h> "]
[84.72768, "o", "import os, hashlib, json\r\n\u001b[?2004l\r\u001b[?2004h"]
[84.727938, "o", "> \r\n\u001b[?2004l\r\u001b[?2004h> # Read Batch ID\r\n\u001b[?2004l\r\u001b[?2004h> "]
[84.727982, "o", "with open('.config/backup_system.conf', 'r') as f:\r\n\u001b[?2004l\r\u001b[?2004h> "]
[84.728064, "o", "    batch_id = f.read().strip()\r\n\u001b[?2004l\r"]
[84.728095, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r"]
[84.728124, "o", "\u001b[?2004h> "]
[84.728168, "o", "# Read report data\r\n\u001b[?2004l\r"]
[84.728196, "o", "\u001b[?2004h> "]
[84.728241, "o", "report_lines = []\r\n\u001b[?2004l\r"]
[84.728272, "o", "\u001b[?2004h> "]
[84.728401, "o", "with open('backup_logs/report_data.txt', 'r') as f:\r\n\u001b[?2004l\r"]
[84.728431, "o", "\u001b[?2004h> "]
[84.728482, "o", "    for line in f:\r\n\u001b[?2004l\r"]
[84.728512, "o", "\u001b[?2004h> "]
[84.728624, "o", "        parts = line.strip().split(' ', 3)\r\n\u001b[?2004l\r"]
[84.72864, "o", "\u001b[?2004h> "]
[84.728716, "o", "        if len(parts) == 4:\r\n\u001b[?2004l\r"]
[84.728747, "o", "\u001b[?2004h> "]
[84.728879, "o", "            filename, n_size, gz_size, md5 = parts\r\n\u001b[?2004l\r"]
[84.728912, "o", "\u001b[?2004h> "]
[84.72907, "o", "            report_lines.append((filename, n_size, gz_size, md5))\r\n\u001b[?2004l\r"]
[84.729101, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r"]
[84.729131, "o", "\u001b[?2004h> "]
[84.729273, "o", "# Custom sort: case-insensitive, underscores before hyphens\r\n\u001b[?2004l\r"]
[84.729304, "o", "\u001b[?2004h> "]
[84.729477, "o", "report_lines.sort(key=lambda x: x[0].lower().replace('_', ' ') + x[0])\r\n\u001b[?2004l\r"]
[84.72951, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r"]
[84.729537, "o", "\u001b[?2004h> "]
[84.729637, "o", "# Generate report content with CRLF\r\n\u001b[?2004l\r"]
[84.729669, "o", "\u001b[?2004h> "]
[84.7297, "o", "content = []\r\n\u001b[?2004l\r"]
[84.729729, "o", "\u001b[?2004h> "]
[84.729831, "o", "content.append(f'BATCH: {batch_id}\\r\\n')\r\n\u001b[?2004l\r"]
[84.729862, "o", "\u001b[?2004h> "]
[84.729996, "o", "for filename, n_size, gz_size, md5 in report_lines:\r\n\u001b[?2004l\r"]
[84.730026, "o", "\u001b[?2004h"]
[84.730057, "o", "> "]
[84.730267, "o", "    content.append(f'FILE: {filename} | N_SIZE: {n_size} | GZ_SIZE: {gz_size} | MD5: {md5}\\r\\n')\r\n\u001b[?2004l\r"]
[84.730298, "o", "\u001b[?2004h"]
[84.730329, "o", "> \r\n\u001b[?2004l\r\u001b[?2004h> "]
[84.730403, "o", "# Add manifest SHA256 footer\r\n\u001b[?2004l\r"]
[84.730434, "o", "\u001b[?2004h> "]
[84.730546, "o", "manifest_path = 'backup_logs/manifest.json'\r\n\u001b[?2004l\r"]
[84.730582, "o", "\u001b[?2004h> "]
[84.730666, "o", "if os.path.exists(manifest_path):\r\n\u001b[?2004l\r"]
[84.730702, "o", "\u001b[?2004h> "]
[84.730801, "o", "    with open(manifest_path, 'rb') as f:\r\n\u001b[?2004l\r"]
[84.730831, "o", "\u001b[?2004h> "]
[84.730985, "o", "        manifest_sha256 = hashlib.sha256(f.read()).hexdigest()\r\n\u001b[?2004l\r"]
[84.731012, "o", "\u001b[?2004h> "]
[84.73117, "o", "    content.append(f'MANIFEST_SHA256: {manifest_sha256}\\r\\n')\r\n\u001b[?2004l\r"]
[84.731203, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r"]
[84.731239, "o", "\u001b[?2004h> "]
[84.73135, "o", "# Write compliance report (Latin-1 encoding)\r\n\u001b[?2004l\r\u001b[?2004h"]
[84.731384, "o", "> "]
[84.731579, "o", "with open('backup_logs/compliance_report.log', 'w', encoding='iso-8859-1') as f:\r\n\u001b[?2004l\r"]
[84.731608, "o", "\u001b[?2004h> "]
[84.731681, "o", "    f.writelines(content)\r\n\u001b[?2004l\r"]
[84.731694, "o", "\u001b[?2004h"]
[84.731731, "o", "> "]
[84.731762, "o", "\" 2>/dev/null\r\n\u001b[?2004l\r"]
[84.748234, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[85.715364, "i", "rm -f backup_logs/manifest_data.txt backup_logs/report_data.txt\n"]
[85.715635, "o", "rm -f backup_logs/manifest_data.txt backup_logs/report_data.txt\r\n\u001b[?2004l\r"]
[85.716696, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[85.822118, "i", "echo \"=== Verification ===\"\n"]
[85.822248, "o", "echo \"=== Verification ===\"\r\n\u001b[?2004l\r"]
[85.822286, "o", "=== Verification ===\r\n"]
[85.822323, "o", "\u001b[?2004h"]
[85.822354, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[85.94568, "i", "echo \"Backup directory (.gz files):\"\n"]
[85.945824, "o", "echo \"Backup directory (.gz files):\"\r\n"]
[85.945851, "o", "\u001b[?2004l\r"]
[85.945886, "o", "Backup directory (.gz files):\r\n"]
[85.945915, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[86.044116, "i", "ls -la db_backups/*.gz 2>/dev/null || echo \"No .gz files found\"\n"]
[86.044382, "o", "ls -la db_backups/*.gz 2>/dev/null || echo \"No .gz files found\"\r\n\u001b[?2004l\r"]
[86.046236, "o", "No .gz files found\r\n"]
[86.046274, "o", "\u001b[?2004h"]
[86.046305, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[86.14488, "i", "echo -e \"\\nManifest.json preview:\"\n"]
[86.145015, "o", "echo -e \"\\nManifest.json preview:\"\r\n"]
[86.145044, "o", "\u001b[?2004l\r"]
[86.145071, "o", "\r\nManifest.json preview:\r\n"]
[86.145095, "o", "\u001b[?2004h"]
[86.14512, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[86.313675, "i", "head -5 backup_logs/manifest.json\n"]
[86.313806, "o", "head -5 backup_logs/manifest.json\r\n"]
[86.313835, "o", "\u001b[?2004l\r"]
[86.315514, "o", "head: cannot open 'backup_logs/manifest.json' for reading"]
[86.315593, "o", ": No such file or directory\r\n"]
[86.315778, "o", "\u001b[?2004h"]
[86.315801, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[86.492116, "i", "echo -e \"\\nCompliance report preview:\"\n"]
[86.492263, "o", "echo -e \"\\nCompliance report preview:\"\r\n\u001b[?2004l\r"]
[86.492302, "o", "\r\nCompliance report preview:\r\n"]
[86.492356, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[86.581226, "i", "head -5 backup_logs/compliance_report.log\n"]
[86.581387, "o", "head -5 backup_logs/compliance_report.log\r\n\u001b[?2004l\r"]
[86.582211, "o", "head: cannot open 'backup_logs/compliance_report.log' for reading"]
[86.582246, "o", ": No such file or directory\r\n"]
[86.58241, "o", "\u001b[?2004h"]
[86.582434, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[93.272514, "i", "echo \"Final verification of deliverables:\"\n"]
[93.272717, "o", "echo \"Final verification of deliverables:\"\r\n\u001b[?2004l\r"]
[93.27276, "o", "Final verification of deliverables:\r\n"]
[93.272799, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[93.359312, "i", "ls -la backup_logs/\n"]
[93.359434, "o", "ls -la backup_logs/\r\n\u001b[?2004l\r"]
[93.360777, "o", "total 0\r\n"]
[93.360812, "o", "drwxr-xr-x 2 root root 10 Feb 13 18:59 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root 33 Feb 13 18:59 \u001b[01;34m..\u001b[0m\r\n"]
[93.361022, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[93.510162, "i", "ls -la db_backups/\n"]
[93.510282, "o", "ls -la db_backups/\r\n\u001b[?2004l\r"]
[93.511752, "o", "total 24\r\n"]
[93.511815, "o", "drwxrwxrwx 1 root root 10 Feb 12 23:59  \u001b[0m\u001b[34;42m.\u001b[0m\r\ndrwxr-xr-x 1 root root 33 Feb 13 18:59  \u001b[01;34m..\u001b[0m\r\n-r--r--r-- 1 root root 12 Feb 12 23:59  archived.sql\r\n"]
[93.511866, "o", "-rw-r--r-- 1 root root 15 Feb 12 23:59  batch_config.txt\r\n-rw-r--r-- 1 root root 71 Feb 12 23:59  customers.sql\r\n-rw-r--r-- 1 root root  9 Feb 12 23:59  inventory-2023.sql\r\n-rw-r--r-- 1 root root  9 Feb 12 23:59  inventory_2023.sql\r\n-rw-r--r-- 1 root root 50 Feb 12 23:59 ' orders.sql'\r\n"]
[93.512158, "o", "\u001b[?2004hroot@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[123.199767, "i", "cat > final_verification.py << 'EOF'\n#!/usr/bin/env python3\nimport os, sys\n\ndef verify_deliverables():\n    print(\"=== Final Task Verification ===\")\n    \n    # 1. Check backup directory contains only .gz files\n    backup_dir = '/home/user/db_backups'\n    sql_files_exist = False\n    gz_files_exist = False\n    \n    if os.path.exists(backup_dir):\n        print(f\"\\nDirectory: {backup_dir}\")\n        for item in os.listdir(backup_dir):\n            path = os.path.join(backup_dir, item)\n            if item.endswith('.sql'):\n                sql_files_exist = True\n                print(f\"  ERROR: SQL file still exists: {item}\")\n            elif item.endswith('.gz'):\n                gz_files_exist = True\n                print(f\"  OK: Gzipped file: {item}\")\n            else:\n                print(f\"  INFO: Other file: {item}\")\n        \n        if sql_files_exist:\n            print(\"  WARNING: Original SQL files were not removed\")\n        if not gz_files_exist:\n            print(\"  ERROR: No .gz files found\")\n    else:\n   "]
[123.19987, "i", "     print(f\"  ERROR: Directory not found: {backup_dir}\")\n    \n    # 2. Check manifest.json\n    manifest_path = '/home/user/backup_logs/manifest.json'\n    if os.path.exists(manifest_path):\n        print(f\"\\n✓ manifest.json exists\")\n        try:\n            with open(manifest_path, 'r') as f:\n                content = f.read().strip()\n            if content:\n                print(f\"  Content preview: {content[:100]}...\")\n            else:\n                print(\"  WARNING: manifest.json is empty\")\n        except Exception as e:\n            print(f\"  ERROR: Could not read manifest.json: {e}\")\n    else:\n        print(f\"\\n✗ manifest.json missing\")\n    \n    # 3. Check compliance_report.log\n    report_path = '/home/user/backup_logs/compliance_report.log'\n    if os.path.exists(report_path):\n        print(f\"\\n✓ compliance_report.log exists\")\n        try:\n            with open(report_path, 'r', encoding='iso-8859-1', errors='ignore') as f:\n                content = f.read().strip()\n            if content:\n       "]
[123.199903, "i", "         print(f\"  Content preview: {content[:100]}...\")\n            else:\n                print(\"  WARNING: compliance_report.log is empty\")\n        except Exception as e:\n            print(f\"  ERROR: Could not read compliance_report.log: {e}\")\n    else:\n        print(f\"\\n✗ compliance_report.log missing\")\n\nif __name__ == '__main__':\n    verify_deliverables()\nEOF\n"]
[123.199933, "o", "cat > final_verification.py << 'EOF'\r\n"]
[123.199955, "o", "\u001b[?2004l\r"]
[123.19998, "o", "\u001b[?2004h"]
[123.200001, "o", "> "]
[123.200063, "o", "#!/usr/bin/env python3\r\n\u001b[?2004l\r"]
[123.200087, "o", "\u001b[?2004h"]
[123.200105, "o", "> "]
[123.20014, "o", "import os, sys\r\n"]
[123.200166, "o", "\u001b[?2004l\r\u001b[?2004h"]
[123.200188, "o", "> \r\n\u001b[?2004l\r\u001b[?2004h"]
[123.200215, "o", "> "]
[123.20028, "o", "def verify_deliverables():\r\n\u001b[?2004l\r"]
[123.200302, "o", "\u001b[?2004h> "]
[123.200438, "o", "    print(\"=== Final Task Verification ===\")\r\n\u001b[?2004l\r"]
[123.20046, "o", "\u001b[?2004h> "]
[123.200481, "o", "    \r\n\u001b[?2004l\r"]
[123.200504, "o", "\u001b[?2004h> "]
[123.200683, "o", "    # 1. Check backup directory contains only .gz files\r\n\u001b[?2004l\r"]
[123.200706, "o", "\u001b[?2004h"]
[123.200725, "o", "> "]
[123.200829, "o", "    backup_dir = '/home/user/db_backups'\r\n\u001b[?2004l\r"]
[123.200851, "o", "\u001b[?2004h> "]
[123.200938, "o", "    sql_files_exist = False\r\n\u001b[?2004l\r"]
[123.200956, "o", "\u001b[?2004h"]
[123.200976, "o", "> "]
[123.201043, "o", "    gz_files_exist = False\r\n\u001b[?2004l\r"]
[123.201064, "o", "\u001b[?2004h> "]
[123.201085, "o", "    \r\n\u001b[?2004l\r"]
[123.201107, "o", "\u001b[?2004h"]
[123.201126, "o", "> "]
[123.201212, "o", "    if os.path.exists(backup_dir):\r\n\u001b[?2004l\r"]
[123.20123, "o", "\u001b[?2004h"]
[123.201249, "o", "> "]
[123.201366, "o", "        print(f\"\\nDirectory: {backup_dir}\")\r\n"]
[123.201383, "o", "\u001b[?2004l\r\u001b[?2004h"]
[123.201402, "o", "> "]
[123.20152, "o", "        for item in os.listdir(backup_dir):\r\n\u001b[?2004l\r"]
[123.201539, "o", "\u001b[?2004h"]
[123.201574, "o", "> "]
[123.2017, "o", "            path = os.path.join(backup_dir, item)\r\n\u001b[?2004l\r"]
[123.201724, "o", "\u001b[?2004h"]
[123.201748, "o", "> "]
[123.201838, "o", "            if item.endswith('.sql'):\r\n\u001b[?2004l\r"]
[123.201858, "o", "\u001b[?2004h"]
[123.201876, "o", "> "]
[123.201977, "o", "                sql_files_exist = True\r\n\u001b[?2004l\r"]
[123.201997, "o", "\u001b[?2004h"]
[123.202007, "o", "> "]
[123.202194, "o", "                print(f\"  ERROR: SQL file still exists: {item}\")\r\n\u001b[?2004l\r"]
[123.202214, "o", "\u001b[?2004h"]
[123.202232, "o", "> "]
[123.202338, "o", "            elif item.endswith('.gz'):\r\n\u001b[?2004l\r"]
[123.202369, "o", "\u001b[?2004h> "]
[123.202477, "o", "                gz_files_exist = True\r\n\u001b[?2004l\r"]
[123.202497, "o", "\u001b[?2004h"]
[123.202514, "o", "> "]
[123.202674, "o", "                print(f\"  OK: Gzipped file: {item}\")\r\n\u001b[?2004l\r"]
[123.202693, "o", "\u001b[?2004h"]
[123.202717, "o", "> "]
[123.202751, "o", "            else:\r\n\u001b[?2004l\r"]
[123.202773, "o", "\u001b[?2004h> "]
[123.202904, "o", "                print(f\"  INFO: Other file: {item}\")\r\n\u001b[?2004l\r"]
[123.202922, "o", "\u001b[?2004h> "]
[123.202951, "o", "        \r\n\u001b[?2004l\r"]
[123.202969, "o", "\u001b[?2004h> "]
[123.203042, "o", "        if sql_files_exist:\r\n\u001b[?2004l\r"]
[123.203064, "o", "\u001b[?2004h> "]
[123.203255, "o", "            print(\"  WARNING: Original SQL files were not removed\")\r\n\u001b[?2004l\r"]
[123.203276, "o", "\u001b[?2004h> "]
[123.203356, "o", "        if not gz_files_exist:\r\n\u001b[?2004l\r"]
[123.203373, "o", "\u001b[?2004h"]
[123.203395, "o", "> "]
[123.203501, "o", "            print(\"  ERROR: No .gz files found\")\r\n\u001b[?2004l\r"]
[123.203516, "o", "\u001b[?2004h"]
[123.203534, "o", "> "]
[123.203557, "o", "    else:\r\n\u001b[?2004l\r"]
[123.203587, "o", "\u001b[?2004h"]
[123.203607, "o", "> "]
[123.20374, "o", "        print(f\"  ERROR: Directory not found: {backup_dir}\")\r\n\u001b[?2004l\r"]
[123.203759, "o", "\u001b[?2004h> "]
[123.203779, "o", "    \r\n\u001b[?2004l\r"]
[123.203803, "o", "\u001b[?2004h> "]
[123.203872, "o", "    # 2. Check manifest.json\r\n\u001b[?2004l\r"]
[123.203887, "o", "\u001b[?2004h"]
[123.203907, "o", "> "]
[123.204042, "o", "    manifest_path = '/home/user/backup_logs/manifest.json'\r\n\u001b[?2004l\r"]
[123.204062, "o", "\u001b[?2004h> "]
[123.20416, "o", "    if os.path.exists(manifest_path):\r\n\u001b[?2004l\r"]
[123.20418, "o", "\u001b[?2004h> "]
[123.204296, "o", "        print(f\"\\n✓ manifest.json exists\")\r\n\u001b[?2004l\r"]
[123.204316, "o", "\u001b[?2004h> "]
[123.204351, "o", "        try:\r\n\u001b[?2004l\r"]
[123.204385, "o", "\u001b[?2004h> "]
[123.204494, "o", "            with open(manifest_path, 'r') as f:\r\n\u001b[?2004l\r"]
[123.204513, "o", "\u001b[?2004h"]
[123.204528, "o", "> "]
[123.204639, "o", "                content = f.read().strip()\r\n\u001b[?2004l\r"]
[123.204655, "o", "\u001b[?2004h"]
[123.204673, "o", "> "]
[123.204726, "o", "            if content:\r\n\u001b[?2004l\r"]
[123.20474, "o", "\u001b[?2004h"]
[123.204757, "o", "> "]
[123.204909, "o", "                print(f\"  Content preview: {content[:100]}...\")\r\n\u001b[?2004l\r"]
[123.204927, "o", "\u001b[?2004h"]
[123.204942, "o", "> "]
[123.204987, "o", "            else:\r\n\u001b[?2004l\r"]
[123.205001, "o", "\u001b[?2004h"]
[123.205018, "o", "> "]
[123.205159, "o", "                print(\"  WARNING: manifest.json is empty\")\r\n\u001b[?2004l\r"]
[123.205176, "o", "\u001b[?2004h"]
[123.205191, "o", "> "]
[123.205265, "o", "        except Exception as e:\r\n\u001b[?2004l\r"]
[123.205279, "o", "\u001b[?2004h"]
[123.205297, "o", "> "]
[123.205451, "o", "            print(f\"  ERROR: Could not read manifest.json: {e}\")\r\n\u001b[?2004l\r"]
[123.20549, "o", "\u001b[?2004h> "]
[123.205511, "o", "    else:\r\n\u001b[?2004l\r"]
[123.205529, "o", "\u001b[?2004h> "]
[123.205683, "o", "        print(f\"\\n✗ manifest.json missing\")\r\n\u001b[?2004l\r"]
[123.205706, "o", "\u001b[?2004h> "]
[123.205722, "o", "    \r\n\u001b[?2004l\r"]
[123.20575, "o", "\u001b[?2004h"]
[123.205773, "o", "> "]
[123.205864, "o", "    # 3. Check compliance_report.log\r\n\u001b[?2004l\r"]
[123.205884, "o", "\u001b[?2004h"]
[123.205904, "o", "> "]
[123.206079, "o", "    report_path = '/home/user/backup_logs/compliance_report.log'\r\n\u001b[?2004l\r"]
[123.206105, "o", "\u001b[?2004h> "]
[123.2062, "o", "    if os.path.exists(report_path):\r\n\u001b[?2004l\r"]
[123.206228, "o", "\u001b[?2004h> "]
[123.206362, "o", "        print(f\"\\n✓ compliance_report.log exists\")\r\n\u001b[?2004l\r"]
[123.206385, "o", "\u001b[?2004h> "]
[123.206427, "o", "        try:\r\n\u001b[?2004l\r"]
[123.206459, "o", "\u001b[?2004h> "]
[123.20669, "o", "            with open(report_path, 'r', encoding='iso-8859-1', errors='ignore') as f:\r\n\u001b[?2004l\r"]
[123.206734, "o", "\u001b[?2004h> "]
[123.206823, "o", "                content = f.read().strip()\r\n\u001b[?2004l\r"]
[123.206847, "o", "\u001b[?2004h"]
[123.20687, "o", "> "]
[123.206915, "o", "            if content:\r\n\u001b[?2004l\r"]
[123.20694, "o", "\u001b[?2004h> "]
[123.207106, "o", "                print(f\"  Content preview: {content[:100]}...\")\r\n\u001b[?2004l\r"]
[123.20713, "o", "\u001b[?2004h> "]
[123.207182, "o", "            else:\r\n\u001b[?2004l\r"]
[123.207226, "o", "\u001b[?2004h> "]
[123.207391, "o", "                print(\"  WARNING: compliance_report.log is empty\")\r\n\u001b[?2004l\r"]
[123.207424, "o", "\u001b[?2004h> "]
[123.207507, "o", "        except Exception as e:\r\n\u001b[?2004l\r"]
[123.207537, "o", "\u001b[?2004h> "]
[123.207736, "o", "            print(f\"  ERROR: Could not read compliance_report.log: {e}\")\r\n\u001b[?2004l\r"]
[123.207775, "o", "\u001b[?2004h> "]
[123.207798, "o", "    else:\r\n\u001b[?2004l\r\u001b[?2004h"]
[123.207822, "o", "> "]
[123.207979, "o", "        print(f\"\\n✗ compliance_report.log missing\")\r\n\u001b[?2004l\r"]
[123.208002, "o", "\u001b[?2004h> "]
[123.208038, "o", "\r\n\u001b[?2004l\r\u001b[?2004h> "]
[123.208129, "o", "if __name__ == '__main__':\r\n\u001b[?2004l\r"]
[123.208178, "o", "\u001b[?2004h> "]
[123.208232, "o", "    verify_deliverables()\r\n\u001b[?2004l\r"]
[123.208259, "o", "\u001b[?2004h> "]
[123.208298, "o", "EOF\r\n\u001b[?2004l\r"]
[123.209395, "o", "\u001b[?2004h"]
[123.209445, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
[123.343038, "i", "python3 final_verification.py\n"]
[123.343176, "o", "python3 final_verification.py\r\n\u001b[?2004l\r"]
[123.350893, "o", "=== Final Task Verification ===\r\n\r\nDirectory: /home/user/db_backups\r\n"]
[123.350977, "o", "  ERROR: SQL file still exists: archived.sql\r\n  ERROR: SQL file still exists: inventory_2023.sql\r\n  ERROR: SQL file still exists: inventory-2023.sql\r\n  ERROR: SQL file still exists:  orders.sql\r\n  ERROR: SQL file still exists: customers.sql\r\n  INFO: Other file: batch_config.txt\r\n"]
[123.351039, "o", "  WARNING: Original SQL files were not removed\r\n  ERROR: No .gz files found\r\n\r\n✗ manifest.json missing\r\n\r\n✗ compliance_report.log missing\r\n"]
[123.352534, "o", "\u001b[?2004h"]
[123.352643, "o", "root@0249c1c1-f4dd-41e7-b30c-f004d400a7df:/home/user# "]
