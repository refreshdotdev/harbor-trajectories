{"version": 2, "width": 160, "height": 40, "timestamp": 1771009244, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.006819, "o", "\u001b[?2004h"]
[0.007388, "o", "root@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:~# "]
[0.925037, "i", "clear\r"]
[0.925154, "o", "clear\r\n\u001b[?2004l\r"]
[0.925988, "o", "\u001b[H\u001b[J"]
[0.926126, "o", "\u001b[?2004h"]
[0.926142, "o", "root@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:~# "]
[17.602166, "i", "cd /home/user/datasets\n"]
[17.602292, "o", "cd /home/user/datasets\r\n\u001b[?2004l\r"]
[17.602407, "o", "\u001b[?2004h"]
[17.602425, "o", "root@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets# "]
[17.710008, "i", "mkdir -p organized/png_large organized/jpg_old organized/misc_small\n"]
[17.710562, "o", "mkdir -p organized/png_large organized/jpg_old organized/misc_small"]
[17.711074, "o", "\r\n\u001b[?2004l\r"]
[17.714081, "o", "\u001b[?2004h"]
[17.714103, "o", "root@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets# "]
[17.81921, "i", "touch organized/organize_log.tsv organized/summary.json\n"]
[17.819475, "o", "touch organized/organize_log.tsv organized/summary.json\r\n"]
[17.819576, "o", "\u001b[?2004l\r"]
[17.820971, "o", "\u001b[?2004hroot@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets# "]
[17.992743, "i", "cd organized\n"]
[17.992888, "o", "cd organized\r\n\u001b[?2004l\r"]
[17.992974, "o", "\u001b[?2004hroot@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets/organized# "]
[35.364987, "i", "moved_count=0; copied_count=0; total_bytes=0\n"]
[35.365277, "o", "moved_count=0; copied_count=0; total_bytes=0\r\n\u001b[?2004l\r"]
[35.365416, "o", "\u001b[?2004h"]
[35.365429, "o", "root@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets/organized# "]
[35.448891, "i", "echo -e \"original_path\\tnew_absolute_path\\tsize_bytes\\tmtime_epoch\\tmd5_hash\" > organize_log.tsv\n"]
[35.449226, "o", "echo -e \"original_path\\tnew_absolute_path\\tsize_bytes\\tmtime_epoch\\tmd5_hash\" > organize_log.tsv\r\n\u001b[?2004l\r"]
[35.449374, "o", "\u001b[?2004hroot@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets/organized# "]
[35.589747, "i", "cd ..\n"]
[35.589846, "o", "cd ..\r\n\u001b[?2004l\r"]
[35.589888, "o", "\u001b[?2004h"]
[35.589927, "o", "root@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets# "]
[62.792662, "i", "find raw -type f -print0 | sort -z | while IFS= read -r -d '' src; do\n"]
[62.79294, "o", "find raw -type f -print0 | sort -z | while IFS= read -r -d '' src; do\r\n\u001b[?2004l\r"]
[62.792998, "o", "\u001b[?2004h> "]
[124.53063, "i", "dst_base=\"${src##*/}\"\ndir_name=\"$(dirname \"$src\" | xargs basename)\"\nif [ ! -L \"$src\" ] && [ \"$(stat -c %a \"$src\" 2>/dev/null)\" != \"000\" ]; then\n    case \"$dst_base\" in\n        *.png)\n            if [ \"$(stat -c %s \"$src\" 2>/dev/null)\" -gt 1000000 ]; then\n                echo \"Processing PNG: $src\"\n                if [ -f \"organized/png_large/$dst_base\" ]; then\n                    new_dst=\"${dst_base%.*}_${dir_name}.${dst_base##*.}\"\n                    mv \"$src\" \"organized/png_large/$new_dst\" && new_path=$(realpath \"organized/png_large/$new_dst\")\n                else\n                    mv \"$src\" \"organized/png_large/$dst_base\" && new_path=$(realpath \"organized/png_large/$dst_base\")\n                fi\n                size=$(stat -c %s \"$new_path\" 2>/dev/null)\n                mtime=$(stat -c %Y \"$new_path\" 2>/dev/null)\n                hash=$(md5sum \"$new_path\" | cut -d' ' -f1)\n                echo -e \"$src\\t$new_path\\t$size\\t$mtime\\t$hash\" >> organized/organize_log.tsv\n                let \"moved_count+=1\"\n     "]
[124.530798, "i", "           let \"total_bytes+=${size:-0}\"\n            fi\n            ;;\n        *.jpg)\n            if [ \"$(stat -c %Y \"$src\" 2>/dev/null)\" -lt 1625097600 ]; then\n                echo \"Processing JPG: $src\"\n                if [ -f \"organized/jpg_old/$dst_base\" ]; then\n                    new_dst=\"${dst_base%.*}_${dir_name}.${dst_base##*.}\"\n                    cp -a \"$src\" \"organized/jpg_old/$new_dst\" && new_path=$(realpath \"organized/jpg_old/$new_dst\")\n                else\n                    cp -a \"$src\" \"organized/jpg_old/$dst_base\" && new_path=$(realpath \"organized/jpg_old/$dst_base\")\n                fi\n                size=$(stat -c %s \"$new_path\" 2>/dev/null)\n                mtime=$(stat -c %Y \"$new_path\" 2>/dev/null)\n                hash=$(md5sum \"$new_path\" | cut -d' ' -f1)\n                echo -e \"$src\\t$new_path\\t$size\\t$mtime\\t$hash\" >> organized/organize_log.tsv\n                let \"copied_count+=1\"\n                let \"total_bytes+=${size:-0}\"\n            fi\n            ;;\n    esac\nfi\ndone\n"]
[124.530859, "o", "dst_base=\"${src##*/}\"\r\n\u001b[?2004l\r\u001b[?2004h> "]
[124.530895, "o", "dir_name=\"$(dirname \"$src\" | xargs basename)\"\r\n\u001b[?2004l\r"]
[124.530928, "o", "\u001b[?2004h> "]
[124.531105, "o", "if [ ! -L \"$src\" ] && [ \"$(stat -c %a \"$src\" 2>/dev/null)\" != \"000\" ]; then\r\n\u001b[?2004l\r"]
[124.531143, "o", "\u001b[?2004h> "]
[124.531204, "o", "    case \"$dst_base\" in\r\n\u001b[?2004l\r"]
[124.53124, "o", "\u001b[?2004h> "]
[124.531266, "o", "        *.png)\r\n\u001b[?2004l\r"]
[124.531291, "o", "\u001b[?2004h> "]
[124.531471, "o", "            if [ \"$(stat -c %s \"$src\" 2>/dev/null)\" -gt 1000000 ]; then\r\n\u001b[?2004l\r"]
[124.531499, "o", "\u001b[?2004h> "]
[124.531606, "o", "                echo \"Processing PNG: $src\"\r\n\u001b[?2004l\r"]
[124.531633, "o", "\u001b[?2004h> "]
[124.531784, "o", "                if [ -f \"organized/png_large/$dst_base\" ]; then\r\n\u001b[?2004l\r"]
[124.531815, "o", "\u001b[?2004h> "]
[124.531983, "o", "                    new_dst=\"${dst_base%.*}_${dir_name}.${dst_base##*.}\"\r\n\u001b[?2004l\r"]
[124.532023, "o", "\u001b[?2004h> "]
[124.532281, "o", "                    mv \"$src\" \"organized/png_large/$new_dst\" && new_path=$(realpath \"organized/png_large/$new_dst\")\r\n\u001b[?2004l\r"]
[124.532329, "o", "\u001b[?2004h> "]
[124.532388, "o", "                else\r\n\u001b[?2004l\r"]
[124.532413, "o", "\u001b[?2004h> "]
[124.53269, "o", "                    mv \"$src\" \"organized/png_large/$dst_base\" && new_path=$(realpath \"organized/png_large/$dst_base\")\r\n\u001b[?2004l\r"]
[124.53271, "o", "\u001b[?2004h"]
[124.53273, "o", "> "]
[124.532771, "o", "                fi\r\n\u001b[?2004l\r"]
[124.532789, "o", "\u001b[?2004h"]
[124.532809, "o", "> "]
[124.53294, "o", "                size=$(stat -c %s \"$new_path\" 2>/dev/null)\r\n\u001b[?2004l\r"]
[124.53296, "o", "\u001b[?2004h"]
[124.532998, "o", "> "]
[124.533108, "o", "                mtime=$(stat -c %Y \"$new_path\" 2>/dev/null)\r\n\u001b[?2004l\r"]
[124.533128, "o", "\u001b[?2004h"]
[124.533149, "o", "> "]
[124.533278, "o", "                hash=$(md5sum \"$new_path\" | cut -d' ' -f1)\r\n\u001b[?2004l\r"]
[124.533298, "o", "\u001b[?2004h> "]
[124.533531, "o", "                echo -e \"$src\\t$new_path\\t$size\\t$mtime\\t$hash\" >> organized/organize_log.tsv\r\n\u001b[?2004l\r"]
[124.533554, "o", "\u001b[?2004h> "]
[124.533646, "o", "                let \"moved_count+=1\"\r\n\u001b[?2004l\r"]
[124.533669, "o", "\u001b[?2004h> "]
[124.533783, "o", "                let \"total_bytes+=${size:-0}\"\r\n\u001b[?2004l\r"]
[124.533801, "o", "\u001b[?2004h"]
[124.533823, "o", "> "]
[124.53385, "o", "            fi\r\n\u001b[?2004l\r"]
[124.533868, "o", "\u001b[?2004h"]
[124.533889, "o", "> "]
[124.533917, "o", "            ;;\r\n\u001b[?2004l\r"]
[124.53394, "o", "\u001b[?2004h"]
[124.533962, "o", "> "]
[124.533978, "o", "        *.jpg)\r\n\u001b[?2004l\r"]
[124.533997, "o", "\u001b[?2004h> "]
[124.53419, "o", "            if [ \"$(stat -c %Y \"$src\" 2>/dev/null)\" -lt 1625097600 ]; then\r\n\u001b[?2004l\r"]
[124.534215, "o", "\u001b[?2004h"]
[124.534234, "o", "> "]
[124.534325, "o", "                echo \"Processing JPG: $src\"\r\n\u001b[?2004l\r"]
[124.534342, "o", "\u001b[?2004h"]
[124.534363, "o", "> "]
[124.534509, "o", "                if [ -f \"organized/jpg_old/$dst_base\" ]; then\r\n\u001b[?2004l\r"]
[124.534528, "o", "\u001b[?2004h> "]
[124.534704, "o", "                    new_dst=\"${dst_base%.*}_${dir_name}.${dst_base##*.}\"\r\n\u001b[?2004l\r"]
[124.534721, "o", "\u001b[?2004h"]
[124.534739, "o", "> "]
[124.535004, "o", "                    cp -a \"$src\" \"organized/jpg_old/$new_dst\" && new_path=$(realpath \"organized/jpg_old/$new_dst\")\r\n\u001b[?2004l\r"]
[124.535024, "o", "\u001b[?2004h"]
[124.535042, "o", "> "]
[124.535087, "o", "                else\r\n\u001b[?2004l\r"]
[124.535104, "o", "\u001b[?2004h"]
[124.535121, "o", "> "]
[124.535412, "o", "                    cp -a \"$src\" \"organized/jpg_old/$dst_base\" && new_path=$(realpath \"organized/jpg_old/$dst_base\")\r\n\u001b[?2004l\r"]
[124.535431, "o", "\u001b[?2004h> "]
[124.53548, "o", "                fi\r\n\u001b[?2004l\r"]
[124.535499, "o", "\u001b[?2004h"]
[124.535516, "o", "> "]
[124.535655, "o", "                size=$(stat -c %s \"$new_path\" 2>/dev/null)\r\n\u001b[?2004l\r"]
[124.535674, "o", "\u001b[?2004h> "]
[124.535818, "o", "                mtime=$(stat -c %Y \"$new_path\" 2>/dev/null)\r\n\u001b[?2004l\r"]
[124.535835, "o", "\u001b[?2004h"]
[124.535852, "o", "> "]
[124.535986, "o", "                hash=$(md5sum \"$new_path\" | cut -d' ' -f1)\r\n\u001b[?2004l\r"]
[124.536004, "o", "\u001b[?2004h"]
[124.536021, "o", "> "]
[124.536238, "o", "                echo -e \"$src\\t$new_path\\t$size\\t$mtime\\t$hash\" >> organized/organize_log.tsv\r\n\u001b[?2004l\r"]
[124.536261, "o", "\u001b[?2004h> "]
[124.536361, "o", "                let \"copied_count+=1\"\r\n\u001b[?2004l\r"]
[124.536384, "o", "\u001b[?2004h> "]
[124.536499, "o", "                let \"total_bytes+=${size:-0}\"\r\n\u001b[?2004l\r"]
[124.536515, "o", "\u001b[?2004h"]
[124.536533, "o", "> "]
[124.536565, "o", "            fi\r\n\u001b[?2004l\r"]
[124.536583, "o", "\u001b[?2004h"]
[124.536601, "o", "> "]
[124.536633, "o", "            ;;\r\n\u001b[?2004l\r"]
[124.53665, "o", "\u001b[?2004h"]
[124.536668, "o", "> "]
[124.536685, "o", "    esac\r\n\u001b[?2004l\r"]
[124.536701, "o", "\u001b[?2004h"]
[124.536719, "o", "> fi\r\n\u001b[?2004l\r"]
[124.536735, "o", "\u001b[?2004h"]
[124.536752, "o", "> done\r\n"]
[124.53677, "o", "\u001b[?2004l\r"]
[124.548077, "o", "Processing JPG: raw/orphan.jpg\r\n"]
[124.565109, "o", "Processing PNG: raw/projectA/img1.png\r\n"]
[124.600396, "o", "Processing JPG: raw/projectA/old1.jpg\r\n"]
[124.616695, "o", "Processing PNG: raw/projectB/big_graph.png\r\n"]
[124.639594, "o", "Processing PNG: raw/projectB/img1.png\r\n"]
[124.691641, "o", "\u001b[?2004hroot@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets# "]
[166.985338, "i", "find raw -type f -print0 | sort -z | while IFS= read -r -d '' src; do\n    dst_base=\"${src##*/}\"\n    dir_name=\"$(dirname \"$src\" | xargs basename)\"\n    if [ ! -L \"$src\" ] && [ \"$(stat -c %a \"$src\" 2>/dev/null)\" != \"000\" ]; then\n        case \"$dst_base\" in\n            *.png)\n                if [ \"$(stat -c %s \"$src\" 2>/dev/null)\" -gt 1000000 ]; then\n                    echo \"Processing PNG: $src\"\n                    if [ -f \"organized/png_large/$dst_base\" ]; then\n                        new_dst=\"${dst_base%.*}_${dir_name}.${dst_base##*.}\"\n                        mv \"$src\" \"organized/png_large/$new_dst\" && new_path=$(realpath \"organized/png_large/$new_dst\")\n                    else\n                        mv \"$src\" \"organized/png_large/$dst_base\" && new_path=$(realpath \"organized/png_large/$dst_base\")\n                    fi\n                    size=$(stat -c %s \"$new_path\" 2>/dev/null)\n                    mtime=$(stat -c %Y \"$new_path\" 2>/dev/null)\n                    hash=$(md5sum \"$new_path\" | cut -d' ' -f1)\n  "]
[166.985504, "i", "                  echo -e \"$src\\t$new_path\\t$size\\t$mtime\\t$hash\" >> organized/organize_log.tsv\n                    let \"moved_count+=1\"\n                    let \"total_bytes+=${size:-0}\"\n                fi\n                ;;\n            *.jpg)\n                if [ \"$(stat -c %Y \"$src\" 2>/dev/null)\" -lt 1625097600 ]; then\n                    echo \"Processing JPG: $src\"\n                    if [ -f \"organized/jpg_old/$dst_base\" ]; then\n                        new_dst=\"${dst_base%.*}_${dir_name}.${dst_base##*.}\"\n                        cp -a \"$src\" \"organized/jpg_old/$new_dst\" && new_path=$(realpath \"organized/jpg_old/$new_dst\")\n                    else\n                        cp -a \"$src\" \"organized/jpg_old/$dst_base\" && new_path=$(realpath \"organized/jpg_old/$dst_base\")\n                    fi\n                    size=$(stat -c %s \"$new_path\" 2>/dev/null)\n                    mtime=$(stat -c %Y \"$new_path\" 2>/dev/null)\n                    hash=$(md5sum \"$new_path\" | cut -d' ' -f1)\n                    echo -e \"$sr"]
[166.985544, "i", "c\\t$new_path\\t$size\\t$mtime\\t$hash\" >> organized/organize_log.tsv\n                    let \"copied_count+=1\"\n                    let \"total_bytes+=${size:-0}\"\n                fi\n                ;;\n            *)\n                if [ \"${dst_base##*.}\" != \"txt\" ] && [ \"$(stat -c %s \"$src\" 2>/dev/null)\" -le 512000 ]; then\n                    echo \"Processing MISC: $src\"\n                    if [ -f \"organized/misc_small/$dst_base\" ]; then\n                        new_dst=\"${dst_base%.*}_${dir_name}.${dst_base##*.}\"\n                        cp -a \"$src\" \"organized/misc_small/$new_dst\" && new_path=$(realpath \"organized/misc_small/$new_dst\")\n                    else\n                        cp -a \"$src\" \"organized/misc_small/$dst_base\" && new_path=$(realpath \"organized/misc_small/$dst_base\")\n                    fi\n                    size=$(stat -c %s \"$new_path\" 2>/dev/null)\n                    mtime=$(stat -c %Y \"$new_path\" 2>/dev/null)\n                    hash=$(md5sum \"$new_path\" | cut -d' ' -f1)\n                   "]
[166.985579, "i", " echo -e \"$src\\t$new_path\\t$size\\t$mtime\\t$hash\" >> organized/organize_log.tsv\n                    let \"copied_count+=1\"\n                    let \"total_bytes+=${size:-0}\"\n                fi\n                ;;\n        esac\n    fi\ndone\n"]
[166.98691, "o", "find raw -type f -print0 | sort -z | while IFS= read -r -d '' src; do\r\n\u001b[?2004l\r\u001b[?2004h>     dst_base=\"${src##*/}\"\r\n\u001b[?2004l\r\u001b[?2004h>     dir_name=\"$(dirname \"$src\" | xargs basename)\"\r\n\u001b[?2004l\r\u001b[?2004h>     if [ ! -L \"$src\" ] && [ \"$(stat -c %a \"$src\" 2>/dev/null)\" != \"000\" ]; then\r\n\u001b[?2004l\r\u001b[?2004h>         case \"$dst_base\" in\r\n\u001b[?2004l\r\u001b[?2004h>             *.png)\r\n\u001b[?2004l\r\u001b[?2004h>                 if [ \"$(stat -c %s \"$src\" 2>/dev/null)\" -gt 1000000 ]; then\r\n\u001b[?2004l\r\u001b[?2004h> "]
[166.98701, "o", "                    echo \"Processing PNG: $src\"\r\n\u001b[?2004l\r"]
[166.987051, "o", "\u001b[?2004h> "]
[166.987241, "o", "                    if [ -f \"organized/png_large/$dst_base\" ]; then\r\n\u001b[?2004l\r"]
[166.987266, "o", "\u001b[?2004h"]
[166.987292, "o", "> "]
[166.987499, "o", "                        new_dst=\"${dst_base%.*}_${dir_name}.${dst_base##*.}\"\r\n\u001b[?2004l\r"]
[166.98753, "o", "\u001b[?2004h> "]
[166.987854, "o", "                        mv \"$src\" \"organized/png_large/$new_dst\" && new_path=$(realpath \"organized/png_large/$new_dst\")\r\n\u001b[?2004l\r"]
[166.987884, "o", "\u001b[?2004h"]
[166.987908, "o", "> "]
[166.987981, "o", "                    else\r\n\u001b[?2004l\r"]
[166.988007, "o", "\u001b[?2004h> "]
[166.988332, "o", "                        mv \"$src\" \"organized/png_large/$dst_base\" && new_path=$(realpath \"organized/png_large/$dst_base\")\r\n\u001b[?2004l\r"]
[166.988364, "o", "\u001b[?2004h"]
[166.988389, "o", "> "]
[166.988455, "o", "                    fi\r\n\u001b[?2004l\r"]
[166.988476, "o", "\u001b[?2004h"]
[166.988497, "o", "> "]
[166.988662, "o", "                    size=$(stat -c %s \"$new_path\" 2>/dev/null)\r\n\u001b[?2004l\r"]
[166.988686, "o", "\u001b[?2004h"]
[166.98871, "o", "> "]
[166.988876, "o", "                    mtime=$(stat -c %Y \"$new_path\" 2>/dev/null)\r\n\u001b[?2004l\r"]
[166.988922, "o", "\u001b[?2004h> "]
[166.989084, "o", "                    hash=$(md5sum \"$new_path\" | cut -d' ' -f1)\r\n\u001b[?2004l\r"]
[166.989117, "o", "\u001b[?2004h> "]
[166.989378, "o", "                    echo -e \"$src\\t$new_path\\t$size\\t$mtime\\t$hash\" >> organized/organize_log.tsv\r\n\u001b[?2004l\r"]
[166.989405, "o", "\u001b[?2004h"]
[166.989429, "o", "> "]
[166.98954, "o", "                    let \"moved_count+=1\"\r\n\u001b[?2004l\r"]
[166.989563, "o", "\u001b[?2004h"]
[166.9896, "o", "> "]
[166.989721, "o", "                    let \"total_bytes+=${size:-0}\"\r\n"]
[166.989744, "o", "\u001b[?2004l\r"]
[166.989768, "o", "\u001b[?2004h> "]
[166.989821, "o", "                fi\r\n\u001b[?2004l\r"]
[166.989842, "o", "\u001b[?2004h"]
[166.989866, "o", "> "]
[166.989912, "o", "                ;;\r\n\u001b[?2004l\r"]
[166.989938, "o", "\u001b[?2004h"]
[166.98996, "o", "> "]
[166.990004, "o", "            *.jpg)\r\n\u001b[?2004l\r"]
[166.990025, "o", "\u001b[?2004h> "]
[166.990237, "o", "                if [ \"$(stat -c %Y \"$src\" 2>/dev/null)\" -lt 1625097600 ]; then\r\n\u001b[?2004l\r"]
[166.99027, "o", "\u001b[?2004h"]
[166.990298, "o", "> "]
[166.990423, "o", "                    echo \"Processing JPG: $src\"\r\n\u001b[?2004l\r"]
[166.99045, "o", "\u001b[?2004h> "]
[166.990629, "o", "                    if [ -f \"organized/jpg_old/$dst_base\" ]; then\r\n\u001b[?2004l\r"]
[166.99065, "o", "\u001b[?2004h"]
[166.990674, "o", "> "]
[166.990865, "o", "                        new_dst=\"${dst_base%.*}_${dir_name}.${dst_base##*.}\"\r\n\u001b[?2004l\r"]
[166.990886, "o", "\u001b[?2004h> "]
[166.991187, "o", "                        cp -a \"$src\" \"organized/jpg_old/$new_dst\" && new_path=$(realpath \"organized/jpg_old/$new_dst\")\r\n\u001b[?2004l\r"]
[166.991211, "o", "\u001b[?2004h> "]
[166.991287, "o", "                    else\r\n\u001b[?2004l\r"]
[166.991311, "o", "\u001b[?2004h> "]
[166.991619, "o", "                        cp -a \"$src\" \"organized/jpg_old/$dst_base\" && new_path=$(realpath \"organized/jpg_old/$dst_base\")\r\n\u001b[?2004l\r"]
[166.991642, "o", "\u001b[?2004h> "]
[166.99172, "o", "                    fi\r\n\u001b[?2004l\r"]
[166.991746, "o", "\u001b[?2004h> "]
[166.991912, "o", "                    size=$(stat -c %s \"$new_path\" 2>/dev/null)\r\n\u001b[?2004l\r"]
[166.991961, "o", "\u001b[?2004h> "]
[166.992112, "o", "                    mtime=$(stat -c %Y \"$new_path\" 2>/dev/null)\r\n\u001b[?2004l\r"]
[166.992124, "o", "\u001b[?2004h"]
[166.992131, "o", "> "]
[166.992295, "o", "                    hash=$(md5sum \"$new_path\" | cut -d' ' -f1)\r\n\u001b[?2004l\r"]
[166.99232, "o", "\u001b[?2004h> "]
[166.992572, "o", "                    echo -e \"$src\\t$new_path\\t$size\\t$mtime\\t$hash\" >> organized/organize_log.tsv\r\n\u001b[?2004l\r"]
[166.992598, "o", "\u001b[?2004h> "]
[166.992701, "o", "                    let \"copied_count+=1\"\r\n\u001b[?2004l\r"]
[166.992716, "o", "\u001b[?2004h> "]
[166.992843, "o", "                    let \"total_bytes+=${size:-0}\"\r\n\u001b[?2004l\r"]
[166.992872, "o", "\u001b[?2004h> "]
[166.99292, "o", "                fi\r\n\u001b[?2004l\r"]
[166.99293, "o", "\u001b[?2004h> "]
[166.992995, "o", "                ;;\r\n\u001b[?2004l\r"]
[166.993005, "o", "\u001b[?2004h"]
[166.993012, "o", "> "]
[166.993063, "o", "            *)\r\n\u001b[?2004l\r"]
[166.993073, "o", "\u001b[?2004h"]
[166.993113, "o", "> "]
[166.993357, "o", "                if [ \"${dst_base##*.}\" != \"txt\" ] && [ \"$(stat -c %s \"$src\" 2>/dev/null)\" -le 512000 ]; then\r\n\u001b[?2004l\r"]
[166.993401, "o", "\u001b[?2004h> "]
[166.993509, "o", "                    echo \"Processing MISC: $src\"\r\n\u001b[?2004l\r"]
[166.993531, "o", "\u001b[?2004h> "]
[166.994376, "o", "                    if [ -f \"organized/misc_small/$dst_base\" ]; then\r\n\u001b[?2004l\r\u001b[?2004h>                         new_dst=\"${dst_base%.*}_${dir_name}.${dst_base##*.}\"\r\n\u001b[?2004l\r\u001b[?2004h>                         cp -a \"$src\" \"organized/misc_small/$new_dst\" && new_path=$(realpath \"organized/misc_small/$new_dst\")\r\n\u001b[?2004l\r\u001b[?2004h>                     else\r\n\u001b[?2004l\r\u001b[?2004h> "]
[166.994624, "o", "                        cp -a \"$src\" \"organized/misc_small/$dst_base\" && new_path=$(realpath \"organized/misc_small/$dst_base\")\r\n\u001b[?2004l\r"]
[166.994658, "o", "\u001b[?2004h> "]
[166.994703, "o", "                    fi\r\n\u001b[?2004l\r"]
[166.994723, "o", "\u001b[?2004h> "]
[166.994887, "o", "                    size=$(stat -c %s \"$new_path\" 2>/dev/null)\r\n\u001b[?2004l\r\u001b[?2004h"]
[166.994922, "o", "> "]
[166.995049, "o", "                    mtime=$(stat -c %Y \"$new_path\" 2>/dev/null)\r\n\u001b[?2004l\r"]
[166.995073, "o", "\u001b[?2004h> "]
[166.99522, "o", "                    hash=$(md5sum \"$new_path\" | cut -d' ' -f1)\r\n\u001b[?2004l\r"]
[166.995244, "o", "\u001b[?2004h"]
[166.995266, "o", "> "]
[166.99548, "o", "                    echo -e \"$src\\t$new_path\\t$size\\t$mtime\\t$hash\" >> organized/organize_log.tsv\r\n\u001b[?2004l\r"]
[166.995504, "o", "\u001b[?2004h> "]
[166.995604, "o", "                    let \"copied_count+=1\"\r\n\u001b[?2004l\r"]
[166.995627, "o", "\u001b[?2004h> "]
[166.995747, "o", "                    let \"total_bytes+=${size:-0}\"\r\n\u001b[?2004l\r"]
[166.99577, "o", "\u001b[?2004h> "]
[166.995817, "o", "                fi\r\n\u001b[?2004l\r"]
[166.99584, "o", "\u001b[?2004h> "]
[166.995887, "o", "                ;;\r\n\u001b[?2004l\r"]
[166.995915, "o", "\u001b[?2004h> "]
[166.99594, "o", "        esac\r\n\u001b[?2004l\r"]
[166.995963, "o", "\u001b[?2004h> "]
[166.995988, "o", "    fi\r\n\u001b[?2004l\r"]
[166.996011, "o", "\u001b[?2004h> done\r\n"]
[166.996033, "o", "\u001b[?2004l\r"]
[167.003653, "o", "Processing JPG: raw/orphan.jpg\r\n"]
[167.029188, "o", "Processing JPG: raw/projectA/old1.jpg\r\n"]
[167.04352, "o", "Processing MISC: raw/projectB/locked.dat\r\n"]
[167.080055, "o", "Processing MISC: raw/projectB/tiny.dat\r\n"]
[167.097147, "o", "Processing MISC: raw/readme.md\r\n"]
[167.107835, "o", "\u001b[?2004hroot@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets# "]
[168.863396, "i", "cd organized\n"]
[168.863527, "o", "cd organized\r\n\u001b[?2004l\r"]
[168.863631, "o", "\u001b[?2004hroot@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets/organized# "]
[169.056177, "i", "tail -n +2 organize_log.tsv | sort -k1 > organize_log_sorted.tmp && mv organize_log_sorted.tmp organize_log.tsv\n"]
[169.056593, "o", "tail -n +2 organize_log.tsv | sort -k1 > organize_log_sorted.tmp && mv organize_log_sorted.tmp organize_log.tsv\r\n"]
[169.05661, "o", "\u001b[?2004l\r"]
[169.059634, "o", "\u001b[?2004h"]
[169.0597, "o", "root@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets/organized# "]
[170.155199, "i", "echo \"{\\\"moved_count\\\": $moved_count, \\\"copied_count\\\": $copied_count, \\\"total_bytes\\\": $total_bytes}\" > summary.json\n"]
[170.155593, "o", "echo \"{\\\"moved_count\\\": $moved_count, \\\"copied_count\\\": $copied_count, \\\"total_bytes\\\": $total_bytes}\" > summary.json\r\n\u001b[?2004l\r"]
[170.155716, "o", "\u001b[?2004h"]
[170.155736, "o", "root@4ae6d2bb-a43d-4ccf-939c-1c831a251b49:/home/user/datasets/organized# "]
