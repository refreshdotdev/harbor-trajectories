{"version": 2, "width": 160, "height": 40, "timestamp": 1771009307, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.005908, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[1.016056, "i", "clear\r"]
[1.016193, "o", "clear\r\n\u001b[?2004l\r"]
[1.017256, "o", "\u001b[H\u001b[J"]
[1.017458, "o", "\u001b[?2004h"]
[1.017487, "o", "root@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[15.711265, "i", "ls -la /home/user/datasets/log_archive.tar.gz /home/user/config/settings.json\n"]
[15.711781, "o", "ls -la /home/user/datasets/log_archive.tar.gz /home/user/config/settings.json\r\n\u001b[?2004l\r"]
[15.713362, "o", "-rwxrwxrwx 1 root root  96 Feb 13 18:48 \u001b[0m\u001b[01;32m/home/user/config/settings.json\u001b[0m\r\n-rwxrwxrwx 1 root root 450 Feb 13 18:48 \u001b[01;32m/home/user/datasets/log_archive.tar.gz\u001b[0m\r\n"]
[15.713615, "o", "\u001b[?2004h"]
[15.713642, "o", "root@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[30.705032, "i", "export REDACTION_LABEL=$(jq -r '.redaction_label' /home/user/config/settings.json)\n"]
[30.705319, "o", "export REDACTION_LABEL=$(jq -r '.redaction_label' /home/user/config/settings.json)\r\n\u001b[?2004l\r"]
[30.717582, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[30.882157, "i", "export TARGET_ENCODING=$(jq -r '.target_encoding' /home/user/config/settings.json)\n"]
[30.882456, "o", "export TARGET_ENCODING=$(jq -r '.target_encoding' /home/user/config/settings.json)\r\n\u001b[?2004l\r"]
[30.894857, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[30.954343, "i", "mkdir -p /home/user/clean_data\n"]
[30.954481, "o", "mkdir -p /home/user/clean_data\r\n\u001b[?2004l\r"]
[30.981699, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[31.160245, "i", "echo \"Redaction Label: '${REDACTION_LABEL}'\"\n"]
[31.160423, "o", "echo \"Redaction Label: '${REDACTION_LABEL}'\"\r\n\u001b[?2004l\r"]
[31.160484, "o", "Redaction Label: '[CONFIDENTIAL_P2]'\r\n"]
[31.160514, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[31.277839, "i", "echo \"Target Encoding: '${TARGET_ENCODING}'\"\n"]
[31.278043, "o", "echo \"Target Encoding: '${TARGET_ENCODING}'\"\r\n\u001b[?2004l\r"]
[31.278076, "o", "Target Encoding: 'ISO-8859-1'\r\n"]
[31.278103, "o", "\u001b[?2004h"]
[31.278133, "o", "root@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[42.826068, "i", "mkdir -p /tmp/log_extract\n"]
[42.826192, "o", "mkdir -p /tmp/log_extract\r\n\u001b[?2004l\r"]
[42.827506, "o", "\u001b[?2004h"]
[42.827549, "o", "root@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[42.925529, "i", "tar -xzf /home/user/datasets/log_archive.tar.gz -C /tmp/log_extract\n"]
[42.925779, "o", "tar -xzf /home/user/datasets/log_archive.tar.gz -C /tmp/log_extract\r\n\u001b[?2004l\r"]
[42.92894, "o", "\u001b[?2004h"]
[42.928959, "o", "root@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[55.727253, "i", "find /tmp/log_extract -path \"*/logs/prod-*\" -type f -name \"prod-*.log\" -print\n"]
[55.727679, "o", "find /tmp/log_extract -path \"*/logs/prod-*\" -type f -name \"prod-*.log\" -print\r\n\u001b[?2004l\r"]
[55.729131, "o", "/tmp/log_extract/logs/prod-app1.log\r\n/tmp/log_extract/logs/prod-app2.log\r\n"]
[55.729408, "o", "\u001b[?2004h"]
[55.729462, "o", "root@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[69.932709, "i", "cat /tmp/log_extract/logs/prod-app1.log /tmp/log_extract/logs/prod-app2.log | awk -F '\\t' -v redact_label=\"${REDACTION_LABEL}\" '/ERROR\\tDataCleaner\\t/ { gsub(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]+/, redact_label, $5); print $1 \"\\t\" $2 \"\\t\" $3 \"\\t\" $4 \"\\t\" $5 }' | sort -k1,2 > /home/user/clean_data/mainframe_errors.log\n"]
[69.933598, "o", "cat /tmp/log_extract/logs/prod-app1.log /tmp/log_extract/logs/prod-app2.log | awk -F '\\t' -v redact_label=\"${REDACTION_LABEL}\" '/ERROR\\tDataCleaner\\t/ { gsub(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]+/, redact_label, $5); print $1 \"\\t\" $2 \"\\t\" $3 \"\\t\" $4 \"\\t\" $5 }' | sort -k1,2 > /home/user/clean_data/mainframe_errors.log\r\n\u001b[?2004l\r"]
[69.936259, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[86.522852, "i", "awk -F '\\t' ' { \"date -d \\\"$1\\\" +\\\"%d-%b-%Y\\\" | tr [a-z] [A-Z]\" | getline formatted_date; timestamp=strftime(\"%H:%M:%S\",mktime($1\" 00 00 00\")); date_errors[formatted_date]++; if (!earliest[formatted_date] || timestamp < earliest[formatted_date]) earliest[formatted_date]=timestamp } END { for (date in date_errors) print formatted_date=formatted_date, date_errors[date], earliest[formatted_date] > \"/tmp/temp_summary.csv\" }' /home/user/clean_data/mainframe_errors.log\n"]
[86.524968, "o", "awk -F '\\t' ' { \"date -d \\\"$1\\\" +\\\"%d-%b-%Y\\\" | tr [a-z] [A-Z]\" | getline formatted_date; timestamp=strftime(\"%H:%M:%S\",mktime($1\" 00 00 00\")); date_errors[formatted_date]++; if (!earliest[formatted_date] || timestamp < earliest[formatted_date]) earliest[formatted_date]=timestamp } END { for (date in date_errors) print formatted_date=formatted_date, date_errors[date], earliest[formatted_date] > \"/tmp/temp_summary.csv\" }' /home/user/clean_data/mainframe_errors.log\r\n\u001b[?2004l\r"]
[86.528162, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[87.480797, "i", "sed -i '1iDate,Error_Count,Earliest_Error' /tmp/temp_summary.csv\n"]
[87.481041, "o", "sed -i '1iDate,Error_Count,Earliest_Error' /tmp/temp_summary.csv\r\n\u001b[?2004l\r"]
[87.482633, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[97.29879, "i", "iconv -f UTF-8 -t ${TARGET_ENCODING} /tmp/temp_summary.csv > /home/user/clean_data/daily_summary.csv\n"]
[97.299175, "o", "iconv -f UTF-8 -t ${TARGET_ENCODING} /tmp/temp_summary.csv > /home/user/clean_data/daily_summary.csv\r\n\u001b[?2004l\r"]
[97.301003, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[97.396272, "i", "sed -i 's/$/\\r/' /home/user/clean_data/daily_summary.csv\n"]
[97.396524, "o", "sed -i 's/$/\\r/' /home/user/clean_data/daily_summary.csv\r\n\u001b[?2004l\r"]
[97.398589, "o", "\u001b[?2004h"]
[97.398622, "o", "root@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[97.590225, "i", "rm /tmp/temp_summary.csv\n"]
[97.590351, "o", "rm /tmp/temp_summary.csv\r\n\u001b[?2004l\r"]
[97.591942, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[105.126588, "i", "(cd /home/user/clean_data && md5sum mainframe_errors.log | awk '{print $1 \"  \" $2}' > checksum.md5)\n"]
[105.126937, "o", "(cd /home/user/clean_data && md5sum mainframe_errors.log | awk '{print $1 \"  \" $2}' > checksum.md5)\r\n\u001b[?2004l\r"]
[105.128746, "o", "\u001b[?2004h"]
[105.128762, "o", "root@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[112.90677, "i", "ls -la /home/user/clean_data/\n"]
[112.907095, "o", "ls -la /home/user/clean_data/\r\n\u001b[?2004l\r"]
[112.908655, "o", "total 12\r\n"]
[112.908737, "o", "drwxr-xr-x 2 root root  79 Feb 13 19:03 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxrwxrwx 1 root root  32 Feb 13 19:02 \u001b[34;42m..\u001b[0m\r\n-rw-r--r-- 1 root root  55 Feb 13 19:03 checksum.md5\r\n-rw-r--r-- 1 root root  57 Feb 13 19:03 daily_summary.csv\r\n-rw-r--r-- 1 root root 260 Feb 13 19:02 mainframe_errors.log\r\n"]
[112.909036, "o", "\u001b[?2004h"]
[112.90908, "o", "root@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[113.087905, "i", "rm -rf /tmp/log_extract\n"]
[113.088051, "o", "rm -rf /tmp/log_extract\r\n\u001b[?2004l\r"]
[113.089433, "o", "\u001b[?2004hroot@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
[113.225782, "i", "echo \"Processing complete. Output files created in /home/user/clean_data/\"\n"]
[113.226215, "o", "echo \"Processing complete. Output files created in /home/user/clean_data/\"\r\n\u001b[?2004l\r"]
[113.226284, "o", "Processing complete. Output files created in /home/user/clean_data/\r\n"]
[113.226325, "o", "\u001b[?2004h"]
[113.226354, "o", "root@2d9f5cec-42ab-453f-8940-48e35f9c58c6:/home/user# "]
