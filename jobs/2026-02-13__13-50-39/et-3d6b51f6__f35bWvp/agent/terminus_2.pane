[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# asciinema rec --stdin /logs/agent/recording.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent/recording.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# clear
[?2004l[H[J[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# mkdir -p /home/user/workflows/image_cleanup/input /home/user/workflows/image_cleanup/output /home/user/workflows/image_cleanup/temp
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# chmod +t /home/user/workflows/image_cleanup/temp
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# touch /home/user/workflows/image_cleanup/input/files_to_process.txt
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# touch /home/user/workflows/image_cleanup/run.sh
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# cat > /home/user/workflows/setup.log << 'EOF'
[?2004l[?2004h> SETUP COMPLETE
[?2004l[?2004h> Timestamp: YYYY-MM-DD HH:MM:SS
[?2004l[?2004h> Directories:
[?2004l[?2004h> - /home/user/workflows/image_cleanup
[?2004l[?2004h> - /home/user/workflows/image_cleanup/input
[?2004l[?2004h> - /home/user/workflows/image_cleanup/output
[?2004l[?2004h> - /home/user/workflows/image_cleanup/temp
[?2004l[?2004h> Files:
[?2004l[?2004h> - /home/user/workflows/image_cleanup/run.sh (executable)
[?2004l[?2004h> - /home/user/workflows/image_cleanup/input/files_to_process.txt
[?2004l[?2004h> Metadata:
[?2004l[?2004h> - files_to_process.txt: [MD5_HASH] [SIZE_BYTES] bytes
[?2004l[?2004h> EOF
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# ls -la /home/user/workflows/image_cleanup/
[?2004ltotal 0
drwxr-xr-x 5 root root 79 Feb 13 18:54 [0m[01;34m.[0m
drwxr-xr-x 3 root root 44 Feb 13 18:54 [01;34m..[0m
drwxr-xr-x 2 root root 34 Feb 13 18:54 [01;34minput[0m
drwxr-xr-x 2 root root  6 Feb 13 18:54 [01;34moutput[0m
-rw-r--r-- 1 root root  0 Feb 13 18:54 run.sh
drwxr-xr-t 2 root root  6 Feb 13 18:54 [37;44mtemp[0m
[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# ls -la /home/user/workflows/image_cleanup/input/
[?2004ltotal 0
drwxr-xr-x 2 root root 34 Feb 13 18:54 [0m[01;34m.[0m
drwxr-xr-x 5 root root 79 Feb 13 18:54 [01;34m..[0m
-rw-r--r-- 1 root root  0 Feb 13 18:54 files_to_process.txt
[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# stat -c '%a %A' /home/user/workflows/image_cleanup/temp
[?2004l1755 drwxr-xr-t
[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# mkdir -p /home/user
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# cat > /home/user/sample_images.txt << 'EOF'
[?2004l[?2004h>   Image1.JPG  
[?2004l[?2004h> IMG2.PNG
[?2004l[?2004h>    
[?2004l[?2004h>  image3.jpg
[?2004l[?2004h> Image4.Jpg
[?2004l[?2004h>   IMG5.JPG
[?2004l[?2004h>   
[?2004l[?2004h> IMAGE6.PNG
[?2004l[?2004h> image7.jpg
[?2004l[?2004h> IMAGE8.JPG
[?2004l[?2004h> 
[?2004l[?2004h>   
[?2004l[?2004h> image9.jpg
[?2004l[?2004h>   
[?2004l[?2004h> IMG10.JPG
[?2004l[?2004h> 
[?2004l[?2004h> EOF
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# cat /home/user/sample_images.txt
[?2004l  Image1.JPG  
IMG2.PNG
   
 image3.jpg
Image4.Jpg
  IMG5.JPG
  
IMAGE6.PNG
image7.jpg
IMAGE8.JPG

  
image9.jpg
  
IMG10.JPG

[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# cat /home/user/sample_images.txt | awk '{$1=$1; print}' | tr '[A-Z]' '[a-z]' | grep -v '^$' | grep '\.jpg$' | sort -u > /home/user/workflows/image_cleanup/input/files_to_process.txt
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# cat /home/user/workflows/image_cleanup/input/files_to_process.txt
[?2004limage1.jpg
image3.jpg
image4.jpg
image7.jpg
image8.jpg
image9.jpg
img10.jpg
img5.jpg
[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# cat > /home/user/workflows/image_cleanup/run.sh << 'EOF'
[?2004l[?2004h> #!/usr/bin/env bash
[?2004l[?2004h> count=$(wc -l < input/files_to_process.txt)
[?2004l[?2004h> echo "Found $count files to process."
[?2004l[?2004h> EOF
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# chmod u+x /home/user/workflows/image_cleanup/run.sh
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# bash /home/user/workflows/image_cleanup/run.sh
[?2004l/home/user/workflows/image_cleanup/run.sh: line 2: input/files_to_process.txt: No such file or directory
Found  files to process.
[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# cat > /home/user/workflows/image_cleanup/run.sh << 'EOF'
[?2004l[?2004h> #!/usr/bin/env bash
[?2004l[?2004h> SCRIPT_DIR="$(dirname "$0")"
[?2004l[?2004h> DATA_FILE="${SCRIPT_DIR}/input/files_to_process.txt"
[?2004l[?2004h> count=$(wc -l < "$DATA_FILE")
[?2004l[?2004h> echo "Found $count files to process."
[?2004l[?2004h> EOF
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# bash /home/user/workflows/image_cleanup/run.sh
[?2004lFound 8 files to process.
[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# TIMESTAMP=$(date +'%Y-%m-%d %H:%M:%S')
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# MD5_HASH=$(md5sum /home/user/workflows/image_cleanup/input/files_to_process.txt | cut -d' ' -f1)
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# FILE_SIZE=$(stat -c%s /home/user/workflows/image_cleanup/input/files_to_process.txt)
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# cat > /home/user/workflows/setup.log << EOF_TO_APPEND
[?2004l[?2004h> SETUP COMPLETE
[?2004l[?2004h> Timestamp: $TIMESTAMP
[?2004l[?2004h> Directories:
[?2004l[?2004h> - /home/user/workflows/image_cleanup
[?2004l[?2004h> - /home/user/workflows/image_cleanup/input
[?2004l[?2004h> - /home/user/workflows/image_cleanup/output
[?2004l[?2004h> - /home/user/workflows/image_cleanup/temp
[?2004l[?2004h> Files:
[?2004l[?2004h> - /home/user/workflows/image_cleanup/run.sh (executable)
[?2004l[?2004h> - /home/user/workflows/image_cleanup/input/files_to_process.txt
[?2004l[?2004h> Metadata:
[?2004l[?2004h> - files_to_process.txt: $MD5_HASH $FILE_SIZE bytes
[?2004l[?2004h> EOF_TO_APPEND
[?2004l[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# cat /home/user/workflows/setup.log
[?2004lSETUP COMPLETE
Timestamp: 2026-02-13 18:55:06
Directories:
- /home/user/workflows/image_cleanup
- /home/user/workflows/image_cleanup/input
- /home/user/workflows/image_cleanup/output
- /home/user/workflows/image_cleanup/temp
Files:
- /home/user/workflows/image_cleanup/run.sh (executable)
- /home/user/workflows/image_cleanup/input/files_to_process.txt
Metadata:
- files_to_process.txt: cf99bc39be9c227f55285cac000b51eb 85 bytes
[?2004hroot@4fa6b781-5ceb-4d57-b68e-47e62ee58bb3:~# 