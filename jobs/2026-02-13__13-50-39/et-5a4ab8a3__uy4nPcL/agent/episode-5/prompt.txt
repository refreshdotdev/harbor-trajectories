Previous response had warnings:
WARNINGS: - Extra text detected before JSON object
- Extra text detected after JSON object

New Terminal Output:

root@c4b96938-b8b3-4a28-bc7a-6eeb3153462d:/home/user/iot_deployment# TOP_PROCESSES=$(top -b -n 1 -o %CPU | awk 'NR>6 && $NF !~ /^\[/ {printf("{\"pid\":%d,\"user
\":\"%s\",\"command\":\"%s\",\"cpu_percent\":%.1f,\"mem_percent\":%.1f},\n", $1, $2, $NF, $9, $10)}' | head -5 | sed 's/,$//')
bad data in /proc/uptime
bad data in /proc/uptime
awk: write failure
awk: close failed on file /dev/stdout (Broken pipe)
root@c4b96938-b8b3-4a28-bc7a-6eeb3153462d:/home/user/iot_deployment# echo "TOP_PROCESSES: $TOP_PROCESSES"
TOP_PROCESSES: {"pid":0,"user":"USER","command":"COMMAND","cpu_percent":0.0,"mem_percent":0.0}
{"pid":1,"user":"root","command":"daytona","cpu_percent":0.0,"mem_percent":0.0}
{"pid":77,"user":"root","command":"sleep","cpu_percent":0.0,"mem_percent":0.0}
{"pid":80,"user":"root","command":"python3","cpu_percent":0.0,"mem_percent":0.0}
{"pid":95,"user":"root","command":"bash","cpu_percent":0.0,"mem_percent":0.0}
root@c4b96938-b8b3-4a28-bc7a-6eeb3153462d:/home/user/iot_deployment# OPEN_PORTS=$(netstat -tuln | awk 'NR>2 && $6!~/^LISTEN$/ {print $4}' | cut -d':' -f2 | sort
 -un | awk '{printf("%d,
> ", $1)}' | sed 's/,$//')
awk: line 1: runaway string constant "%d, ...
root@c4b96938-b8b3-4a28-bc7a-6eeb3153462d:/home/user/iot_deployment# echo "OPEN_PORTS: $OPEN_PORTS"
OPEN_PORTS:
root@c4b96938-b8b3-4a28-bc7a-6eeb3153462d:/home/user/iot_deployment#
