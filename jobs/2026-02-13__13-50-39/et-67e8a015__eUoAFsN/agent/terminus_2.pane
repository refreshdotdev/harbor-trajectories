[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:~# asciinema rec --stdin /logs/agent/recording.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent/recording.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:~# clear
[?2004l[H[J[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:~# cd /home/user/localization
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# rm -f fr_FR/*
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# cp templates/messages.pot fr_FR/messages.po
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# VERSION=$(cat config/version.txt) && TIMESTAMP=$(date -u '+%Y-%m-%d %H:%M+0000') && sed -i 's/Project-Id-Version: PACKAGE VERSION/Project-Id-Version: '$VERSION'/; s/PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE/PO-Revision-Date: '$TIMESTAMP'/; /^"Content-Type/s/charset=CHARSET/charset=UTF-8/; /^"Language/ d; /^""/a"Language: fr_FR\n"' fr_FR/messages.po
[?2004lsed: -e expression #1, char 141: unterminated `s' command
[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# echo "$TIMESTAMP Updated fr_FR translation to version $VERSION" >> update.log
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# sha256sum fr_FR/messages.po > fr_FR/checksum.sha256
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# ls -la fr_FR/
[?2004ltotal 8
drwxr-xr-x 1 root root  80 Feb 13 18:57 [0m[01;34m.[0m
drwxr-xr-x 1 root root  49 Feb 13 18:50 [01;34m..[0m
-rwxr-xr-x 1 root root   0 Feb 13 18:50 [01;32m.temp_config[0m
-rw-r--r-- 1 root root  84 Feb 13 18:57 checksum.sha256
-rw-r--r-- 1 root root 301 Feb 13 18:57 messages.po
[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# echo "=== Messages.po headers ===" && head -n 20 fr_FR/messages.po | grep -E "(Project-Id-Version|PO-Revision-Date|Language|Content-Type)" || echo "Headers not found as expected"
[?2004l=== Messages.po headers ===
"[01;31m[KProject-Id-Version[m[K: 0.0\n"
"[01;31m[KPO-Revision-Date[m[K: YEAR-MO-DA HO:MI+ZONE\n"
"[01;31m[KLanguage[m[K-Team: 
"[01;31m[KContent-Type[m[K: text/plain; charset=CHARSET\n"
[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# echo "=== Last log entry ===" && tail -n 1 update.log
[?2004l=== Last log entry ===
2026-02-13 18:57+0000 Updated fr_FR translation to version 2.5.1-beta
[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# echo "=== Checksum ===" && cat fr_FR/checksum.sha256
[?2004l=== Checksum ===
7dde8b35b9d2657d5dbad2c673264c32dc529a8cba0896de5b839981ba93b478  fr_FR/messages.po
[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# rm -f fr_FR/*
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# cp templates/messages.pot fr_FR/messages.po
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# VERSION=$(cat config/version.txt) && TIMESTAMP=$(date -u '+%Y-%m-%d %H:%M+0000')
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# cat > update_po.sh << 'EOF'
[?2004l[?2004h> #!/bin/bash
[?2004l[?2004h> set -e
[?2004l[?2004h> VERSION="$1"
[?2004l[?2004h> TIMESTAMP="$2"
[?2004l[?2004h> PO_FILE="$3"
[?2004l[?2004h> 
[?2004l[?2004h> cat "$PO_FILE" | \
[?2004l[?2004h> sed "s/Project-Id-Version: PACKAGE VERSION/Project-Id-Version: $VERSION/" | \
[?2004l[?2004h> sed "s/PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE/PO-Revision-Date: $TIMESTAMP/" | \
[?2004l[?2004h> sed 's/charset=CHARSET/charset=UTF-8/' | \
[?2004l[?2004h> sed '/^"Language: /d' | \
[?2004l[?2004h> awk '
[?2004l[?2004h>     /^$/ && !found {print "Language: fr_FR"; found=1}
[?2004l[?2004h>     {print}
[?2004l[?2004h> ' > "${PO_FILE}.new"
[?2004l[?2004h> mv "${PO_FILE}.new" "$PO_FILE"
[?2004l[?2004h> EOF
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# chmod +x update_po.sh
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# ./update_po.sh "$VERSION" "$TIMESTAMP" fr_FR/messages.po
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# rm -f update_po.sh
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# echo "$TIMESTAMP Updated fr_FR translation to version $VERSION" >> update.log
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# sha256sum fr_FR/messages.po > fr_FR/checksum.sha256
[?2004l[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# ls -la fr_FR/
[?2004ltotal 8
drwxr-xr-x 1 root root  80 Feb 13 18:57 [0m[01;34m.[0m
drwxr-xr-x 1 root root  49 Feb 13 18:57 [01;34m..[0m
-rwxr-xr-x 1 root root   0 Feb 13 18:50 [01;32m.temp_config[0m
-rw-r--r-- 1 root root  84 Feb 13 18:57 checksum.sha256
-rw-r--r-- 1 root root 299 Feb 13 18:57 messages.po
[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# echo "=== Messages.po headers ===" && head -n 20 fr_FR/messages.po | grep -E "(Project-Id-Version|PO-Revision-Date|Language|Content-Type)" || echo "Headers not found as expected"
[?2004l=== Messages.po headers ===
"[01;31m[KProject-Id-Version[m[K: 0.0\n"
"[01;31m[KPO-Revision-Date[m[K: 2026-02-13 18:57+0000\n"
"[01;31m[KLanguage[m[K-Team: 
"[01;31m[KContent-Type[m[K: text/plain; charset=UTF-8\n"
[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# echo "=== Last log entry ===" && tail -n 1 update.log
[?2004l=== Last log entry ===
2026-02-13 18:57+0000 Updated fr_FR translation to version 2.5.1-beta
[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# echo "=== Checksum ===" && cat fr_FR/checksum.sha256
[?2004l=== Checksum ===
538c14b11e67e509323899339a26b33a23512c44f038d597471b663bc86ddf01  fr_FR/messages.po
[?2004hroot@c24b39b1-31c8-48b2-a0bb-39667f376762:/home/user/localization# 