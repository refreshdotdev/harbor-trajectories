============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-9.0.2, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /tests
collecting ... collected 5 items

../../../tests/test_final_state.py::test_files_exist FAILED              [ 20%]
../../../tests/test_final_state.py::test_tsv_encoding_and_line_endings FAILED [ 40%]
../../../tests/test_final_state.py::test_tsv_content_logic FAILED        [ 60%]
../../../tests/test_final_state.py::test_manifest_json FAILED            [ 80%]
../../../tests/test_final_state.py::test_audit_log FAILED                [100%]

=================================== FAILURES ===================================
_______________________________ test_files_exist _______________________________

    def test_files_exist():
>       assert os.path.isfile(TSV_FILE), "migration_plan.tsv is missing"
E       AssertionError: migration_plan.tsv is missing
E       assert False
E        +  where False = <function isfile at 0x79a75f841f30>('/home/user/cloud/output/migration_plan.tsv')
E        +    where <function isfile at 0x79a75f841f30> = <module 'posixpath' from '/usr/lib/python3.10/posixpath.py'>.isfile
E        +      where <module 'posixpath' from '/usr/lib/python3.10/posixpath.py'> = os.path

/tests/test_final_state.py:33: AssertionError
______________________ test_tsv_encoding_and_line_endings ______________________

    def test_tsv_encoding_and_line_endings():
        """
        Strictly checks that the file is ISO-8859-1 and uses CRLF.
        """
>       raw_bytes = _read_binary(TSV_FILE)

/tests/test_final_state.py:41: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

path = '/home/user/cloud/output/migration_plan.tsv'

    def _read_binary(path):
>       with open(path, "rb") as f:
E       FileNotFoundError: [Errno 2] No such file or directory: '/home/user/cloud/output/migration_plan.tsv'

/tests/test_final_state.py:25: FileNotFoundError
____________________________ test_tsv_content_logic ____________________________

    def test_tsv_content_logic():
        """
        Verifies: sorting, filtering (Decom/Pending), lowercase transformation,
        suffix appending, and ZWS stripping.
        """
>       raw_bytes = _read_binary(TSV_FILE)

/tests/test_final_state.py:78: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

path = '/home/user/cloud/output/migration_plan.tsv'

    def _read_binary(path):
>       with open(path, "rb") as f:
E       FileNotFoundError: [Errno 2] No such file or directory: '/home/user/cloud/output/migration_plan.tsv'

/tests/test_final_state.py:25: FileNotFoundError
______________________________ test_manifest_json ______________________________

    def test_manifest_json():
        """
        Verifies manifest structure and values.
        """
>       with open(MANIFEST_FILE, 'r') as f:
E       FileNotFoundError: [Errno 2] No such file or directory: '/home/user/cloud/output/manifest.json'

/tests/test_final_state.py:107: FileNotFoundError
________________________________ test_audit_log ________________________________

    def test_audit_log():
>       with open(AUDIT_LOG, 'r') as f:
E       FileNotFoundError: [Errno 2] No such file or directory: '/home/user/cloud/output/audit.log'

/tests/test_final_state.py:128: FileNotFoundError
=========================== short test summary info ============================
FAILED ../../../tests/test_final_state.py::test_files_exist - AssertionError:...
FAILED ../../../tests/test_final_state.py::test_tsv_encoding_and_line_endings
FAILED ../../../tests/test_final_state.py::test_tsv_content_logic - FileNotFo...
FAILED ../../../tests/test_final_state.py::test_manifest_json - FileNotFoundE...
FAILED ../../../tests/test_final_state.py::test_audit_log - FileNotFoundError...
============================== 5 failed in 0.04s ===============================
