New Terminal Output:

> EOFcat >> solve.sh << 'EOF'
>
> # Archival - Convert CSV to TSV and create tarball
> echo "Preparing archive..."
> cd "$RAW_BACKUP_DIR"
>
> # Convert CSV to TSV and collect files for tarball
> archive_files=()
> for csv_file in *.csv; do
>     tsv_file="\${csv_file%.csv}.tsv"
>     # Convert CSV to TSV (replace commas with tabs)
>     sed 's/,/\t/g' "\$csv_file" > "\$tsv_file"
>     archive_files+=("\$tsv_file")
> done
>
> # Create tarball name
> archive_name="data_\$REGION_CODE_\$TODAY_\$total_records.tar.gz"
>
> echo "Creating archive: \$archive_name with \$((\#{archive_files[@]})) files"
> tar -czf "$ARCHIVE_DIR/\$archive_name" "\${archive_files[@]}" 2>/dev/null
>
> if [ \$? -eq 0 ]; then
>     echo "Archive created successfully"
>     # Clean up TSV files from raw_backup directory
>     rm "\${archive_files[@]}"
> else
>     echo "Error creating archive"
> fi
>
> EOF
