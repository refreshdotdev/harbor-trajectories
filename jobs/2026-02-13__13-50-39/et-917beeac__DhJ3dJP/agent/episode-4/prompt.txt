New Terminal Output:

root@f42bf202-aec8-4d74-9485-6e5ec0d101c5:/home/user# cat >> solve.sh << 'EOF'
>
> # Main processing function
> process_files() {
>     echo "Starting file processing..."
>
>     # Get current date for archive naming
>     CURRENT_DATE=$(date +%Y%m%d)
>
>     for csv_file in "$INCOMING_DIR"/*.csv; do
>         if [ ! -f "$csv_file" ]; then
>             echo "No CSV files found in $INCOMING_DIR"
>             exit 1
>         fi
>
>         filename=$(basename "$csv_file")
>         echo "Processing file: $filename"
>
>         # Check for BOM
>         if check_bom "$csv_file"; then
>             echo "ERROR: BOM detected in $filename. Moving to quarantine."
>             mv "$csv_file" "$QUARANTINE_DIR/"
>         else
>             echo "File is clean. Processing $filename..."
>             VALID_FILES+=("$filename")
>
>             # Count data rows (excluding header)
>             row_count=$(tail -n +2 "$csv_file" | wc -l)
>             TOTAL_RECORDS=$((TOTAL_RECORDS + row_count))
>
>             # Convert to TSV for archival
>             convert_csv_to_tsv "$csv_file" "$csv_file.tsv"
>         fi
>     done
> }
>
> # Function to count data rows
> count_data_rows() {
>     local file="$1"
>     tail -n +2 "$file" | wc -l
> }
> EOF
root@f42bf202-aec8-4d74-9485-6e5ec0d101c5:/home/user# ./solve.sh
Configuration loaded successfully. REGION_CODE: US_EAST
root@f42bf202-aec8-4d74-9485-6e5ec0d101c5:/home/user#
