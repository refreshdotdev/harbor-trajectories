New Terminal Output:

> EOFcat >> solve.sh << 'EOF'
>
> # Sort orders.tsv by total_amount (3rd column) descending
> if [[ -f "/home/user/etl/staging/orders.tsv" ]]; then
>   sort -t$'\t' -k3,3nr /home/user/etl/staging/orders.tsv -o /home/user/etl/staging/orders.tsv
> fi
>
> # Generate manifest file
> manifest_file="/home/user/etl/logs/process_manifest.txt"
>
> # Create header
> echo "Legacy ETL Manifest Â© 2023" > "$manifest_file"
>
> # Add file entries in alphabetical order
> for csv_file in $(echo ${!PROCESSED_FILES[@]} | sort); do
>   base_csv=$(basename "$csv_file" .csv)
>   echo "$base_csv|${PROCESSED_FILES[$csv_file]}" >> "$manifest_file"
> done
>
> # Convert manifest to ISO-8859-1 encoding-iconv -f UTF-8 -t ISO-8859-1 "$manifest_file" > "${manifest_file}.tmp" && mv "${manifest_file}.tmp" "$manifest_file"
> EOF
