[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:~# asciinema rec --stdin /logs/agent/recording.cast
[?2004lasciinema needs an ASCII or UTF-8 character encoding to run. Check the output of `locale` command.
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:~# clear
[?2004l[H[J[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:~# export AUDIT_LOCATION="/home/user/audit"
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:~# mkdir -p "$AUDIT_LOCATION"
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:~# cd "$AUDIT_LOCATION"
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# timestamp1="$(date -u +"%Y-%m-%dT%H:%M:%SZ")"
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# cpu_cores=$(nproc)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# echo "$timestamp1|CPU_CORES|$cpu_cores|count|nproc" >> benchmark_audit.log
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# timestamp2="$(date -u +"%Y-%m-%dT%H:%M:%SZ")"
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# mem_total_mib=$(free -m | awk 'NR==2{print $2}')
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# echo "$timestamp2|MEM_TOTAL_MIB|$mem_total_mib|MiB|free -m" >> benchmark_audit.log
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# dd_output=$(dd if=/dev/urandom of=temp_disk_test.bin bs=1M count=1000 2>&1)
[?2004lrm temp_disk_test.bin
timestamp3="$(date -u +"%Y-%m-%dT%H:%M:%SZ")"
disk_write_mibps=$(echo "$dd_output" | grep -- "bytes.*$" | awk -F',| ' '{print $8}' | sed 's/[^0-9.]*//g')
echo "$timestamp3|DISK_WRITE_MIBPS|$disk_write_mibps|MiB/s|dd if=/dev/urandom of=temp_disk_test.bin bs=1M count=1000" >> benchmark_audit.log
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# rm temp_disk_test.bin
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# timestamp3="$(date -u +"%Y-%m-%dT%H:%M:%SZ")"
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# disk_write_mibps=$(echo "$dd_output" | grep -- "bytes.*$" | awk -F',| ' '{print $8}' | sed 's/[^0-9.]]*//g')
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# echo "$timestamp3|DISK_WRITE_MIBPS|$disk_write_mibps|MiB/s|dd if=/dev/urandom of=temp_disk_test.bin bbs=1M count=1000" >> benchmark_audit.log
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# ping_output=$(ping -c 5 8.8.8.8 2>&1 | grep -E "time=[0-9]+" | awk -F"time=" '{print $2}' | awk '{priint $1}')
[?2004llatency_times=($ping_output)
latencies_sorted=($(for time in "${latency_times[@]}"; do echo "$time"; done | sort -n))
network_latency_ms="${latencies_sorted[2]}"
network_jitter_ms=$(echo "${latencies_sorted[4]} - ${latencies_sorted[0]}" | bc -l)
timestamp4="$(date -u +"%Y-%m-%dT%H:%M:%SZ")"
echo "$timestamp4|NET_LATENCY_MS|$network_latency_ms|ms|ping -c 5 8.8.8.8" >> benchmark_audit.log
timestamp5="$(date -u +"%Y-%m-%dT%H:%M:%SZ")"
echo "$timestamp5|NET_JITTER_MS|$network_jitter_ms|ms|ping -c 5 8.8.8.8" >> benchmark_audit.log
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# latency_times=($ping_output)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# latencies_sorted=($(for time in "${latency_times[@]}"; do echo "$time"; done | sort -n))
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# network_latency_ms="${latencies_sorted[2]}"
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# network_jitter_ms=$(echo "${latencies_sorted[4]} - ${latencies_sorted[0]}" | bc -l)
[?2004lbash: bc: command not found
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# timestamp4="$(date -u +"%Y-%m-%dT%H:%M:%SZ")"
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# echo "$timestamp4|NET_LATENCY_MS|$network_latency_ms|ms|ping -c 5 8.8.8.8" >> benchmark_audit.log
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# timestamp5="$(date -u +"%Y-%m-%dT%H:%M:%SZ")"
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# echo "$timestamp5|NET_JITTER_MS|$network_jitter_ms|ms|ping -c 5 8.8.8.8" >> benchmark_audit.log
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# cat benchmark_audit.log
[?2004l2026-02-13T19:10:03Z|CPU_CORES|64|count|nproc
2026-02-13T19:10:18Z|MEM_TOTAL_MIB|773197|MiB|free -m
2026-02-13T19:10:38Z|DISK_WRITE_MIBPS||MiB/s|dd if=/dev/urandom of=temp_disk_test.bin bs=1M count=1000
2026-02-13T19:11:04Z|NET_LATENCY_MS|0.788|ms|ping -c 5 8.8.8.8
2026-02-13T19:11:04Z|NET_JITTER_MS||ms|ping -c 5 8.8.8.8
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# first_timestamp=$(head -n 1 benchmark_audit.log | cut -d'|' -f1)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# last_timestamp=$(tail -n 1 benchmark_audit.log | cut -d'|' -f1)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# benchmark_duration_seconds=$(date -u -d"$last_timestamp" +%s.%3f -d"$first_timestamp" +%s.%3f | awk ''{print $1 - $2}')
[?2004ldate: extra operand '+%s.%3f'
Try 'date --help' for more information.
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# cpu_cores=$(grep "CPU_CORES" benchmark_audit.log | cut -d'|' -f3)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# mem_total_mib=$(grep "MEM_TOTAL_MIB" benchmark_audit.log | cut -d'|' -f3)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# disk_write_mibps=$(grep "DISK_WRITE_MIBPS" benchmark_audit.log | cut -d'|' -f3)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# network_latency_ms=$(grep "NET_LATENCY_MS" benchmark_audit.log | cut -d'|' -f3)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# network_jitter_ms=$(grep "NET_JITTER_MS" benchmark_audit.log | cut -d'|' -f3)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# summary_timestamp=$(date -u +"%Y-%m-%dT%H:%M:%SZ")
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# cat > benchmark_summary.json << EOF
[?2004l[?2004h> {
[?2004l[?2004h>   "cpu_core_count": $cpu_cores,
[?2004l[?2004h>   "total_memory_bytes": $((mem_total_mib * 1024 * 1024)),
[?2004l[?2004h>   "disk_write_mib_per_sec": $disk_write_mibps,
[?2004l[?2004h>   "network_latency_ms": $network_latency_ms,
[?2004l[?2004h>   "network_jitter_ms": $network_jitter_ms,
[?2004l[?2004h>   "benchmark_duration_seconds": $(printf "%.3f" "$benchmark_duration_seconds"),
[?2004l[?2004h>   "timestamp": "$summary_timestamp"
[?2004l[?2004h> }
[?2004l[?2004h> EOF
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# cat benchmark_audit.log
[?2004l2026-02-13T19:10:03Z|CPU_CORES|64|count|nproc
2026-02-13T19:10:18Z|MEM_TOTAL_MIB|773197|MiB|free -m
2026-02-13T19:10:38Z|DISK_WRITE_MIBPS||MiB/s|dd if=/dev/urandom of=temp_disk_test.bin bs=1M count=1000
2026-02-13T19:11:04Z|NET_LATENCY_MS|0.788|ms|ping -c 5 8.8.8.8
2026-02-13T19:11:04Z|NET_JITTER_MS||ms|ping -c 5 8.8.8.8
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# disk_write_mibps=$(dd if=/dev/urandom of=/tmp/temp_disk_test.bin bs=1M count=1000 2>&1 | grep -- "byttes.*" | awk -F',| ' '{print $8}' | sed 's/[^0-9.]//g')
[?2004lrm -f /tmp/temp_disk_test.bin
sed -i "s/|DISK_WRITE_MIBPS| ||MiB/s|DISK_WRITE_MIBPS|$disk_write_mibps|MiB/s" benchmark_audit.log
ping_output=$(ping -c 5 8.8.8.8 2>&1 | grep -E "time=[0-9]+" | awk -F"time=" '{print $2}' | awk '{print $1}')
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# rm -f /tmp/temp_disk_test.bin
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# sed -i "s/|DISK_WRITE_MIBPS| ||MiB/s|DISK_WRITE_MIBPS|$disk_write_mibps|MiB/s" benchmark_audit.log
[?2004lsed: -e expression #1, char 52: unknown option to `s'
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# ping_output=$(ping -c 5 8.8.8.8 2>&1 | grep -E "time=[0-9]+" | awk -F"time=" '{print $2}' | awk '{priint $1}')
[?2004llatency_times=($ping_output)
IFS='.' read -r min_latency_ms min_latency_us < <(printf "%s" "${latency_times[0]}")
IFS='.' read -r max_latency_ms max_latency_us < <(printf "%s" "${latency_times[4]}")
network_jitter_ms=$(awk -v min_ms="$min_latency_ms" -v min_us="$min_latency_us" -v max_ms="$max_latency_ms" -v max_us="$max_latency_us" 'BEGIN {printf "%.3f", (max_ms + max_us/1000) - (min_ms + min_us/1000)}')
sed -i "s/|NET_JITTER_MS| ||ms/|NET_JITTER_MS|$network_jitter_ms|ms/" benchmark_audit.log
first_timestamp=$(head -n 1 benchmark_audit.log | cut -d'|' -f1)
last_timestamp=$(tail -n 1 benchmark_audit.log | cut -d'|' -f1)
benchmark_duration_seconds=$(date -u -d "$last_timestamp" +%s.%3f -d "$first_timestamp" +%s.%3f | awk '{print $1 - $2}')
cpu_cores=$(grep "CPU_CORES" benchmark_audit.log | cut -d'|' -f3)
mem_total_mib=$(grep "MEM_TOTAL_MIB" benchmark_audit.log | cut -d'|' -f3)
disk_write_mibps=$(grep "DISK_WRITE_MIBPS" benchmark_audit.log | cut -d'|' -f3)
network_latency_ms=$(grep "NET_LATENCY_MS" benchmark_audit.log | cut -d'|' -f3)
network_jitter_ms=$(grep "NET_JITTER_MS" benchmark_audit.log | cut -d'|' -f3)
summary_timestamp=$(date -u +"%Y-%m-%dT%H:%M:%SZ")
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# latency_times=($ping_output)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# IFS='.' read -r min_latency_ms min_latency_us < <(printf "%s" "${latency_times[0]}")
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# IFS='.' read -r max_latency_ms max_latency_us < <(printf "%s" "${latency_times[4]}")
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# network_jitter_ms=$(awk -v min_ms="$min_latency_ms" -v min_us="$min_latency_us" -v max_ms="$max_latenncy_ms" -v max_us="$max_latency_us" 'BEGIN {printf "%.3f", (max_ms + max_us/1000) - (min_ms + min_us/1000)}')
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# sed -i "s/|NET_JITTER_MS| ||ms/|NET_JITTER_MS|$network_jitter_ms|ms/" benchmark_audit.log
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# first_timestamp=$(head -n 1 benchmark_audit.log | cut -d'|' -f1)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# last_timestamp=$(tail -n 1 benchmark_audit.log | cut -d'|' -f1)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# benchmark_duration_seconds=$(date -u -d "$last_timestamp" +%s.%3f -d "$first_timestamp" +%s.%3f | awkk '{print $1 - $2}')
[?2004ldate: extra operand '+%s.%3f'
Try 'date --help' for more information.
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# cpu_cores=$(grep "CPU_CORES" benchmark_audit.log | cut -d'|' -f3)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# mem_total_mib=$(grep "MEM_TOTAL_MIB" benchmark_audit.log | cut -d'|' -f3)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# disk_write_mibps=$(grep "DISK_WRITE_MIBPS" benchmark_audit.log | cut -d'|' -f3)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# network_latency_ms=$(grep "NET_LATENCY_MS" benchmark_audit.log | cut -d'|' -f3)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# network_jitter_ms=$(grep "NET_JITTER_MS" benchmark_audit.log | cut -d'|' -f3)
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# summary_timestamp=$(date -u +"%Y-%m-%dT%H:%M:%SZ")
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# cat > benchmark_summary.json << EOF
[?2004l[?2004h> {
[?2004l[?2004h>   "cpu_core_count": $cpu_cores,
[?2004l[?2004h>   "total_memory_bytes": $((mem_total_mib * 1024 * 1024)),
[?2004l[?2004h>   "disk_write_mib_per_sec": $disk_write_mibps,
[?2004l[?2004h>   "network_latency_ms": $network_latency_ms,
[?2004l[?2004h>   "network_jitter_ms": $network_jitter_ms,
[?2004l[?2004h>   "benchmark_duration_seconds": $(printf "%.3f" "$benchmark_duration_seconds"),
[?2004l[?2004h>   "timestamp": "$summary_timestamp"
[?2004l[?2004h> }
[?2004l[?2004h> EOF
[?2004l[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# cat benchmark_audit.log
[?2004l2026-02-13T19:10:03Z|CPU_CORES|64|count|nproc
2026-02-13T19:10:18Z|MEM_TOTAL_MIB|773197|MiB|free -m
2026-02-13T19:10:38Z|DISK_WRITE_MIBPS||MiB/s|dd if=/dev/urandom of=temp_disk_test.bin bs=1M count=1000
2026-02-13T19:11:04Z|NET_LATENCY_MS|0.788|ms|ping -c 5 8.8.8.8
2026-02-13T19:11:04Z|NET_JITTER_MS||ms|ping -c 5 8.8.8.8
[?2004hroot@749aab35-b3e7-4e4f-9379-e3c569ab36e2:/home/user/audit# 