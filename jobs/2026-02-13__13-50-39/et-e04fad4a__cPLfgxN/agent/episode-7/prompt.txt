Previous response had warnings:
WARNINGS: - Extra text detected before JSON object
- Extra text detected after JSON object
- Command 1 should end with newline when followed by another command. Otherwise the two commands will be concatenated together on the same line.

New Terminal Output:

> cat > simple_test.sh << 'EOF'
> #!/bin/bash
>
> # Test processing one certificate
> meta_file="./broken/server_bad_hash.meta"
>
> echo "Testing ${meta_file}"
>
> # Initialize output files
> echo "filename,subject,issuer,not_before,not_after,days_until_expiry,status" > /home/user/cert_analysis/expiring_certs.csv
> echo "" > /home/user/cert_analysis/analysis.log
> printf "[]" > /home/user/cert_analysis/errors.json
>
> today_ts=$(date +%s)
>
> crt_file="${meta_file%.*}.crt"
> base_name=$(basename -- "${meta_file%.*}")
>
> echo "Base name: ${base_name}"
> echo "CRT file: ${crt_file}"
>
> # Test if CRT file exists
> if [ ! -f "${crt_file}" ]; then
>     echo "CRT file missing"
> else
>     echo "CRT file exists"
> fi
> EOFchmod +x simple_test.sh
> ./simple_test.sh
>
