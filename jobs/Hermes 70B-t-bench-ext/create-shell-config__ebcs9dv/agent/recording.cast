{"version": 2, "width": 160, "height": 40, "timestamp": 1771009540, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.005638, "o", "\u001b[?2004hroot@0922889e-7881-4f88-b0ff-e0a521a60871:~# "]
[0.92136, "i", "clear\r"]
[0.921471, "o", "clear\r\n\u001b[?2004l\r"]
[0.922439, "o", "\u001b[H\u001b[J"]
[0.922616, "o", "\u001b[?2004hroot@0922889e-7881-4f88-b0ff-e0a521a60871:~# "]
[8.161213, "i", "cd /home/user/hardener\n"]
[8.161315, "o", "cd /home/user/hardener\r\n\u001b[?2004l\r"]
[8.16144, "o", "\u001b[?2004h"]
[8.161463, "o", "root@0922889e-7881-4f88-b0ff-e0a521a60871:/home/user/hardener# "]
[8.301167, "i", "touch bump.log\n"]
[8.301264, "o", "touch bump.log\r\n\u001b[?2004l\r"]
[8.304247, "o", "\u001b[?2004hroot@0922889e-7881-4f88-b0ff-e0a521a60871:/home/user/hardener# "]
[8.542718, "i", "sha256sum version.txt | awk '{print \"START_HASH: \" $1}' > bump.log\n"]
[8.542925, "o", "sha256sum version.txt | awk '{print \"START_HASH: \" $1}' > bump.log\r\n\u001b[?2004l\r"]
[8.544684, "o", "\u001b[?2004hroot@0922889e-7881-4f88-b0ff-e0a521a60871:/home/user/hardener# "]
[30.291019, "i", "awk 'NR>1 { printf \"%s\", $0 > \"version.txt.tmp\" }' version.txt && mv version.txt.tmp version.txt\n"]
[30.291316, "o", "awk 'NR>1 { printf \"%s\", $0 > \"version.txt.tmp\" }' version.txt && mv version.txt.tmp version.txt\r\n\u001b[?2004l\r"]
[30.293641, "o", "mv: cannot stat 'version.txt.tmp': No such file or directory\r\n"]
[30.293846, "o", "\u001b[?2004hroot@0922889e-7881-4f88-b0ff-e0a521a60871:/home/user/hardener# "]
[30.42083, "i", "CURRENT_VERSION=$(grep -o \"v[^\"]*\" version.txt) && echo \"Processing $CURRENT_VERSION\" >> bump.log\n"]
[30.421126, "o", "CURRENT_VERSION=$(grep -o \"v[^\"]*\" version.txt) && echo \"Processing $CURRENT_VERSION\" >> bump.log \r\u001bM\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[Kg\r\n"]
[30.421158, "o", "\u001b[?2004l\r"]
[30.42118, "o", "\u001b[?2004h> "]
[30.581267, "i", "MAJOR=$(echo \"$CURRENT_VERSION\" | grep -o \"v[0-9]*\") && echo \"MAJOR: $MAJOR\" >> bump.log\n"]
[30.581562, "o", "MAJOR=$(echo \"$CURRENT_VERSION\" | grep -o \"v[0-9]*\") && echo \"MAJOR: $MAJOR\" >> bump.log\r\n\u001b[?2004l\r"]
[30.581592, "o", "\u001b[?2004h"]
[30.581612, "o", "> "]
[30.706109, "i", "MINOR=$(echo \"$CURRENT_VERSION\" | grep -oP \"(?<=\\.)[0-9]+(?=\\.)\") && NEW_MINOR=$((MINOR + 1)) && echo \"MINOR: $MINOR -> $NEW_MINOR\" >> bump.log\n"]
[30.706518, "o", "MINOR=$(echo \"$CURRENT_VERSION\" | grep -oP \"(?<=\\.)[0-9]+(?=\\.)\") && NEW_MINOR=$((MINOR + 1)) && echo \"MINOR: $MINOR -> $NEW_MINOR\" >> bump.log\r\n\u001b[?2004l\r"]
[30.706563, "o", "\u001b[?2004h"]
[30.706585, "o", "> "]
[30.881025, "i", "LABEL=$(echo \"$CURRENT_VERSION\" | grep -oP \"(?<=\\()[^)]+\" | tr -d '\n') && echo \"LABEL: $LABEL\" >> bump.log\n"]
[30.88124, "o", "LABEL=$(echo \"$CURRENT_VERSION\" | grep -oP \"(?<=\\()[^)]+\" | tr -d '\r\n\u001b[?2004l\r"]
[30.881274, "o", "\u001b[?2004h"]
[30.881296, "o", "> "]
[30.881379, "o", "') && echo \"LABEL: $LABEL\" >> bump.log\r\n\u001b[?2004l\r"]
[30.881405, "o", "\u001b[?2004h> "]
[31.057309, "i", "SUM_ASCII=$(echo -n \"$LABEL\" | LC_ALL=C grep -aob . | grep -o \"[0-9]*\" | awk '{sum+=$1} END {print sum}') && echo \"ASCII SUM: $SUM_ASCII\" >> bump.log\n"]
[31.057799, "o", "SUM_ASCII=$(echo -n \"$LABEL\" | LC_ALL=C grep -aob . | grep -o \"[0-9]*\" | awk '{sum+=$1} END {print sum}') && echo \"ASCII SUM: $SUM_ASCII\" >> bump.log\r\n\u001b[?2004l\r"]
[31.057873, "o", "\u001b[?2004h> "]
[31.22573, "i", "MAGIC_OFFSET=$(cat .config/magic_offset) && echo \"MAGIC OFFSET: $MAGIC_OFFSET\" >> bump.log\n"]
[31.226, "o", "MAGIC_OFFSET=$(cat .config/magic_offset) && echo \"MAGIC OFFSET: $MAGIC_OFFSET\" >> bump.log\r\n\u001b[?2004l\r"]
[31.226033, "o", "\u001b[?2004h"]
[31.226056, "o", "> "]
[31.431778, "i", "NEW_PATCH=$((SUM_ASCII + MAGIC_OFFSET)) && echo \"NEW PATCH: $NEW_PATCH\" >> bump.log\n"]
[31.432025, "o", "NEW_PATCH=$((SUM_ASCII + MAGIC_OFFSET)) && echo \"NEW PATCH: $NEW_PATCH\" >> bump.log\r\n"]
[31.432057, "o", "\u001b[?2004l\r"]
[31.432082, "o", "\u001b[?2004h"]
[31.432101, "o", "> "]
[31.545337, "i", "echo \"$MAJOR.$NEW_MINOR.$NEW_PATCH\" | iconv -t ISO-8859-1 > version.txt\n"]
[31.545644, "o", "echo \"$MAJOR.$NEW_MINOR.$NEW_PATCH\" | iconv -t ISO-8859-1 > version.txt\r\n\u001b[?2004l\r"]
[31.545686, "o", "\u001b[?2004h"]
[31.545711, "o", "> "]
[64.067843, "i", "if [ ! -s version.txt ]; then echo \"v0.0.0 (initial)\" > version.txt; fi\n"]
[64.068094, "o", "if [ ! -s version.txt ]; then echo \"v0.0.0 (initial)\" > version.txt; fi\r\n\u001b[?2004l\r"]
[64.068133, "o", "\u001b[?2004h"]
[64.068154, "o", "> "]
[64.43145, "i", "CURRENT_VERSION=$(grep -o \"v[^\"]*\" version.txt) || CURRENT_VERSION=\"v0.0.0 (initial)\"\n"]
[64.431733, "o", "CURRENT_VERSION=$(grep -o \"v[^\"]*\" version.txt) || CURRENT_VERSION=\"v0.0.0 (initial)\"\r\n\u001b[?2004l\r"]
[64.431782, "o", "\u001b[?2004h"]
[64.431801, "o", "> "]
[64.600961, "i", "echo \"Processing ${CURRENT_VERSION:-v0.0.0 (initial)}\" >> bump.log\n"]
[64.601193, "o", "echo \"Processing ${CURRENT_VERSION:-v0.0.0 (initial)}\" >> bump.log\r\n\u001b[?2004l\r"]
[64.601221, "o", "\u001b[?2004h"]
[64.601242, "o", "> "]
[64.791448, "i", "MAJOR=$(echo \"${CURRENT_VERSION}\" | grep -o \"v[0-9]*\") || MAJOR=\"v0\"\n"]
[64.791683, "o", "MAJOR=$(echo \"${CURRENT_VERSION}\" | grep -o \"v[0-9]*\") || MAJOR=\"v0\"\r\n\u001b[?2004l\r"]
[64.791738, "o", "\u001b[?2004h> "]
[65.003156, "i", "echo \"MAJOR: ${MAJOR:-v0}\" >> bump.log\n"]
[65.003301, "o", "echo \"MAJOR: ${MAJOR:-v0}\" >> bump.log\r\n"]
[65.003328, "o", "\u001b[?2004l\r"]
[65.003348, "o", "\u001b[?2004h> "]
[65.13159, "i", "MINOR=$(echo \"${CURRENT_VERSION}\" | grep -oP \"(?<=\\.)[0-9]+(?=\\.)\") || MINOR=0\n"]
[65.131904, "o", "MINOR=$(echo \"${CURRENT_VERSION}\" | grep -oP \"(?<=\\.)[0-9]+(?=\\.)\") || MINOR=0\r\n\u001b[?2004l\r"]
[65.131982, "o", "\u001b[?2004h> "]
[65.234623, "i", "NEW_MINOR=$((MINOR + 1))\n"]
[65.234734, "o", "NEW_MINOR=$((MINOR + 1))\r\n\u001b[?2004l\r"]
[65.234759, "o", "\u001b[?2004h"]
[65.234777, "o", "> "]
[65.396697, "i", "echo \"MINOR: ${MINOR:-0} -> $NEW_MINOR\" >> bump.log\n"]
[65.396881, "o", "echo \"MINOR: ${MINOR:-0} -> $NEW_MINOR\" >> bump.log\r\n\u001b[?2004l\r"]
[65.396928, "o", "\u001b[?2004h"]
[65.396946, "o", "> "]
[65.671195, "i", "LABEL=$(echo \"${CURRENT_VERSION}\" | grep -oP \"(?<=\\()[^)]+\") || LABEL=\"\"\n"]
[65.67144, "o", "LABEL=$(echo \"${CURRENT_VERSION}\" | grep -oP \"(?<=\\()[^)]+\") || LABEL=\"\"\r\n\u001b[?2004l\r"]
[65.67149, "o", "\u001b[?2004h> "]
[65.817282, "i", "echo \"LABEL: ${LABEL:-}\" >> bump.log\n"]
[65.817412, "o", "echo \"LABEL: ${LABEL:-}\" >> bump.log\r\n"]
[65.817441, "o", "\u001b[?2004l\r"]
[65.817463, "o", "\u001b[?2004h> "]
[65.999904, "i", "SUM_ASCII=$(echo -n \"${LABEL}\" | LC_ALL=C grep -aob \".\" | grep -o \"[0-9]*\" | awk '{sum+=$1} END {print sum}') || SUM_ASCII=0\n"]
[66.000283, "o", "SUM_ASCII=$(echo -n \"${LABEL}\" | LC_ALL=C grep -aob \".\" | grep -o \"[0-9]*\" | awk '{sum+=$1} END {print sum}') || SUM_ASCII=0\r\n\u001b[?2004l\r"]
[66.00032, "o", "\u001b[?2004h> "]
[66.163175, "i", "echo \"ASCII SUM: ${SUM_ASCII:-0}\" >> bump.log\n"]
[66.163334, "o", "echo \"ASCII SUM: ${SUM_ASCII:-0}\" >> bump.log\r\n\u001b[?2004l\r"]
[66.163374, "o", "\u001b[?2004h"]
[66.163405, "o", "> "]
[66.280515, "i", "MAGIC_OFFSET=$(cat .config/magic_offset 2>/dev/null) || MAGIC_OFFSET=0\n"]
[66.280769, "o", "MAGIC_OFFSET=$(cat .config/magic_offset 2>/dev/null) || MAGIC_OFFSET=0\r\n"]
[66.280813, "o", "\u001b[?2004l\r\u001b[?2004h"]
[66.280843, "o", "> "]
[66.474957, "i", "echo \"MAGIC OFFSET: ${MAGIC_OFFSET:-0}\" >> bump.log\n"]
[66.475134, "o", "echo \"MAGIC OFFSET: ${MAGIC_OFFSET:-0}\" >> bump.log\r\n"]
[66.475176, "o", "\u001b[?2004l\r"]
[66.475198, "o", "\u001b[?2004h> "]
[66.582864, "i", "NEW_PATCH=$((SUM_ASCII + MAGIC_OFFSET))\n"]
[66.583, "o", "NEW_PATCH=$((SUM_ASCII + MAGIC_OFFSET))\r\n\u001b[?2004l\r"]
[66.58304, "o", "\u001b[?2004h> "]
[66.86726, "i", "echo \"NEW PATCH: $NEW_PATCH\" >> bump.log\n"]
[66.867409, "o", "echo \"NEW PATCH: $NEW_PATCH\" >> bump.log\r\n\u001b[?2004l\r"]
[66.86745, "o", "\u001b[?2004h"]
[66.867473, "o", "> "]
[66.998928, "i", "echo \"${MAJOR}.${NEW_MINOR}.${NEW_PATCH}\" | iconv -t ISO-8859-1 > version.txt\n"]
[66.999189, "o", "echo \"${MAJOR}.${NEW_MINOR}.${NEW_PATCH}\" | iconv -t ISO-8859-1 > version.txt\r\n\u001b[?2004l\r"]
[66.999247, "o", "\u001b[?2004h> "]
[100.725705, "i", "cat > changelog_section.txt << 'EOF'\n## Version $(cat version.txt) :: $(date +%Y.%m.%d)\nEOF\n"]
[100.725972, "o", "cat > changelog_section.txt << 'EOF'\r\n\u001b[?2004l\r"]
[100.726027, "o", "\u001b[?2004h> "]
[100.726287, "o", "## Version $(cat version.txt) :: $(date +%Y.%m.%d)\r\n"]
[100.726319, "o", "\u001b[?2004l\r"]
[100.726351, "o", "\u001b[?2004h> "]
[100.726377, "o", "EOF\r\n\u001b[?2004l\r"]
[100.726396, "o", "\u001b[?2004h"]
[100.726425, "o", "> "]
[100.873899, "i", "ADDED=\\\"\\$(jq -r '.Added[] | select(. != null)' release_notes.json)\\\"\n"]
[100.87428, "o", "ADDED=\\\"\\$(jq -r '.Added[] | select(. != null)' release_notes.json)\\\"\r\n"]
[100.874307, "o", "\u001b[?2004l\r"]
[100.874336, "o", "\u001b[?2004h"]
[100.874386, "o", "> "]
[101.065943, "i", "SORTED_ADDED=$(echo \"$ADDED\" | jq -r '. | sort_by(-length) | sort_by(.)')\n"]
[101.066173, "o", "SORTED_ADDED=$(echo \"$ADDED\" | jq -r '. | sort_by(-length) | sort_by(.)')\r\n\u001b[?2004l\r"]
[101.066206, "o", "\u001b[?2004h"]
[101.066232, "o", "> "]
[101.162952, "i", "if [ \"$SORTED_ADDED\" = \"null\" ]; then echo \"### Added\" >> changelog_section.txt && echo \"_None_\" >> changelog_section.txt; else echo \"### Added\" >> changelog_section.txt && echo \"$SORTED_ADDED\" | jq -r '.[] | \"- \\\" + . + \\\"\"' >> changelog_section.txt; fi\n"]
[101.163766, "o", "if [ \"$SORTED_ADDED\" = \"null\" ]; then echo \"### Added\" >> changelog_section.txt && echo \"_None_\" >> changelog_section.txt; else echo \"### Added\" >> changelog_section.txt && echo \"$SORTED_ADDED\" | jq -r '.[] | \"- \\\" + . + \\\"\"' >> changelog_section.txt; fi\r\n\u001b[?2004l\r"]
[101.16382, "o", "\u001b[?2004h"]
[101.163846, "o", "> "]
[101.45344, "i", "CHANGED=\\\"\\$(jq -r '.Changed[] | select(. != null)' release_notes.json)\\\"\n"]
[101.453679, "o", "CHANGED=\\\"\\$(jq -r '.Changed[] | select(. != null)' release_notes.json)\\\"\r\n\u001b[?2004l\r"]
[101.453722, "o", "\u001b[?2004h"]
[101.45375, "o", "> "]
[101.652837, "i", "SORTED_CHANGED=$(echo \"$CHANGED\" | jq -r '. | sort_by(-length) | sort_by(.)')\n"]
[101.6531, "o", "SORTED_CHANGED=$(echo \"$CHANGED\" | jq -r '. | sort_by(-length) | sort_by(.)')\r\n\u001b[?2004l\r"]
[101.653145, "o", "\u001b[?2004h"]
[101.653175, "o", "> "]
[101.880754, "i", "if [ \"$SORTED_CHANGED\" = \"null\" ]; then echo \"### Changed\" >> changelog_section.txt && echo \"_None_\" >> changelog_section.txt; else echo \"### Changed\" >> changelog_section.txt && echo \"$SORTED_CHANGED\" | jq -r '.[] | \"- \\\" + . + \\\"\"' >> changelog_section.txt; fi\n"]
[101.881433, "o", "if [ \"$SORTED_CHANGED\" = \"null\" ]; then echo \"### Changed\" >> changelog_section.txt && echo \"_None_\" >> changelog_section.txt; else echo \"### Changed\" >> changelog_section.txt && echo \"$SORTED_CHANGED\" | jq -r '.[] | \"- \\\" + . + \\\"\"' >> changelog_section.txt; fi\r\n\u001b[?2004l\r"]
[101.881474, "o", "\u001b[?2004h"]
[101.881502, "o", "> "]
[102.001265, "i", "FIXED=\\\"\\$(jq -r '.Fixed[] | select(. != null)' release_notes.json)\\\"\n"]
[102.001682, "o", "FIXED=\\\"\\$(jq -r '.Fixed[] | select(. != null)' release_notes.json)\\\"\r\n\u001b[?2004l\r"]
[102.001758, "o", "\u001b[?2004h"]
[102.001789, "o", "> "]
[102.177977, "i", "SORTED_FIXED=$(echo \"$FIXED\" | jq -r '. | sort_by(-length) | sort_by(.)')\n"]
[102.1782, "o", "SORTED_FIXED=$(echo \"$FIXED\" | jq -r '. | sort_by(-length) | sort_by(.)')\r\n"]
[102.178231, "o", "\u001b[?2004l\r"]
[102.178254, "o", "\u001b[?2004h> "]
[102.346094, "i", "if [ \"$SORTED_FIXED\" = \"null\" ]; then echo \"### Fixed\" >> changelog_section.txt && echo \"_None_\" >> changelog_section.txt; else echo \"### Fixed\" >> changelog_section.txt && echo \"$SORTED_FIXED\" | jq -r '.[] | \"- \\\" + . + \\\"\"' >> changelog_section.txt; fi\n"]
[102.346818, "o", "if [ \"$SORTED_FIXED\" = \"null\" ]; then echo \"### Fixed\" >> changelog_section.txt && echo \"_None_\" >> changelog_section.txt; else echo \"### Fixed\" >> changelog_section.txt && echo \"$SORTED_FIXED\" | jq -r '.[] | \"- \\\" + . + \\\"\"' >> changelog_section.txt; fi\r\n\u001b[?2004l\r"]
[102.346868, "o", "\u001b[?2004h> "]
[102.461696, "i", "cat changelog_section.txt > temp.md && cat CHANGELOG.md >> temp.md && mv temp.md CHANGELOG.md\n"]
[102.461967, "o", "cat changelog_section.txt > temp.md && cat CHANGELOG.md >> temp.md && mv temp.md CHANGELOG.md\r\n\u001b[?2004l\r"]
[102.462014, "o", "\u001b[?2004h> "]
[102.68484, "i", "unix2dos CHANGELOG.md\n"]
[102.684982, "o", "unix2dos CHANGELOG.md\r\n\u001b[?2004l\r\u001b[?2004h> "]
[115.852134, "i", "mkdir -p dist\n"]
[115.852258, "o", "mkdir -p dist\r\n\u001b[?2004l\r\u001b[?2004h> "]
[115.994944, "i", "echo \"$(sha256sum version.txt | awk '{print $1 \"  VERSION.TXT\"}')\" > dist/release.map\n"]
[115.995205, "o", "echo \"$(sha256sum version.txt | awk '{print $1 \"  VERSION.TXT\"}')\" > dist/release.map\r\n\u001b[?2004l\r"]
[115.995314, "o", "\u001b[?2004h> "]
[116.115144, "i", "echo \"$(sha256sum CHANGELOG.md | awk '{print $1 \"  CHANGELOG.MD\"}')\" >> dist/release.map\n"]
[116.115427, "o", "echo \"$(sha256sum CHANGELOG.md | awk '{print $1 \"  CHANGELOG.MD\"}')\" >> dist/release.map\r\n\u001b[?2004l\r"]
[116.115464, "o", "\u001b[?2004h"]
[116.115483, "o", "> "]
[116.222263, "i", "sha256sum version.txt | awk '{print \"END_HASH: \" $1}' >> bump.log\n"]
[116.222559, "o", "sha256sum version.txt | awk '{print \"END_HASH: \" $1}' >> bump.log\r\n\u001b[?2004l\r"]
[116.222604, "o", "\u001b[?2004h"]
[116.222623, "o", "> "]
