Previous response had warnings:
WARNINGS: - Extra text detected before JSON object
- Extra text detected after JSON object

New Terminal Output:

root@e535d4ff-2e66-427a-ade1-d8e01430a6f3:/home/user/cmtracker# cat > generate_report.sh << 'EOF'
> #!/bin/bash
>
> DB="db/audit.db"
> REPORT_FILE="reports/audit_summary.csv"
> VERSION_FILE="/home/user/version.txt"
> SQL_LOG="logs/sql_history.log"
>
> # Get version string
> version="$(cat "$VERSION_FILE")"
>
> # Create report header
> header="PATH;EVENT;HASH;VERSION=$version"
>
> # Query data and format into CSV
> query="SELECT tf.rel_path, ae.event_type, tf.file_hash
>        FROM audit_events ae
>        JOIN tracked_files tf ON ae.file_id = tf.id
>        ORDER BY ae.event_type, tf.rel_path;"
>
> sqlite3 -separator ';' "$DB" "$query" |
> awk 'BEGIN {print "$header"} NR>1 && $0 !~ /^$/ {print}' > "$REPORT_FILE"
>
> # Log the report generation
> echo "-- Generated audit report: $REPORT_FILE" >> "$SQL_LOG"
> EOF
root@e535d4ff-2e66-427a-ade1-d8e01430a6f3:/home/user/cmtracker#
root@e535d4ff-2e66-427a-ade1-d8e01430a6f3:/home/user/cmtracker# chmod +x generate_report.sh
root@e535d4ff-2e66-427a-ade1-d8e01430a6f3:/home/user/cmtracker# chmod +x generate_report.sh
root@e535d4ff-2e66-427a-ade1-d8e01430a6f3:/home/user/cmtracker#
