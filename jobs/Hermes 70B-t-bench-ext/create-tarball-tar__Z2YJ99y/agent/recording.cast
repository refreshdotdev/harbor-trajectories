{"version": 2, "width": 160, "height": 40, "timestamp": 1771009003, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.005689, "o", "\u001b[?2004hroot@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[1.319333, "i", "clear\r"]
[1.31948, "o", "clear\r\n\u001b[?2004l\r"]
[1.320441, "o", "\u001b[H\u001b[J"]
[1.320587, "o", "\u001b[?2004hroot@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[22.821125, "i", "export BACKUP_DEST=\"/home/user/archives\"\n"]
[22.821368, "o", "export BACKUP_DEST=\"/home/user/archives\"\r\n\u001b[?2004l\r"]
[22.821451, "o", "\u001b[?2004h"]
[22.821485, "o", "root@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[22.919888, "i", "export LOG_FILE=\"/home/user/backup_logs/backup.log\"\n"]
[22.920085, "o", "export LOG_FILE=\"/home/user/backup_logs/backup.log\"\r\n\u001b[?2004l\r"]
[22.920165, "o", "\u001b[?2004hroot@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[23.088135, "i", "mkdir -p \"$BACKUP_DEST\" /home/user/backup_logs\n"]
[23.088296, "o", "mkdir -p \"$BACKUP_DEST\" /home/user/backup_logs\r\n"]
[23.088326, "o", "\u001b[?2004l\r"]
[23.089999, "o", "\u001b[?2004h"]
[23.09004, "o", "root@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[23.266337, "i", "date '+%Y%m%d'\n"]
[23.266444, "o", "date '+%Y%m%d'\r\n\u001b[?2004l\r"]
[23.267707, "o", "20260213\r\n"]
[23.267852, "o", "\u001b[?2004h"]
[23.267887, "o", "root@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[23.38203, "i", "current_date=$(date '+%Y%m%d')\n"]
[23.382175, "o", "current_date=$(date '+%Y%m%d')\r\n\u001b[?2004l\r"]
[23.383377, "o", "\u001b[?2004hroot@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[23.524107, "i", "archive_name=\"$BACKUP_DEST/daily_$current_date.tar.gz\"\n"]
[23.524308, "o", "archive_name=\"$BACKUP_DEST/daily_$current_date.tar.gz\"\r\n\u001b[?2004l\r"]
[23.524385, "o", "\u001b[?2004hroot@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[23.72741, "i", "checksum_name=\"$BACKUP_DEST/daily_$current_date.sha256\"\n"]
[23.727618, "o", "checksum_name=\"$BACKUP_DEST/daily_$current_date.sha256\"\r\n\u001b[?2004l\r"]
[23.727691, "o", "\u001b[?2004hroot@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[24.068951, "i", "if [ -f \"$archive_name\" ]; then mv \"$archive_name\" \"$archive_name.bak-$(date '+%s')\"; fi\n"]
[24.069232, "o", "if [ -f \"$archive_name\" ]; then mv \"$archive_name\" \"$archive_name.bak-$(date '+%s')\"; fi\r\n"]
[24.069293, "o", "\u001b[?2004l\r"]
[24.06933, "o", "\u001b[?2004h"]
[24.069354, "o", "root@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[24.279566, "i", "if [ -f \"$checksum_name\" ]; then mv \"$checksum_name\" \"$checksum_name.bak-$(date '+%s')\"; fi\n"]
[24.279883, "o", "if [ -f \"$checksum_name\" ]; then mv \"$checksum_name\" \"$checksum_name.bak-$(date '+%s')\"; fi\r\n\u001b[?2004l\r"]
[24.28, "o", "\u001b[?2004h"]
[24.280023, "o", "root@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[24.422349, "i", "tar --exclude='*.tmp' --exclude='*/*' -czf \"$archive_name\" -C /home/user/data . --format=gnu\n"]
[24.422661, "o", "tar --exclude='*.tmp' --exclude='*/*' -czf \"$archive_name\" -C /home/user/data . --format=gnu\r\n\u001b[?2004l\r"]
[24.426086, "o", "\u001b[?2004hroot@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[25.415131, "i", "tar -xf \"$archive_name\" --to-command=\"chown root:root && chmod o-rwx\" -C \"$BACKUP_DEST\" -f -\n"]
[25.415429, "o", "tar -xf \"$archive_name\" --to-command=\"chown root:root && chmod o-rwx\" -C \"$BACKUP_DEST\" -f -\r\n\u001b[?2004l\r"]
[25.416731, "o", "tar: Multiple archive files require '-M' option\r\nTry 'tar --help' or 'tar --usage' for more information.\r\n"]
[25.416994, "o", "\u001b[?2004hroot@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[26.469341, "i", "sha256sum \"$archive_name\" > \"$checksum_name\"\n"]
[26.469529, "o", "sha256sum \"$archive_name\" > \"$checksum_name\"\r\n\u001b[?2004l\r"]
[26.470847, "o", "\u001b[?2004hroot@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[26.592528, "i", "if [ ! -f \"$LOG_FILE\" ]; then echo 'TIMESTAMP | ARCHIVE | STATUS' > \"$LOG_FILE\"; fi\n"]
[26.592822, "o", "if [ ! -f \"$LOG_FILE\" ]; then echo 'TIMESTAMP | ARCHIVE | STATUS' > \"$LOG_FILE\"; fi\r\n\u001b[?2004l\r"]
[26.593006, "o", "\u001b[?2004hroot@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
[26.736031, "i", "echo \"$(date '+%Y-%m-%d %H:%M:%S') - daily_$current_date.tar.gz - OK\" >> \"$LOG_FILE\"\n"]
[26.736307, "o", "echo \"$(date '+%Y-%m-%d %H:%M:%S') - daily_$current_date.tar.gz - OK\" >> \"$LOG_FILE\"\r\n\u001b[?2004l\r"]
[26.737999, "o", "\u001b[?2004h"]
[26.738036, "o", "root@3c1b096c-f5f9-4a9c-971c-94007435dbb9:~# "]
