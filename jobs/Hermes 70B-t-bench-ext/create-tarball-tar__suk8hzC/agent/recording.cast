{"version": 2, "width": 160, "height": 40, "timestamp": 1771009301, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.009024, "o", "\u001b[?2004h"]
[0.009725, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[0.94775, "i", "clear\r"]
[0.947906, "o", "clear\r\n\u001b[?2004l\r"]
[0.949638, "o", "\u001b[H\u001b[J"]
[0.949964, "o", "\u001b[?2004h"]
[0.950022, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[16.316221, "i", "BACKUP_DEST=\"${BACKUP_DEST:-/home/user/archives}\"\n"]
[16.316577, "o", "BACKUP_DEST=\"${BACKUP_DEST:-/home/user/archives}\"\r\n\u001b[?2004l\r"]
[16.316658, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[16.795359, "i", "LOG_FILE=\"${LOG_FILE:-/home/user/backup_logs/backup.log}\"\n"]
[16.795621, "o", "LOG_FILE=\"${LOG_FILE:-/home/user/backup_logs/backup.log}\"\r\n\u001b[?2004l\r"]
[16.795701, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[17.361006, "i", "mkdir -p \"$BACKUP_DEST\" /home/user/backup_logs\n"]
[17.361408, "o", "mkdir -p \"$BACKUP_DEST\" /home/user/backup_logs\r\n\u001b[?2004l\r"]
[17.363462, "o", "\u001b[?2004h"]
[17.363481, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[17.725733, "i", "TIMESTAMP=$(date +%Y%m%d)\n"]
[17.72599, "o", "TIMESTAMP=$(date +%Y%m%d)\r\n\u001b[?2004l\r"]
[17.72736, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[18.147398, "i", "ARCHIVE_FILE=\"$BACKUP_DEST/daily_${TIMESTAMP}.tar.gz\"\n"]
[18.147861, "o", "ARCHIVE_FILE=\"$BACKUP_DEST/daily_${TIMESTAMP}.tar.gz\"\r\n\u001b[?2004l\r"]
[18.147965, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[18.551074, "i", "CHECKSUM_FILE=\"$BACKUP_DEST/daily_${TIMESTAMP}.sha256\"\n"]
[18.551432, "o", "CHECKSUM_FILE=\"$BACKUP_DEST/daily_${TIMESTAMP}.sha256\"\r\n\u001b[?2004l\r"]
[18.551529, "o", "\u001b[?2004h"]
[18.551572, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[31.152559, "i", "if [ -f \"$ARCHIVE_FILE\" ]; then TIMESTAMP_BAK=$(date +%s) && mv \"$ARCHIVE_FILE\" \"$ARCHIVE_FILE.bak-$TIMESTAMP_BAK\"; fi\n"]
[31.153577, "o", "if [ -f \"$ARCHIVE_FILE\" ]; then TIMESTAMP_BAK=$(date +%s) && mv \"$ARCHIVE_FILE\" \"$ARCHIVE_FILE.bak-$TIMESTAMP_BAK\"; fi\r\n\u001b[?2004l\r"]
[31.153771, "o", "\u001b[?2004h"]
[31.153827, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[31.544371, "i", "if [ -f \"$CHECKSUM_FILE\" ]; then TIMESTAMP_BAK=$(date +%s) && mv \"$CHECKSUM_FILE\" \"$CHECKSUM_FILE.bak-$TIMESTAMP_BAK\"; fi\n"]
[31.545746, "o", "if [ -f \"$CHECKSUM_FILE\" ]; then TIMESTAMP_BAK=$(date +%s) && mv \"$CHECKSUM_FILE\" \"$CHECKSUM_FILE.bak-$TIMESTAMP_BAK\"; fi\r\n\u001b[?2004l\r\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[44.791554, "i", "tar --exclude='*.tmp' --exclude-broken -czf \"$ARCHIVE_FILE\" --owner=0 --group=0 --mode='go-rwx' -C /home/user/data .\n"]
[44.792443, "o", "tar --exclude='*.tmp' --exclude-broken -czf \"$ARCHIVE_FILE\" --owner=0 --group=0 --mode='go-rwx' -C /home/user/data .\r\n\u001b[?2004l\r"]
[44.795607, "o", "tar: unrecognized option '--exclude-broken'\r\nTry 'tar --help' or 'tar --usage' for more information.\r\n"]
[44.796125, "o", "\u001b[?2004h"]
[44.796181, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[57.461355, "i", "find /home/user/data -type l ! -exec test -e {} \\; -delete\n"]
[57.461728, "o", "find /home/user/data -type l ! -exec test -e {} \\; -delete\r\n\u001b[?2004l\r"]
[57.468248, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[58.136008, "i", "tar --exclude='*.tmp' -czf \"$ARCHIVE_FILE\" --owner=0 --group=0 --mode='go-rwx' -C /home/user/data .\n"]
[58.136325, "o", "tar --exclude='*.tmp' -czf \"$ARCHIVE_FILE\" --owner=0 --group=0 --mode='go-rwx' -C /home/user/data .\r\n\u001b[?2004l\r"]
[58.140504, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[69.77945, "i", "sha256sum \"$ARCHIVE_FILE\" > \"$CHECKSUM_FILE\"\n"]
[69.779766, "o", "sha256sum \"$ARCHIVE_FILE\" > \"$CHECKSUM_FILE\"\r\n\u001b[?2004l\r"]
[69.781091, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[70.23701, "i", "sed -i \"s|$ARCHIVE_FILE|SHA256 ($ARCHIVE_FILE) =|\" \"$CHECKSUM_FILE\"\n"]
[70.237239, "o", "sed -i \"s|$ARCHIVE_FILE|SHA256 ($ARCHIVE_FILE) =|\" \"$CHECKSUM_FILE\"\r\n\u001b[?2004l\r"]
[70.239597, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[83.182584, "i", "if [ ! -f \"$LOG_FILE\" ]; then echo 'TIMESTAMP | ARCHIVE | STATUS' > \"$LOG_FILE\"; fi\n"]
[83.183199, "o", "if [ ! -f \"$LOG_FILE\" ]; then echo 'TIMESTAMP | ARCHIVE | STATUS' > \"$LOG_FILE\"; fi\r\n\u001b[?2004l\r"]
[83.183333, "o", "bash: /home/user/audit/backup_audit.log: No such file or directory\r\n"]
[83.183453, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[83.559689, "i", "LOG_TIMESTAMP=$(date +%Y-%m-%d\\ %H:%M:%S) && echo \"$LOG_TIMESTAMP - $ARCHIVE_FILE - OK\" >> \"$LOG_FILE\"\n"]
[83.560062, "o", "LOG_TIMESTAMP=$(date +%Y-%m-%d\\ %H:%M:%S) && echo \"$LOG_TIMESTAMP - $ARCHIVE_FILE - OK\" >> \"$LOG_FILE\"\r\n\u001b[?2004l\r"]
[83.561194, "o", "bash: /home/user/audit/backup_audit.log: No such file or directory\r\n"]
[83.561222, "o", "\u001b[?2004h"]
[83.561242, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[98.739937, "i", "LOG_FILE=\"/home/user/backup_logs/backup.log\"\n"]
[98.740087, "o", "LOG_FILE=\"/home/user/backup_logs/backup.log\"\r\n"]
[98.740114, "o", "\u001b[?2004l\r"]
[98.740161, "o", "\u001b[?2004h"]
[98.740184, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[99.191916, "i", "mkdir -p /home/user/backup_logs\n"]
[99.192045, "o", "mkdir -p /home/user/backup_logs\r\n\u001b[?2004l\r"]
[99.193922, "o", "\u001b[?2004h"]
[99.193968, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[99.611699, "i", "if [ ! -f \"$LOG_FILE\" ]; then echo 'TIMESTAMP | ARCHIVE | STATUS' > \"$LOG_FILE\"; fi\n"]
[99.61195, "o", "if [ ! -f \"$LOG_FILE\" ]; then echo 'TIMESTAMP | ARCHIVE | STATUS' > \"$LOG_FILE\"; fi\r\n\u001b[?2004l\r"]
[99.612114, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[99.972372, "i", "LOG_TIMESTAMP=$(date +%Y-%m-%d\\ %H:%M:%S) && echo \"$LOG_TIMESTAMP - $ARCHIVE_FILE - OK\" >> \"$LOG_FILE\"\n"]
[99.972672, "o", "LOG_TIMESTAMP=$(date +%Y-%m-%d\\ %H:%M:%S) && echo \"$LOG_TIMESTAMP - $ARCHIVE_FILE - OK\" >> \"$LOG_FILE\"\r\n\u001b[?2004l\r"]
[99.974099, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[110.260309, "i", "echo \"=== Archive File ===\" && ls -la \"$ARCHIVE_FILE\"\n"]
[110.260482, "o", "echo \"=== Archive File ===\" && ls -la \"$ARCHIVE_FILE\"\r\n\u001b[?2004l\r"]
[110.260518, "o", "=== Archive File ===\r\n"]
[110.261607, "o", "-rw-r--r-- 1 root root 321 Feb 13 19:02 \u001b[0m\u001b[01;31m/home/user/secure_backups/daily_20260213.tar.gz\u001b[0m\r\n"]
[110.261781, "o", "\u001b[?2004h"]
[110.26179, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[110.964702, "i", "echo \"=== Checksum File ===\" && cat \"$CHECKSUM_FILE\"\n"]
[110.965107, "o", "echo \"=== Checksum File ===\" && cat \"$CHECKSUM_FILE\"\r\n"]
[110.965149, "o", "\u001b[?2004l\r"]
[110.965169, "o", "=== Checksum File ===\r\n"]
[110.966769, "o", "48a81f7e2f4a3c400d9938c8993f98e4700fd94d64a9619d40105998694d3250  SHA256 (/home/user/secure_backups/daily_20260213.tar.gz) =\r\n"]
[110.967023, "o", "\u001b[?2004h"]
[110.967046, "o", "root@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
[111.495041, "i", "echo \"=== Log File ===\" && cat \"$LOG_FILE\"\n"]
[111.49521, "o", "echo \"=== Log File ===\" && cat \"$LOG_FILE\"\r\n\u001b[?2004l\r"]
[111.495243, "o", "=== Log File ===\r\n"]
[111.496091, "o", "TIMESTAMP | ARCHIVE | STATUS\r\n2026-02-13 19:03:21 - /home/user/secure_backups/daily_20260213.tar.gz - OK\r\n"]
[111.496251, "o", "\u001b[?2004hroot@249c4f6b-18f8-499e-b385-94261daf5f93:~# "]
