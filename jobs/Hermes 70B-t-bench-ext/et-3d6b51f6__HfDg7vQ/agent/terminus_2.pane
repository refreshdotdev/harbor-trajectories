[?2004hroot@0664e9b9-1881-4bc8-a538-e92cb5c7be56:~# asciinema rec --stdin /logs/agent/recording.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent/recording.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@0664e9b9-1881-4bc8-a538-e92cb5c7be56:~# clear
[?2004l[H[J[?2004hroot@0664e9b9-1881-4bc8-a538-e92cb5c7be56:~# mkdir -p /home/user/workflows/image_cleanup/{input,output,temp}
[?2004l[?2004hroot@0664e9b9-1881-4bc8-a538-e92cb5c7be56:~# chmod +t /home/user/workflows/image_cleanup/temp
[?2004l[?2004hroot@0664e9b9-1881-4bc8-a538-e92cb5c7be56:~# ls -ld /home/user/workflows/image_cleanup /home/user/workflows/image_cleanup/input /home/user/workflows/image_cleanup/output /home/user/workflows/image_cleanup/temp
[?2004ldrwxr-xr-x 5 root root 61 Feb 13 19:08 [0m[01;34m/home/user/workflows/image_cleanup[0m
drwxr-xr-x 2 root root  6 Feb 13 19:08 [01;34m/home/user/workflows/image_cleanup/input[0m
drwxr-xr-x 2 root root  6 Feb 13 19:08 [01;34m/home/user/workflows/image_cleanup/output[0m
drwxr-xr-t 2 root root  6 Feb 13 19:08 [37;44m/home/user/workflows/image_cleanup/temp[0m
[?2004hroot@0664e9b9-1881-4bc8-a538-e92cb5c7be56:~# cat /home/user/sample_images.txt | tr '[:upper:]' '[:lower:]' | sed 's/^[ \t]*//;s/[ \t]*$//' | grep -v '^$' | grep ".jpg$" | sort | uniq > /home/user/workflows/image_cleanup/input/files_to_process.txt
[?2004l[?2004hroot@0664e9b9-1881-4bc8-a538-e92cb5c7be56:~# cat > /home/user/workflows/image_cleanup/run.sh << 'EOF'
[?2004l[?2004h> #!/usr/bin/env bash
[?2004l[?2004h> count=$(wc -l < input/files_to_process.txt)
[?2004l[?2004h> echo "Found $count files to process."
[?2004l[?2004h> EOF
[?2004l[?2004hroot@0664e9b9-1881-4bc8-a538-e92cb5c7be56:~# chmod +x /home/user/workflows/image_cleanup/run.sh
[?2004l[?2004hroot@0664e9b9-1881-4bc8-a538-e92cb5c7be56:~# cat > /home/user/workflows/image_cleanup/setup.log << 'EOF'
[?2004l[?2004h> SETUP COMPLETE
[?2004l[?2004h> Timestamp: $(date +'%Y-%m-%d %H:%M:%S')
[?2004l[?2004h> Directories:
[?2004l[?2004h> - /home/user/workflows/image_cleanup
[?2004l[?2004h> - /home/user/workflows/image_cleanup/input
[?2004l[?2004h> - /home/user/workflows/image_cleanup/output
[?2004l[?2004h> - /home/user/workflows/image_cleanup/temp
[?2004l[?2004h> Files:
[?2004l[?2004h> - /home/user/workflows/image_cleanup/run.sh (executable)
[?2004l[?2004h> - /home/user/workflows/image_cleanup/input/files_to_process.txt
[?2004l[?2004h> Metadata:
[?2004l[?2004h> - files_to_process.txt: $(md5sum /home/user/workflows/image_cleanup/input/files_to_process.txt | cut -d' ' -f1) $(wc -c < /home/user/workflows/image_cleanup/input/files_to_process.txt) bytes
[?2004l[?2004h> EOF
[?2004l[?2004hroot@0664e9b9-1881-4bc8-a538-e92cb5c7be56:~# 