[?2004hroot@6bb7570d-1417-4bd3-828c-0c544d45e108:~# asciinema rec --stdin /logs/agent/recording.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent/recording.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@6bb7570d-1417-4bd3-828c-0c544d45e108:~# clear
[?2004l[H[J[?2004hroot@6bb7570d-1417-4bd3-828c-0c544d45e108:~# mkdir -p /home/user/workflows/image_cleanup/{input,output,temp}
[?2004l[?2004hroot@6bb7570d-1417-4bd3-828c-0c544d45e108:~# chmod +t /home/user/workflows/image_cleanup/temp
[?2004l[?2004hroot@6bb7570d-1417-4bd3-828c-0c544d45e108:~# cat > /home/user/sample_images.txt << 'EOF'
[?2004l[?2004h>   IMG_001.JPG  
[?2004l[?2004h> IMAGE_002.JPG
[?2004l[?2004h>   image_003.jpg  
[?2004l[?2004h> image_004.JPG
[?2004l[?2004h> image_004.JPG  
[?2004l[?2004h>   duplicate.JPG
[?2004l[?2004h>   .jpg
[?2004l[?2004h>   trailing_space.jpg  
[?2004l[?2004h> no_extension
[?2004l[?2004h>   IMG_005.JPG
[?2004l[?2004h> IMAGE_002.JPG
[?2004l[?2004h> EOF
[?2004l[?2004hroot@6bb7570d-1417-4bd3-828c-0c544d45e108:~# cat /home/user/sample_images.txt | tr -d '[:space:]' | grep '\.jpg$' | tr '[:upper:]' '[:lower:]' | sort | uniq > /home/user/workflows/image_cleanup/input/files_to_process.txt
[?2004l[?2004hroot@6bb7570d-1417-4bd3-828c-0c544d45e108:~# cat > /home/user/workflows/image_cleanup/run.sh << 'EOF'
[?2004l[?2004h> #!/usr/bin/env bash
[?2004l[?2004h> count=$(wc -l < input/files_to_process.txt)
[?2004l[?2004h> echo "Found $count files to process."
[?2004l[?2004h> EOF
[?2004l[?2004hroot@6bb7570d-1417-4bd3-828c-0c544d45e108:~# chmod +x /home/user/workflows/image_cleanup/run.sh
[?2004l[?2004hroot@6bb7570d-1417-4bd3-828c-0c544d45e108:~# cat > /home/user/workflows/setup.log << 'EOF'
[?2004l[?2004h> SETUP COMPLETE
[?2004l[?2004h> Timestamp: $(date +'%Y-%m-%d %H:%M:%S')
[?2004l[?2004h> Directories:
[?2004l[?2004h> - /home/user/workflows/image_cleanup
[?2004l[?2004h> - /home/user/workflows/image_cleanup/input
[?2004l[?2004h> - /home/user/workflows/image_cleanup/output
[?2004l[?2004h> - /home/user/workflows/image_cleanup/temp
[?2004l[?2004h> Files:
[?2004l[?2004h> - /home/user/workflows/image_cleanup/run.sh (executable)
[?2004l[?2004h> - /home/user/workflows/image_cleanup/input/files_to_process.txt
[?2004l[?2004h> Metadata:
[?2004l[?2004h> - files_to_process.txt: $(md5sum /home/user/workflows/image_cleanup/input/files_to_process.txt | awk '{print $1}') $(wc -c < /home/user/workflows/image_cleanup/input/files_to_process.txt) bytes
[?2004l[?2004h> EOF
[?2004l[?2004hroot@6bb7570d-1417-4bd3-828c-0c544d45e108:~# 