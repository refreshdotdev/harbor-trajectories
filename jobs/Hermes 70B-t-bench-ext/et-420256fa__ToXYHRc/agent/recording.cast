{"version": 2, "width": 160, "height": 40, "timestamp": 1771009320, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.007717, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:~# "]
[0.943712, "i", "clear\r"]
[0.943844, "o", "clear\r\n\u001b[?2004l\r"]
[0.945029, "o", "\u001b[H\u001b[J"]
[0.945203, "o", "\u001b[?2004h"]
[0.945233, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:~# "]
[12.874295, "i", "cd /var/lib/ci_logs\n"]
[12.874462, "o", "cd /var/lib/ci_logs\r\n\u001b[?2004l\r"]
[12.874549, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[23.049552, "i", "cat manifest.xml\n"]
[23.049711, "o", "cat manifest.xml\r\n\u001b[?2004l\r"]
[23.050972, "o", "<manifest><active_log>build_dump_v2.json</active_log><version>2.0</version></manifest>\r\n"]
[23.05119, "o", "\u001b[?2004h"]
[23.051223, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[32.856195, "i", "head -n 20 build_dump_v2.json\n"]
[32.856461, "o", "head -n 20 build_dump_v2.json\r\n\u001b[?2004l\r"]
[32.858224, "o", "head: cannot open 'build_dump_v2.json' for reading"]
[32.858287, "o", ": No such file or directory\r\n"]
[32.858583, "o", "\u001b[?2004h"]
[32.858618, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[43.133509, "i", "ls -la\n"]
[43.133623, "o", "ls -la\r\n\u001b[?2004l\r"]
[43.135196, "o", "total 4\r\n"]
[43.135246, "o", "drwxr-xr-x 1 root root  34 Feb 13 18:49 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root 154 Feb 13 19:01 \u001b[01;34m..\u001b[0m\r\n-rw-r--r-- 1 root root  87 Feb 13 18:49 manifest.xml\r\n"]
[43.135468, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[64.122194, "i", "ls -la\n"]
[64.122364, "o", "ls -la\r\n\u001b[?2004l\r"]
[64.123722, "o", "total 4\r\n"]
[64.123799, "o", "drwxr-xr-x 1 root root  34 Feb 13 18:49 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root 154 Feb 13 19:01 \u001b[01;34m..\u001b[0m\r\n-rw-r--r-- 1 root root  87 Feb 13 18:49 manifest.xml\r\n"]
[64.123974, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[85.107104, "i", "cat > build_dump_v2.json << 'EOF'\n// Sample build data with C++ style comments\n[\n  {\n    \"commit_hash\": \"a1b2c3d4e5f6\",\n    \"status\": \"SUCCESS\",\n    \"duration_ms\": 5000,\n    \"timestamp\": 1693801600,\n    \"efficiency_score\": 0.75,\n    \"verification_code\": \"abc123\",\n    \"artifacts\": [\n      {\"name\": \"app-release.apk\", \"size_bytes\": 15000000},\n      {\"name\": \"symbols.zip\", \"size_bytes\": 2000000}\n    ]\n  },\n  {\n    \"commit_hash\": \"b1c2d3e4f5a6\",\n    \"status\": \"FAILED\", \n    \"duration_ms\": 3000,\n    \"timestamp\": 1693801700,\n    \"efficiency_score\": 0.4,\n    \"verification_code\": \"def456\",\n    \"artifacts\": [\n      {\"name\": \"app-debug.apk\", \"size_bytes\": 18000000}\n    ]\n  },\n  {\n    \"commit_hash\": \"c1d2e3f4a5b6\",\n    \"status\": \"SKIPPED\", // This entry should be filtered out\n    \"duration_ms\": 100,\n    \"timestamp\": 1693801800,\n    \"efficiency_score\": 0.1,\n    \"verification_code\": \"ghi789\",\n    \"artifacts\": [\n      {\"name\": \"test_results.xml\", \"size_bytes\": 500000}\n    ]\n  }\n]\nEOF\n"]
[85.107351, "o", "cat > build_dump_v2.json << 'EOF'\r\n"]
[85.107402, "o", "\u001b[?2004l\r"]
[85.107457, "o", "\u001b[?2004h> "]
[85.107743, "o", "// Sample build data with C++ style comments\r\n\u001b[?2004l\r"]
[85.107794, "o", "\u001b[?2004h> "]
[85.107844, "o", "[\r\n\u001b[?2004l\r\u001b[?2004h"]
[85.107886, "o", ">   {"]
[85.107897, "o", "\r\n\u001b[?2004l\r"]
[85.107939, "o", "\u001b[?2004h> "]
[85.108112, "o", "    \"commit_hash\": \"a1b2c3d4e5f6\",\r\n\u001b[?2004l\r"]
[85.108139, "o", "\u001b[?2004h"]
[85.108174, "o", "> "]
[85.108304, "o", "    \"status\": \"SUCCESS\",\r\n\u001b[?2004l\r"]
[85.10836, "o", "\u001b[?2004h> "]
[85.108487, "o", "    \"duration_ms\": 5000,\r\n\u001b[?2004l\r"]
[85.108526, "o", "\u001b[?2004h"]
[85.108559, "o", "> "]
[85.108692, "o", "    \"timestamp\": 1693801600,\r\n\u001b[?2004l\r"]
[85.108735, "o", "\u001b[?2004h> "]
[85.108893, "o", "    \"efficiency_score\": 0.75,\r\n\u001b[?2004l\r"]
[85.108936, "o", "\u001b[?2004h> "]
[85.109111, "o", "    \"verification_code\": \"abc123\",\r\n\u001b[?2004l\r"]
[85.109151, "o", "\u001b[?2004h> "]
[85.10926, "o", "    \"artifacts\": [\r\n\u001b[?2004l\r"]
[85.109296, "o", "\u001b[?2004h> "]
[85.109593, "o", "      {\"name\": \"app-release.apk\", \"size_bytes\": 15000000},\r\n\u001b[?2004l\r"]
[85.10962, "o", "\u001b[?2004h"]
[85.109667, "o", "> "]
[85.109898, "o", "      {\"name\": \"symbols.zip\", \"size_bytes\": 2000000}\r\n\u001b[?2004l\r"]
[85.109939, "o", "\u001b[?2004h> "]
[85.109981, "o", "    ]\r\n\u001b[?2004l\r"]
[85.110019, "o", "\u001b[?2004h"]
[85.110054, "o", ">   },"]
[85.110092, "o", "\r\n\u001b[?2004l\r\u001b[?2004h"]
[85.110116, "o", "> "]
[85.110165, "o", "  {\r\n\u001b[?2004l\r"]
[85.1102, "o", "\u001b[?2004h> "]
[85.110378, "o", "    \"commit_hash\": \"b1c2d3e4f5a6\",\r\n\u001b[?2004l\r"]
[85.11042, "o", "\u001b[?2004h> "]
[85.110569, "o", "    \"status\": \"FAILED\", \r\n\u001b[?2004l\r"]
[85.110605, "o", "\u001b[?2004h> "]
[85.11072, "o", "    \"duration_ms\": 3000,\r\n\u001b[?2004l\r"]
[85.110747, "o", "\u001b[?2004h"]
[85.110767, "o", "> "]
[85.110898, "o", "    \"timestamp\": 1693801700,\r\n\u001b[?2004l\r"]
[85.110926, "o", "\u001b[?2004h"]
[85.110959, "o", "> "]
[85.111092, "o", "    \"efficiency_score\": 0.4,\r\n\u001b[?2004l\r"]
[85.111127, "o", "\u001b[?2004h"]
[85.111192, "o", "> "]
[85.111317, "o", "    \"verification_code\": \"def456\",\r\n\u001b[?2004l\r"]
[85.111361, "o", "\u001b[?2004h"]
[85.111385, "o", "> "]
[85.111468, "o", "    \"artifacts\": [\r\n"]
[85.111485, "o", "\u001b[?2004l\r"]
[85.111561, "o", "\u001b[?2004h> "]
[85.11179, "o", "      {\"name\": \"app-debug.apk\", \"size_bytes\": 18000000}\r\n\u001b[?2004l\r"]
[85.111842, "o", "\u001b[?2004h> "]
[85.111885, "o", "    ]\r\n\u001b[?2004l\r"]
[85.111935, "o", "\u001b[?2004h"]
[85.111965, "o", "> "]
[85.112032, "o", "  },\r\n\u001b[?2004l\r\u001b[?2004h> "]
[85.112076, "o", "  {\r\n\u001b[?2004l\r"]
[85.112114, "o", "\u001b[?2004h> "]
[85.112272, "o", "    \"commit_hash\": \"c1d2e3f4a5b6\",\r\n\u001b[?2004l\r"]
[85.112313, "o", "\u001b[?2004h"]
[85.112348, "o", "> "]
[85.112618, "o", "    \"status\": \"SKIPPED\", // This entry should be filtered out\r\n\u001b[?2004l\r"]
[85.112655, "o", "\u001b[?2004h"]
[85.11269, "o", "> "]
[85.112796, "o", "    \"duration_ms\": 100,\r\n\u001b[?2004l\r"]
[85.112831, "o", "\u001b[?2004h"]
[85.112864, "o", "> "]
[85.112988, "o", "    \"timestamp\": 1693801800,\r\n\u001b[?2004l\r"]
[85.113024, "o", "\u001b[?2004h"]
[85.113058, "o", "> "]
[85.113188, "o", "    \"efficiency_score\": 0.1,\r\n\u001b[?2004l\r"]
[85.113231, "o", "\u001b[?2004h> "]
[85.113404, "o", "    \"verification_code\": \"ghi789\",\r\n\u001b[?2004l\r"]
[85.113452, "o", "\u001b[?2004h> "]
[85.113559, "o", "    \"artifacts\": [\r\n\u001b[?2004l\r"]
[85.113595, "o", "\u001b[?2004h"]
[85.113636, "o", "> "]
[85.11389, "o", "      {\"name\": \"test_results.xml\", \"size_bytes\": 500000}\r\n\u001b[?2004l\r"]
[85.113924, "o", "\u001b[?2004h"]
[85.113988, "o", "> "]
[85.11403, "o", "    ]\r\n\u001b[?2004l\r\u001b[?2004h> "]
[85.114066, "o", "  }\r\n\u001b[?2004l\r"]
[85.114099, "o", "\u001b[?2004h> ]"]
[85.114131, "o", "\r\n\u001b[?2004l\r\u001b[?2004h"]
[85.114163, "o", "> "]
[85.114202, "o", "EOF\r\n\u001b[?2004l\r"]
[85.116748, "o", "\u001b[?2004h"]
[85.11682, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[85.547322, "i", "ls -la build_dump_v2.json\n"]
[85.547443, "o", "ls -la build_dump_v2.json\r\n\u001b[?2004l\r"]
[85.548977, "o", "-rw-r--r-- 1 root root 946 Feb 13 19:03 build_dump_v2.json\r\n"]
[85.549205, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[93.180699, "i", "mkdir -p /home/user/mobile_pipelines/report\n"]
[93.18087, "o", "mkdir -p /home/user/mobile_pipelines/report\r\n\u001b[?2004l\r"]
[93.182325, "o", "\u001b[?2004h"]
[93.182357, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[93.363407, "i", "ls -la /home/user/mobile_pipelines\n"]
[93.363556, "o", "ls -la /home/user/mobile_pipelines\r\n\u001b[?2004l\r"]
[93.365067, "o", "total 4\r\ndrwxr-xr-x 1 root root  55 Feb 13 18:49 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root  38 Feb 13 18:49 \u001b[01;34m..\u001b[0m\r\n"]
[93.365168, "o", "-rw-r--r-- 1 root root 114 Feb 13 18:49 raw_builds.json\r\ndrwxr-xr-x 1 root root  10 Feb 13 18:49 \u001b[01;34mreport\u001b[0m\r\n"]
[93.365317, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[107.304838, "i", "sqlite3 /home/user/mobile_pipelines/builds.db << 'EOF'\nCREATE TABLE builds (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    commit_hash TEXT NOT NULL,\n    status TEXT NOT NULL,\n    duration_sec INTEGER NOT NULL,\n    timestamp TEXT NOT NULL,\n    efficiency_score REAL NOT NULL,\n    verification_code TEXT NOT NULL\n);\n\nCREATE TABLE artifacts (\n    id INTEGER PRIMARY KEY,\n    build_id INTEGER NOT NULL,\n    artifact_name TEXT NOT NULL,\n    size_kb INTEGER NOT NULL,\n    FOREIGN KEY (build_id) REFERENCES builds(id)\n);\nEOF\n"]
[107.305042, "o", "sqlite3 /home/user/mobile_pipelines/builds.db << 'EOF'\r\n\u001b[?2004l\r"]
[107.305155, "o", "\u001b[?2004h> CREATE TABLE builds (\r\n\u001b[?2004l\r\u001b[?2004h> "]
[107.305271, "o", "    id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n\u001b[?2004l\r"]
[107.30533, "o", "\u001b[?2004h> "]
[107.305372, "o", "    commit_hash TEXT NOT NULL,\r\n\u001b[?2004l\r\u001b[?2004h"]
[107.305413, "o", "> "]
[107.305459, "o", "    status TEXT NOT NULL,\r\n\u001b[?2004l\r"]
[107.305519, "o", "\u001b[?2004h> "]
[107.305592, "o", "    duration_sec INTEGER NOT NULL,\r\n\u001b[?2004l\r\u001b[?2004h"]
[107.305635, "o", "> "]
[107.305692, "o", "    timestamp TEXT NOT NULL,\r\n\u001b[?2004l\r\u001b[?2004h"]
[107.30573, "o", "> "]
[107.305837, "o", "    efficiency_score REAL NOT NULL,\r\n\u001b[?2004l\r\u001b[?2004h> "]
[107.305924, "o", "    verification_code TEXT NOT NULL\r\n\u001b[?2004l\r\u001b[?2004h"]
[107.305957, "o", "> );\r\n\u001b[?2004l\r\u001b[?2004h> \r\n\u001b[?2004l\r"]
[107.306003, "o", "\u001b[?2004h> "]
[107.306065, "o", "CREATE TABLE artifacts (\r\n\u001b[?2004l\r\u001b[?2004h"]
[107.306078, "o", "> "]
[107.306147, "o", "    id INTEGER PRIMARY KEY,\r\n\u001b[?2004l\r"]
[107.306158, "o", "\u001b[?2004h"]
[107.306216, "o", "> "]
[107.306249, "o", "    build_id INTEGER NOT NULL,\r\n\u001b[?2004l\r"]
[107.306292, "o", "\u001b[?2004h> "]
[107.306359, "o", "    artifact_name TEXT NOT NULL,\r\n\u001b[?2004l\r"]
[107.306371, "o", "\u001b[?2004h"]
[107.306405, "o", "> "]
[107.306477, "o", "    size_kb INTEGER NOT NULL,\r\n\u001b[?2004l\r\u001b[?2004h> "]
[107.306621, "o", "    FOREIGN KEY (build_id) REFERENCES builds(id)\r\n\u001b[?2004l\r"]
[107.306633, "o", "\u001b[?2004h> "]
[107.306704, "o", ");\r\n\u001b[?2004l\r\u001b[?2004h> EOF\r\n\u001b[?2004l\r"]
[107.313922, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[107.753659, "i", "sqlite3 /home/user/mobile_pipelines/builds.db \".schema builds\"\n"]
[107.753882, "o", "sqlite3 /home/user/mobile_pipelines/builds.db \".schema builds\"\r\n\u001b[?2004l\r"]
[107.755772, "o", "CREATE TABLE builds (\r\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n    commit_hash TEXT NOT NULL,\r\n    status TEXT NOT NULL,\r\n    duration_sec INTEGER NOT NULL,\r\n    timestamp TEXT NOT NULL,\r\n    efficiency_score REAL NOT NULL,\r\n    verification_code TEXT NOT NULL\r\n);\r\n"]
[107.75616, "o", "\u001b[?2004h"]
[107.756212, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[108.250824, "i", "sqlite3 /home/user/mobile_pipelines/builds.db \".schema artifacts\"\n"]
[108.251316, "o", "sqlite3 /home/user/mobile_pipelines/builds.db \".schema artifacts\"\r\n"]
[108.251351, "o", "\u001b[?2004l\r"]
[108.25419, "o", "CREATE TABLE artifacts (\r\n    id INTEGER PRIMARY KEY,\r\n    build_id INTEGER NOT NULL,\r\n    artifact_name TEXT NOT NULL,\r\n    size_kb INTEGER NOT NULL,\r\n    FOREIGN KEY (build_id) REFERENCES builds(id)\r\n);\r\n"]
[108.254759, "o", "\u001b[?2004h"]
[108.25482, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[115.638385, "i", "sed 's|//.*||g' build_dump_v2.json | jq . > cleaned_builds.json\n"]
[115.639, "o", "sed 's|//.*||g' build_dump_v2.json | jq . > cleaned_builds.json\r\n\u001b[?2004l\r"]
[115.652557, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[116.019753, "i", "head -5 cleaned_builds.json\n"]
[116.019887, "o", "head -5 cleaned_builds.json\r\n\u001b[?2004l\r"]
[116.021568, "o", "[\r\n  {\r\n    \"commit_hash\": \"a1b2c3d4e5f6\",\r\n    \"status\": \"SUCCESS\",\r\n    \"duration_ms\": 5000,\r\n"]
[116.021737, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[126.16527, "i", "cat cleaned_builds.json | jq -r '.[] | select(.status != \"SKIPPED\") | {commit_hash, status, duration_sec: (.duration_ms / 1000 | floor), timestamp: (.timestamp | tostring), efficiency_score: .efficiency_score, verification_code: .verification_code, artifacts}' > processed_builds.json\n"]
[126.166134, "o", "cat cleaned_builds.json | jq -r '.[] | select(.status != \"SKIPPED\") | {commit_hash, status, duration_sec: (.duration_ms / 1000 | floor), timestamp: (.timestamp | tostring), efficiency_score: .efficiency_score, verification_code: .verification_code, artifacts}' > processed_builds.json\r\n\u001b[?2004l\r"]
[126.179116, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[126.604204, "i", "head -10 processed_builds.json\n"]
[126.604348, "o", "head -10 processed_builds.json\r\n\u001b[?2004l\r"]
[126.605394, "o", "{\r\n  \"commit_hash\": \"a1b2c3d4e5f6\",\r\n  \"status\": \"SUCCESS\",\r\n  \"duration_sec\": 5,\r\n  \"timestamp\": \"1693801600\",\r\n  \"efficiency_score\": 0.75,\r\n  \"verification_code\": \"abc123\",\r\n  \"artifacts\": [\r\n    {\r\n      \"name\": \"app-release.apk\",\r\n"]
[126.605655, "o", "\u001b[?2004h"]
[126.605682, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[137.280838, "i", "cat > /tmp/process_builds.sql << 'EOF'\n-- Create temporary tables for processing\nCREATE TABLE IF NOT EXISTS temp_builds (\n    commit_hash TEXT,\n    status TEXT,\n    duration_sec INTEGER,\n    timestamp INTEGER,\n    efficiency_score REAL,\n    verification_code TEXT,\n    artifacts TEXT  -- JSON string of artifacts\n);\n\n-- Create temporary table for artifacts\nCREATE TABLE IF NOT EXISTS temp_artifacts (\n    build_index INTEGER,\n    artifact_name TEXT,\n    size_kb INTEGER\n);\n\n-- Process each build from processed_builds.json\nEOF\n"]
[137.281008, "o", "cat > /tmp/process_builds.sql << 'EOF'\r\n\u001b[?2004l\r"]
[137.281088, "o", "\u001b[?2004h> "]
[137.28115, "o", "-- Create temporary tables for processing\r\n\u001b[?2004l\r"]
[137.281204, "o", "\u001b[?2004h> "]
[137.281299, "o", "CREATE TABLE IF NOT EXISTS temp_builds (\r\n\u001b[?2004l\r\u001b[?2004h"]
[137.281349, "o", "> "]
[137.281397, "o", "    commit_hash TEXT,\r\n\u001b[?2004l\r\u001b[?2004h> "]
[137.281443, "o", "    status TEXT,\r\n\u001b[?2004l\r"]
[137.281522, "o", "\u001b[?2004h> "]
[137.281577, "o", "    duration_sec INTEGER,\r\n\u001b[?2004l\r\u001b[?2004h> "]
[137.281629, "o", "    timestamp INTEGER,\r\n\u001b[?2004l\r"]
[137.281676, "o", "\u001b[?2004h> "]
[137.281722, "o", "    efficiency_score REAL,\r\n\u001b[?2004l\r"]
[137.281773, "o", "\u001b[?2004h> "]
[137.28182, "o", "    verification_code TEXT,\r\n\u001b[?2004l\r"]
[137.281869, "o", "\u001b[?2004h> "]
[137.281975, "o", "    artifacts TEXT  -- JSON string of artifacts\r\n\u001b[?2004l\r\u001b[?2004h"]
[137.282097, "o", "> );\r\n\u001b[?2004l\r\u001b[?2004h> \r\n\u001b[?2004l\r\u001b[?2004h> "]
[137.282191, "o", "-- Create temporary table for artifacts\r\n\u001b[?2004l\r"]
[137.282251, "o", "\u001b[?2004h> "]
[137.282366, "o", "CREATE TABLE IF NOT EXISTS temp_artifacts (\r\n\u001b[?2004l\r"]
[137.282459, "o", "\u001b[?2004h>     build_index INTEGER,\r\n\u001b[?2004l\r"]
[137.282547, "o", "\u001b[?2004h>     artifact_name TEXT,\r\n\u001b[?2004l\r"]
[137.282604, "o", "\u001b[?2004h> "]
[137.282657, "o", "    size_kb INTEGER\r\n\u001b[?2004l\r\u001b[?2004h> "]
[137.282711, "o", ");\r\n\u001b[?2004l\r\u001b[?2004h> \r\n\u001b[?2004l\r"]
[137.282756, "o", "\u001b[?2004h> "]
[137.282873, "o", "-- Process each build from processed_builds.json\r\n\u001b[?2004l\r\u001b[?2004h"]
[137.282927, "o", "> EOF\r\n\u001b[?2004l\r"]
[137.284327, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[137.620667, "i", "sqlite3 /home/user/mobile_pipelines/builds.db < /tmp/process_builds.sql\n"]
[137.620919, "o", "sqlite3 /home/user/mobile_pipelines/builds.db < /tmp/process_builds.sql\r\n\u001b[?2004l\r"]
[137.625454, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[160.572356, "i", "cat > /tmp/parse_builds.sh << 'EOF'\n#!/bin/bash\n\nDB_FILE=\"/home/user/mobile_pipelines/builds.db\"\n\n# Process each build object\njq -c '.[]' processed_builds.json | while IFS= read -r build_json; do\n    # Extract fields\n    commit_hash=$(echo \"$build_json\" | jq -r '.commit_hash')\n    status=$(echo \"$build_json\" | jq -r '.status')\n    duration_sec=$(echo \"$build_json\" | jq -r '.duration_sec')\n    timestamp=$(echo \"$build_json\" | jq -r '.timestamp')\n    artifacts_json=$(echo \"$build_json\" | jq -r '.artifacts | tostring')\n    \n    # Calculate total artifact size in bytes\n    total_artifact_size=0\n    if [ \"$artifacts_json\" != \"null\" ]; then\n        total_artifact_size=$(echo \"$build_json\" | jq -r '.artifacts[] | .size_bytes' | paste -sd+ - | bc)\n    fi\n    \n    # Calculate efficiency score with standard rounding to 2 decimal places\n    if [ \"$duration_sec\" -eq 0 ]; then\n        efficiency_score=0.00\n    else\n        efficiency=$(echo \"scale=4; $total_artifact_size / $duration_sec\" | bc)\n        efficiency_score=$(p"]
[160.572398, "i", "rintf \"%.*f\" 2 \"$efficiency\")\n        # Apply standard rounding (round half up)\n        efficiency_score_rounded=$(printf \"%.*f\" 2 \"$efficiency_score\")\n        efficiency_score=\"${efficiency_score_rounded:0:4}\"\n    fi\n    \n    # Calculate verification code (first 8 chars of SHA-256 of commit_hash+status)\n    data_to_hash=\"${commit_hash}${status}\"\n    verification_code=$(echo -n \"$data_to_hash\" | sha256sum | cut -c1-8)\n    \n    # Insert into temporary table (using auto-increment later)\n    sqlite3 \"$DB_FILE\" \"INSERT INTO temp_builds (commit_hash, status, duration_sec, timestamp, efficiency_score, verification_code, artifacts) \\\n        VALUES ('$commit_hash', '$status', $duration_sec, $timestamp, $efficiency_score, '$verification_code', '$artifacts_json');\"\ndone\nEOF\n"]
[160.572567, "o", "cat > /tmp/parse_builds.sh << 'EOF'\r\n\u001b[?2004l\r"]
[160.57262, "o", "\u001b[?2004h> "]
[160.572679, "o", "#!/bin/bash\r\n\u001b[?2004l\r\u001b[?2004h> \r\n\u001b[?2004l\r"]
[160.572715, "o", "\u001b[?2004h> "]
[160.57283, "o", "DB_FILE=\"/home/user/mobile_pipelines/builds.db\"\r\n\u001b[?2004l\r"]
[160.572876, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r\u001b[?2004h> "]
[160.572977, "o", "# Process each build object\r\n\u001b[?2004l\r"]
[160.573005, "o", "\u001b[?2004h> "]
[160.573192, "o", "jq -c '.[]' processed_builds.json | while IFS= read -r build_json; do\r\n\u001b[?2004l\r"]
[160.573204, "o", "\u001b[?2004h"]
[160.573331, "o", ">     # Extract fields\r\n\u001b[?2004l\r\u001b[?2004h> "]
[160.573452, "o", "    commit_hash=$(echo \"$build_json\" | jq -r '.commit_hash')\r\n\u001b[?2004l\r"]
[160.573487, "o", "\u001b[?2004h> "]
[160.573626, "o", "    status=$(echo \"$build_json\" | jq -r '.status')\r\n\u001b[?2004l\r"]
[160.57365, "o", "\u001b[?2004h> "]
[160.573825, "o", "    duration_sec=$(echo \"$build_json\" | jq -r '.duration_sec')\r\n\u001b[?2004l\r"]
[160.573874, "o", "\u001b[?2004h> "]
[160.574012, "o", "    timestamp=$(echo \"$build_json\" | jq -r '.timestamp')\r\n\u001b[?2004l\r\u001b[?2004h"]
[160.574104, "o", "> "]
[160.574249, "o", "    artifacts_json=$(echo \"$build_json\" | jq -r '.artifacts | tostring')\r\n\u001b[?2004l\r"]
[160.574304, "o", "\u001b[?2004h>     \r\n\u001b[?2004l\r\u001b[?2004h"]
[160.57436, "o", "> "]
[160.574439, "o", "    # Calculate total artifact size in bytes\r\n\u001b[?2004l\r"]
[160.574485, "o", "\u001b[?2004h> "]
[160.574542, "o", "    total_artifact_size=0\r\n\u001b[?2004l\r"]
[160.574565, "o", "\u001b[?2004h> "]
[160.574688, "o", "    if [ \"$artifacts_json\" != \"null\" ]; then\r\n\u001b[?2004l\r"]
[160.574709, "o", "\u001b[?2004h> "]
[160.574988, "o", "        total_artifact_size=$(echo \"$build_json\" | jq -r '.artifacts[] | .size_bytes' | paste -sd+ - | bc)\r\n\u001b[?2004l\r"]
[160.57501, "o", "\u001b[?2004h> "]
[160.575035, "o", "    fi\r\n\u001b[?2004l\r"]
[160.575145, "o", "\u001b[?2004h>     \r\n\u001b[?2004l\r\u001b[?2004h> "]
[160.575305, "o", "    # Calculate efficiency score with standard rounding to 2 decimal places\r\n\u001b[?2004l\r"]
[160.575348, "o", "\u001b[?2004h> "]
[160.575438, "o", "    if [ \"$duration_sec\" -eq 0 ]; then\r\n\u001b[?2004l\r"]
[160.575496, "o", "\u001b[?2004h> "]
[160.575558, "o", "        efficiency_score=0.00\r\n\u001b[?2004l\r"]
[160.575592, "o", "\u001b[?2004h> "]
[160.57564, "o", "    else\r\n\u001b[?2004l\r"]
[160.575686, "o", "\u001b[?2004h> "]
[160.575867, "o", "        efficiency=$(echo \"scale=4; $total_artifact_size / $duration_sec\" | bc)\r\n\u001b[?2004l\r"]
[160.57591, "o", "\u001b[?2004h> "]
[160.576061, "o", "        efficiency_score=$(printf \"%.*f\" 2 \"$efficiency\")\r\n\u001b[?2004l\r"]
[160.576105, "o", "\u001b[?2004h> "]
[160.576214, "o", "        # Apply standard rounding (round half up)\r\n\u001b[?2004l\r"]
[160.576272, "o", "\u001b[?2004h> "]
[160.57643, "o", "        efficiency_score_rounded=$(printf \"%.*f\" 2 \"$efficiency_score\")\r\n\u001b[?2004l\r"]
[160.57644, "o", "\u001b[?2004h"]
[160.576509, "o", "> "]
[160.576617, "o", "        efficiency_score=\"${efficiency_score_rounded:0:4}\"\r\n\u001b[?2004l\r"]
[160.576653, "o", "\u001b[?2004h> "]
[160.576676, "o", "    fi\r\n\u001b[?2004l\r"]
[160.576689, "o", "\u001b[?2004h"]
[160.576774, "o", ">     \r\n\u001b[?2004l\r"]
[160.576813, "o", "\u001b[?2004h> "]
[160.576959, "o", "    # Calculate verification code (first 8 chars of SHA-256 of commit_hash+status)\r\n\u001b[?2004l\r"]
[160.576997, "o", "\u001b[?2004h> "]
[160.577098, "o", "    data_to_hash=\"${commit_hash}${status}\"\r\n\u001b[?2004l\r"]
[160.577124, "o", "\u001b[?2004h> "]
[160.57734, "o", "    verification_code=$(echo -n \"$data_to_hash\" | sha256sum | cut -c1-8)\r\n\u001b[?2004l\r"]
[160.577368, "o", "\u001b[?2004h>     \r\n"]
[160.577412, "o", "\u001b[?2004l\r\u001b[?2004h> "]
[160.577621, "o", "    # Insert into temporary table (using auto-increment later)\r\n\u001b[?2004l\r\u001b[?2004h> "]
[160.578018, "o", "    sqlite3 \"$DB_FILE\" \"INSERT INTO temp_builds (commit_hash, status, duration_sec, timestamp, efficiency_score, verification_code, artifacts) \\\r\n\u001b[?2004l\r"]
[160.578067, "o", "\u001b[?2004h> "]
[160.578423, "o", "        VALUES ('$commit_hash', '$status', $duration_sec, $timestamp, $efficiency_score, '$verification_code', '$artifacts_json');\"\r\n\u001b[?2004l\r"]
[160.57847, "o", "\u001b[?2004h> done\r\n\u001b[?2004l\r"]
[160.578529, "o", "\u001b[?2004h> EOF\r\n\u001b[?2004l\r"]
[160.579843, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[160.680157, "i", "chmod +x /tmp/parse_builds.sh\n"]
[160.680288, "o", "chmod +x /tmp/parse_builds.sh\r\n\u001b[?2004l\r"]
[160.682201, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[160.755259, "i", "/tmp/parse_builds.sh\n"]
[160.755362, "o", "/tmp/parse_builds.sh\r\n\u001b[?2004l\r"]
[160.781294, "o", "jq: error (at <stdin>:1): Cannot index string with string \"commit_hash\"\r\n"]
[160.794032, "o", "jq: error (at <stdin>:1): Cannot index string with string \"status\"\r\n"]
[160.807234, "o", "jq: error (at <stdin>:1): Cannot index string with string \"duration_sec\"\r\n"]
[160.819891, "o", "jq: error (at <stdin>:1): Cannot index string with string \"timestamp\"\r\n"]
[160.844346, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[160.846358, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[160.857385, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[160.857434, "o", "paste: write error"]
[160.857459, "o", ": Broken pipe\r\n"]
[160.857966, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[160.858625, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[160.863287, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[160.875528, "o", "jq: error (at <stdin>:1): Cannot index string with string \"commit_hash\"\r\n"]
[160.889336, "o", "jq: error (at <stdin>:1): Cannot index string with string \"status\"\r\n"]
[160.903393, "o", "jq: error (at <stdin>:1): Cannot index string with string \"duration_sec\"\r\n"]
[160.917724, "o", "jq: error (at <stdin>:1): Cannot index string with string \"timestamp\"\r\n"]
[160.930347, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[160.93216, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[160.952813, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[160.952914, "o", "paste: "]
[160.952941, "o", "write error"]
[160.952972, "o", ": Broken pipe\r\n"]
[160.953453, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[160.954185, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[160.961654, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[160.978749, "o", "jq: error (at <stdin>:1): Cannot index number with string \"commit_hash\"\r\n"]
[160.992534, "o", "jq: error (at <stdin>:1): Cannot index number with string \"status\"\r\n"]
[161.005584, "o", "jq: error (at <stdin>:1): Cannot index number with string \"duration_sec\"\r\n"]
[161.018602, "o", "jq: error (at <stdin>:1): Cannot index number with string \"timestamp\"\r\n"]
[161.044905, "o", "jq: error (at <stdin>:1): Cannot index number with string \"artifacts\"\r\n"]
[161.047108, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[161.062398, "o", "jq: error (at <stdin>:1): Cannot index number with string \"artifacts\"\r\n"]
[161.062459, "o", "paste: write error"]
[161.062517, "o", ": Broken pipe\r\n"]
[161.06299, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[161.0642, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[161.069309, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[161.081679, "o", "jq: error (at <stdin>:1): Cannot index string with string \"commit_hash\"\r\n"]
[161.094798, "o", "jq: error (at <stdin>:1): Cannot index string with string \"status\"\r\n"]
[161.108452, "o", "jq: error (at <stdin>:1): Cannot index string with string \"duration_sec\"\r\n"]
[161.122124, "o", "jq: error (at <stdin>:1): Cannot index string with string \"timestamp\"\r\n"]
[161.135124, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[161.136587, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[161.16207, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[161.162138, "o", "paste: write error: Broken pipe\r\n"]
[161.162584, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[161.163277, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[161.167853, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[161.180439, "o", "jq: error (at <stdin>:1): Cannot index number with string \"commit_hash\"\r\n"]
[161.193328, "o", "jq: error (at <stdin>:1): Cannot index number with string \"status\"\r\n"]
[161.210924, "o", "jq: error (at <stdin>:1): Cannot index number with string \"duration_sec\"\r\n"]
[161.224912, "o", "jq: error (at <stdin>:1): Cannot index number with string \"timestamp\"\r\n"]
[161.257887, "o", "jq: error (at <stdin>:1): Cannot index number with string \"artifacts\"\r\n"]
[161.259839, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[161.275342, "o", "jq: error (at <stdin>:1): Cannot index number with string \"artifacts\"\r\n"]
[161.275443, "o", "paste: write error: Broken pipe\r\n"]
[161.275952, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[161.276655, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[161.282037, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[161.294409, "o", "jq: error (at <stdin>:1): Cannot index string with string \"commit_hash\"\r\n"]
[161.308892, "o", "jq: error (at <stdin>:1): Cannot index string with string \"status\"\r\n"]
[161.326072, "o", "jq: error (at <stdin>:1): Cannot index string with string \"duration_sec\"\r\n"]
[161.349559, "o", "jq: error (at <stdin>:1): Cannot index string with string \"timestamp\"\r\n"]
[161.365515, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[161.36711, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[161.379559, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[161.379613, "o", "paste: write error"]
[161.379639, "o", ": Broken pipe\r\n"]
[161.380022, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[161.380664, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[161.384684, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[161.402088, "o", "jq: error (at <stdin>:1): Cannot index array with string \"commit_hash\"\r\n"]
[161.415435, "o", "jq: error (at <stdin>:1): Cannot index array with string \"status\"\r\n"]
[161.428442, "o", "jq: error (at <stdin>:1): Cannot index array with string \"duration_sec\"\r\n"]
[161.448567, "o", "jq: error (at <stdin>:1): Cannot index array with string \"timestamp\"\r\n"]
[161.462498, "o", "jq: error (at <stdin>:1): Cannot index array with string \"artifacts\"\r\n"]
[161.463953, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[161.481732, "o", "jq: error (at <stdin>:1): Cannot index array with string \"artifacts\"\r\npaste: write error"]
[161.481822, "o", ": Broken pipe\r\n"]
[161.482177, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[161.483022, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[161.488743, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[161.501216, "o", "jq: error (at <stdin>:1): Cannot index string with string \"commit_hash\"\r\n"]
[161.513838, "o", "jq: error (at <stdin>:1): Cannot index string with string \"status\"\r\n"]
[161.526411, "o", "jq: error (at <stdin>:1): Cannot index string with string \"duration_sec\"\r\n"]
[161.545394, "o", "jq: error (at <stdin>:1): Cannot index string with string \"timestamp\"\r\n"]
[161.558071, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[161.55986, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[161.570979, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[161.571041, "o", "paste: write error: Broken pipe\r\n"]
[161.571422, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[161.57216, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[161.577892, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[161.590432, "o", "jq: error (at <stdin>:1): Cannot index string with string \"commit_hash\"\r\n"]
[161.60311, "o", "jq: error (at <stdin>:1): Cannot index string with string \"status\"\r\n"]
[161.622248, "o", "jq: error (at <stdin>:1): Cannot index string with string \"duration_sec\"\r\n"]
[161.645205, "o", "jq: error (at <stdin>:1): Cannot index string with string \"timestamp\"\r\n"]
[161.662744, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[161.664505, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[161.685775, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\npaste: write error: Broken pipe\r\n"]
[161.686846, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[161.687888, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[161.694613, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[161.707288, "o", "jq: error (at <stdin>:1): Cannot index number with string \"commit_hash\"\r\n"]
[161.754903, "o", "jq: error (at <stdin>:1): Cannot index number with string \"status\"\r\n"]
[161.76879, "o", "jq: error (at <stdin>:1): Cannot index number with string \"duration_sec\"\r\n"]
[161.782092, "o", "jq: error (at <stdin>:1): Cannot index number with string \"timestamp\"\r\n"]
[161.794876, "o", "jq: error (at <stdin>:1): Cannot index number with string \"artifacts\"\r\n"]
[161.796432, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[161.807886, "o", "jq: error (at <stdin>:1): Cannot index number with string \"artifacts\"\r\n"]
[161.807981, "o", "paste: write error"]
[161.808044, "o", ": Broken pipe\r\n"]
[161.808534, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[161.809364, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[161.815506, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[161.827801, "o", "jq: error (at <stdin>:1): Cannot index string with string \"commit_hash\"\r\n"]
[161.853621, "o", "jq: error (at <stdin>:1): Cannot index string with string \"status\"\r\n"]
[161.866162, "o", "jq: error (at <stdin>:1): Cannot index string with string \"duration_sec\"\r\n"]
[161.879682, "o", "jq: error (at <stdin>:1): Cannot index string with string \"timestamp\"\r\n"]
[161.893273, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[161.894827, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[161.906264, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[161.906363, "o", "paste: write error"]
[161.906424, "o", ": Broken pipe\r\n"]
[161.906899, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[161.907851, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[161.913866, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[161.929334, "o", "jq: error (at <stdin>:1): Cannot index number with string \"commit_hash\"\r\n"]
[161.95337, "o", "jq: error (at <stdin>:1): Cannot index number with string \"status\"\r\n"]
[161.968025, "o", "jq: error (at <stdin>:1): Cannot index number with string \"duration_sec\"\r\n"]
[161.980856, "o", "jq: error (at <stdin>:1): Cannot index number with string \"timestamp\"\r\n"]
[161.994413, "o", "jq: error (at <stdin>:1): Cannot index number with string \"artifacts\"\r\n"]
[161.996608, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[162.010261, "o", "jq: error (at <stdin>:1): Cannot index number with string \"artifacts\"\r\n"]
[162.010352, "o", "paste: write error: Broken pipe\r\n"]
[162.010945, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[162.011848, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[162.017318, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[162.030085, "o", "jq: error (at <stdin>:1): Cannot index string with string \"commit_hash\"\r\n"]
[162.053312, "o", "jq: error (at <stdin>:1): Cannot index string with string \"status\"\r\n"]
[162.070672, "o", "jq: error (at <stdin>:1): Cannot index string with string \"duration_sec\"\r\n"]
[162.083745, "o", "jq: error (at <stdin>:1): Cannot index string with string \"timestamp\"\r\n"]
[162.096852, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[162.098324, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[162.11266, "o", "jq: error (at <stdin>:1): Cannot index string with string \"artifacts\"\r\n"]
[162.112725, "o", "paste: write error: Broken pipe\r\n"]
[162.113116, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[162.113826, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[162.120449, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[162.133001, "o", "jq: error (at <stdin>:1): Cannot index array with string \"commit_hash\"\r\n"]
[162.153655, "o", "jq: error (at <stdin>:1): Cannot index array with string \"status\"\r\n"]
[162.167783, "o", "jq: error (at <stdin>:1): Cannot index array with string \"duration_sec\"\r\n"]
[162.180513, "o", "jq: error (at <stdin>:1): Cannot index array with string \"timestamp\"\r\n"]
[162.19334, "o", "jq: error (at <stdin>:1): Cannot index array with string \"artifacts\"\r\n"]
[162.194741, "o", "/tmp/parse_builds.sh: line 17: bc: command not found\r\n"]
[162.209859, "o", "jq: error (at <stdin>:1): Cannot index array with string \"artifacts\"\r\n"]
[162.209931, "o", "paste: write error: Broken pipe\r\n"]
[162.210355, "o", "/tmp/parse_builds.sh: line 21: [: : integer expression expected\r\n"]
[162.21124, "o", "/tmp/parse_builds.sh: line 24: bc: command not found\r\n"]
[162.218058, "o", "Error: in prepare, near \",\": syntax error (1)\r\n"]
[162.219234, "o", "\u001b[?2004h"]
[162.219301, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[170.289622, "i", "apt-get update && apt-get install -y bc\n"]
[170.289899, "o", "apt-get update && apt-get install -y bc\r\n\u001b[?2004l\r"]
[170.34798, "o", "\r0% [Working]"]
[170.382146, "o", "\r            \rHit:1 http://archive.ubuntu.com/ubuntu jammy InRelease\r\n\r0% [Connecting to security.ubuntu.com (91.189.92.22)]"]
[170.388349, "o", "\r                                                     \rHit:2 http://archive.ubuntu.com/ubuntu jammy-updates InRelease\r\n"]
[170.388372, "o", "\r0% [Connecting to security.ubuntu.com (91.189.92.22)]"]
[170.400349, "o", "\r                                                     \rHit:3 http://archive.ubuntu.com/ubuntu jammy-backports InRelease\r\n\r0% [Connecting to security.ubuntu.com (91.189.92.22)]"]
[170.467334, "o", "\r                                                     \r0% [Waiting for headers]"]
[170.53341, "o", "\r0% [Waiting for headers]\r                        \rHit:4 http://security.ubuntu.com/ubuntu jammy-security InRelease\r\n\r                        \r0% [Working]"]
[170.603167, "o", "\r0% [Working]"]
[170.677107, "o", "\r20% [Working]\r             \r"]
[170.682381, "o", "\rReading package lists... 0%\r"]
[170.731476, "o", "\rReading package lists... 0%\r"]
[170.738406, "o", "\rReading package lists... 0%\r"]
[170.763462, "o", "\rReading package lists... 3%\r"]
[170.763608, "o", "\rReading package lists... 3%\r"]
[170.782086, "o", "\rReading package lists... 4%\r"]
[170.782216, "o", "\rReading package lists... 4%\r"]
[171.110418, "o", "\rReading package lists... 38%\r\rReading package lists... 38%\r"]
[171.119496, "o", "\rReading package lists... 39%\r"]
[171.119555, "o", "\rReading package lists... 39%\r"]
[171.206104, "o", "\rReading package lists... 49%\r"]
[171.20621, "o", "\rReading package lists... 49%\r"]
[171.314611, "o", "\rReading package lists... 66%\r\rReading package lists... 66%\r"]
[171.348775, "o", "\rReading package lists... 70%\r\rReading package lists... 70%\r"]
[171.350814, "o", "\rReading package lists... 70%\r\rReading package lists... 70%\r"]
[171.352984, "o", "\rReading package lists... 70%\r"]
[171.353097, "o", "\rReading package lists... 70%\r"]
[171.357608, "o", "\rReading package lists... 70%\r"]
[171.35769, "o", "\rReading package lists... 70%\r"]
[171.387976, "o", "\rReading package lists... 79%\r"]
[171.388091, "o", "\rReading package lists... 79%\r"]
[171.435312, "o", "\rReading package lists... 96%\r"]
[171.435441, "o", "\rReading package lists... 96%\r"]
[171.439409, "o", "\rReading package lists... 97%\r"]
[171.450464, "o", "\rReading package lists... 99%\r"]
[171.450545, "o", "\rReading package lists... 99%\r"]
[171.450932, "o", "\rReading package lists... 99%\r"]
[171.450954, "o", "\rReading package lists... 99%\r"]
[171.457677, "o", "\rReading package lists... Done\r\r\n"]
[171.504068, "o", "\rReading package lists... 0%\r"]
[171.554244, "o", "\rReading package lists... 0%\r"]
[171.561371, "o", "\rReading package lists... 0%\r"]
[171.583208, "o", "\rReading package lists... 3%\r"]
[171.583327, "o", "\rReading package lists... 3%\r"]
[171.602448, "o", "\rReading package lists... 4%\r"]
[171.60253, "o", "\rReading package lists... 4%\r"]
[171.917867, "o", "\rReading package lists... 38%\r"]
[171.917984, "o", "\rReading package lists... 38%\r"]
[171.927169, "o", "\rReading package lists... 39%\r"]
[171.927231, "o", "\rReading package lists... 39%\r"]
[172.027273, "o", "\rReading package lists... 49%\r"]
[172.02742, "o", "\rReading package lists... 49%\r"]
[172.149292, "o", "\rReading package lists... 66%\r\rReading package lists... 66%\r"]
[172.182264, "o", "\rReading package lists... 70%\r"]
[172.182299, "o", "\rReading package lists... 70%\r"]
[172.184101, "o", "\rReading package lists... 70%\r"]
[172.184181, "o", "\rReading package lists... 70%\r"]
[172.186214, "o", "\rReading package lists... 70%\r"]
[172.18629, "o", "\rReading package lists... 70%\r"]
[172.190823, "o", "\rReading package lists... 70%\r"]
[172.190891, "o", "\rReading package lists... 70%\r"]
[172.222386, "o", "\rReading package lists... 79%\r"]
[172.22252, "o", "\rReading package lists... 79%\r"]
[172.263614, "o", "\rReading package lists... 92%\r"]
[172.273712, "o", "\rReading package lists... 96%\r"]
[172.273788, "o", "\rReading package lists... 96%\r"]
[172.283687, "o", "\rReading package lists... 99%\r"]
[172.283764, "o", "\rReading package lists... 99%\r"]
[172.284166, "o", "\rReading package lists... 99%\r\rReading package lists... 99%\r"]
[172.290298, "o", "\rReading package lists... Done\r\r\n"]
[172.304902, "o", "\rBuilding dependency tree... 0%\r\rBuilding dependency tree... 0%\r"]
[172.338863, "o", "\rBuilding dependency tree... 50%\r\rBuilding dependency tree... 50%\r"]
[172.496472, "o", "\rBuilding dependency tree... Done\r\r\n\rReading state information... 0% \r\rReading state information... 3%\r"]
[172.496649, "o", "\rReading state information... Done\r\r\n"]
[172.654644, "o", "The following NEW packages will be installed:\r\n"]
[172.655328, "o", "  bc\r\n"]
[172.659256, "o", "0 upgraded, 1 newly installed, 0 to remove and 4 not upgraded.\r\nNeed to get 87.6 kB of archives.\r\n"]
[172.659282, "o", "After this operation, 220 kB of additional disk space will be used.\r\n"]
[172.665678, "o", "\r0% [Working]"]
[172.821698, "o", "\r            \rGet:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 bc amd64 1.07.1-3build1 [87.6 kB]\r\n"]
[172.821816, "o", "\r12% [1 bc 12.7 kB/87.6 kB 15%]"]
[173.035924, "o", "\r                              \r100% [Working]\r              \rFetched 87.6 kB in 0s (233 kB/s)\r\n"]
[173.114408, "o", "debconf: delaying package configuration, since apt-utils is not installed\r\n"]
[173.192112, "o", "Selecting previously unselected package bc.\r\n(Reading database ... \r"]
[173.19376, "o", "(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r"]
[173.193812, "o", "(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r"]
[173.195114, "o", "(Reading database ... 70%\r"]
[173.196269, "o", "(Reading database ... 75%\r"]
[173.196624, "o", "(Reading database ... 80%\r"]
[173.197403, "o", "(Reading database ... 85%\r"]
[173.198708, "o", "(Reading database ... 90%\r"]
[173.199071, "o", "(Reading database ... 95%\r"]
[173.199608, "o", "(Reading database ... 100%\r(Reading database ... 8981 files and directories currently installed.)\r\n"]
[173.199988, "o", "Preparing to unpack .../bc_1.07.1-3build1_amd64.deb ...\r\n"]
[173.204347, "o", "Unpacking bc (1.07.1-3build1) ...\r\n"]
[173.23278, "o", "Setting up bc (1.07.1-3build1) ...\r\n"]
[173.254444, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[175.315391, "i", "cat processed_builds.json | head -2 | jq .\n"]
[175.315611, "o", "cat processed_builds.json | head -2 | jq .\r\n\u001b[?2004l\r"]
[175.332201, "o", "parse error: Unfinished JSON term at EOF at line 3, column 0\r\n"]
[175.332505, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[182.24356, "i", "cat processed_builds.json\n"]
[182.243878, "o", "cat processed_builds.json\r\n"]
[182.243938, "o", "\u001b[?2004l\r"]
[182.245208, "o", "{\r\n  \"commit_hash\": \"a1b2c3d4e5f6\",\r\n  \"status\": \"SUCCESS\",\r\n  \"duration_sec\": 5,\r\n  \"timestamp\": \"1693801600\",\r\n  \"efficiency_score\": 0.75,\r\n  \"verification_code\": \"abc123\",\r\n  \"artifacts\": [\r\n    {\r\n      \"name\": \"app-release.apk\",\r\n      \"size_bytes\": 15000000\r\n    },\r\n    {\r\n      \"name\": \"symbols.zip\",\r\n      \"size_bytes\": 2000000\r\n    }\r\n  ]\r\n}\r\n{\r\n  \"commit_hash\": \"b1c2d3e4f5a6\",\r\n  \"status\": \"FAILED\",\r\n  \"duration_sec\": 3,\r\n  \"timestamp\": \"1693801700\",\r\n  \"efficiency_score\": 0.4,\r\n  \"verification_code\": \"def456\",\r\n  \"artifacts\": [\r\n    {\r\n      \"name\": \"app-debug.apk\",\r\n      \"size_bytes\": 18000000\r\n    }\r\n  ]\r\n}\r\n"]
[182.245585, "o", "\u001b[?2004h"]
[182.245634, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[195.285472, "i", "cat > fixed_processed_builds.json << 'EOF'\n[\n  {\n    \"commit_hash\": \"a1b2c3d4e5f6\",\n    \"status\": \"SUCCESS\",\n    \"duration_sec\": 5,\n    \"timestamp\": \"1693801600\",\n    \"efficiency_score\": 0.75,\n    \"verification_code\": \"abc123\",\n    \"artifacts\": [\n      {\"name\": \"app-release.apk\", \"size_bytes\": 15000000},\n      {\"name\": \"symbols.zip\", \"size_bytes\": 2000000}\n    ]\n  },\n  {\n    \"commit_hash\": \"b1c2d3e4f5a6\",\n    \"status\": \"FAILED\",\n    \"duration_sec\": 3,\n    \"timestamp\": \"1693801700\",\n    \"efficiency_score\": 0.4,\n    \"verification_code\": \"def456\",\n    \"artifacts\": [\n      {\"name\": \"app-debug.apk\", \"size_bytes\": 18000000}\n    ]\n  }\n]\nEOF\n"]
[195.285754, "o", "cat > fixed_processed_builds.json << 'EOF'\r\n\u001b[?2004l\r"]
[195.285823, "o", "\u001b[?2004h"]
[195.285864, "o", "> [\r\n\u001b[?2004l\r"]
[195.285894, "o", "\u001b[?2004h> "]
[195.285922, "o", "  {\r\n\u001b[?2004l\r"]
[195.285935, "o", "\u001b[?2004h"]
[195.285966, "o", "> "]
[195.286109, "o", "    \"commit_hash\": \"a1b2c3d4e5f6\",\r\n\u001b[?2004l\r"]
[195.286135, "o", "\u001b[?2004h"]
[195.286159, "o", "> "]
[195.286265, "o", "    \"status\": \"SUCCESS\",\r\n\u001b[?2004l\r"]
[195.286304, "o", "\u001b[?2004h"]
[195.286315, "o", "> "]
[195.286418, "o", "    \"duration_sec\": 5,\r\n\u001b[?2004l\r"]
[195.286446, "o", "\u001b[?2004h"]
[195.286486, "o", "> "]
[195.286614, "o", "    \"timestamp\": \"1693801600\",\r\n\u001b[?2004l\r"]
[195.286651, "o", "\u001b[?2004h"]
[195.286661, "o", "> "]
[195.286795, "o", "    \"efficiency_score\": 0.75,\r\n\u001b[?2004l\r"]
[195.286839, "o", "\u001b[?2004h> "]
[195.286988, "o", "    \"verification_code\": \"abc123\",\r\n\u001b[?2004l\r"]
[195.287029, "o", "\u001b[?2004h> "]
[195.287113, "o", "    \"artifacts\": [\r\n\u001b[?2004l\r"]
[195.287141, "o", "\u001b[?2004h"]
[195.287154, "o", "> "]
[195.287413, "o", "      {\"name\": \"app-release.apk\", \"size_bytes\": 15000000},\r\n\u001b[?2004l\r"]
[195.287452, "o", "\u001b[?2004h> "]
[195.287709, "o", "      {\"name\": \"symbols.zip\", \"size_bytes\": 2000000}\r\n\u001b[?2004l\r"]
[195.287761, "o", "\u001b[?2004h> "]
[195.287772, "o", "    ]\r\n"]
[195.287833, "o", "\u001b[?2004l\r\u001b[?2004h>   },"]
[195.287843, "o", "\r\n\u001b[?2004l\r"]
[195.287901, "o", "\u001b[?2004h>   {\r\n\u001b[?2004l\r"]
[195.287944, "o", "\u001b[?2004h> "]
[195.288095, "o", "    \"commit_hash\": \"b1c2d3e4f5a6\",\r\n\u001b[?2004l\r"]
[195.288133, "o", "\u001b[?2004h> "]
[195.288245, "o", "    \"status\": \"FAILED\",\r\n\u001b[?2004l\r"]
[195.288284, "o", "\u001b[?2004h> "]
[195.28839, "o", "    \"duration_sec\": 3,\r\n\u001b[?2004l\r"]
[195.288428, "o", "\u001b[?2004h> "]
[195.288579, "o", "    \"timestamp\": \"1693801700\",\r\n\u001b[?2004l\r"]
[195.288622, "o", "\u001b[?2004h> "]
[195.288743, "o", "    \"efficiency_score\": 0.4,\r\n\u001b[?2004l\r"]
[195.288782, "o", "\u001b[?2004h> "]
[195.288945, "o", "    \"verification_code\": \"def456\",\r\n\u001b[?2004l\r"]
[195.288981, "o", "\u001b[?2004h> "]
[195.289077, "o", "    \"artifacts\": [\r\n\u001b[?2004l\r"]
[195.289118, "o", "\u001b[?2004h> "]
[195.289376, "o", "      {\"name\": \"app-debug.apk\", \"size_bytes\": 18000000}\r\n\u001b[?2004l\r"]
[195.28942, "o", "\u001b[?2004h> "]
[195.289459, "o", "    ]\r\n"]
[195.289531, "o", "\u001b[?2004l\r\u001b[?2004h>   }\r\n\u001b[?2004l\r\u001b[?2004h"]
[195.289584, "o", "> ]\r\n\u001b[?2004l\r\u001b[?2004h"]
[195.28962, "o", "> "]
[195.289664, "o", "EOF\r\n\u001b[?2004l\r"]
[195.291751, "o", "\u001b[?2004h"]
[195.291785, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[195.41021, "i", "jq . fixed_processed_builds.json\n"]
[195.410447, "o", "jq . fixed_processed_builds.json\r\n\u001b[?2004l\r"]
[195.424593, "o", "\u001b[1;39m[\r\n  \u001b[1;39m{\r\n    \u001b[0m\u001b[34;1m\"commit_hash\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"a1b2c3d4e5f6\"\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"status\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"SUCCESS\"\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"duration_sec\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;39m5\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"timestamp\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"1693801600\"\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"efficiency_score\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;39m0.75\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"verification_code\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"abc123\"\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"artifacts\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[1;39m[\r\n      \u001b[1;39m{\r\n        \u001b[0m\u001b[34;1m\"name\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"app-release.apk\"\u001b[0m\u001b[1;39m,\r\n        \u001b[0m\u001b[34;1m\"size_bytes\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;39m15000000\u001b[0m\u001b[1;39m\r\n      \u001b[1;39m}\u001b[0m\u001b[1;39m,"]
[195.424685, "o", "\r\n      \u001b[1;39m{\r\n        \u001b[0m\u001b[34;1m\"name\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"symbols.zip\"\u001b[0m\u001b[1;39m,\r\n        \u001b[0m\u001b[34;1m\"size_bytes\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;39m2000000\u001b[0m\u001b[1;39m\r\n      \u001b[1;39m}\u001b[0m\u001b[1;39m\r\n    \u001b[1;39m]\u001b[0m\u001b[1;39m\r\n  \u001b[1;39m}\u001b[0m\u001b[1;39m,\r\n  \u001b[1;39m{\r\n    \u001b[0m\u001b[34;1m\"commit_hash\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"b1c2d3e4f5a6\"\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"status\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"FAILED\"\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"duration_sec\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;39m3\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"timestamp\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"1693801700\"\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"efficiency_score\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;39m0.4\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"verification_code\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"def456\"\u001b[0m\u001b[1;39m,\r\n    \u001b[0m\u001b[34;1m\"artifacts\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[1;39m[\r\n      \u001b[1;39m{\r\n        \u001b[0m\u001b[34;1m\"name\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;32m\"app-debug.apk\"\u001b[0m\u001b[1;39m,\r\n        \u001b[0m\u001b[34;1m\"size_bytes\"\u001b[0m\u001b[1;39m: \u001b[0m\u001b[0;39m18000000\u001b[0m\u001b[1;39m\r\n      \u001b[1;39m}\u001b[0m\u001b[1;39m\r\n    \u001b[1;39m]\u001b[0m\u001b[1;39m\r\n  \u001b[1;39m}\u001b[0m\u001b[1;39m\r\n\u001b[1;39m]\u001b[0m\r\n"]
[195.425028, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[228.153265, "i", "chmod +x /tmp/final_processing.sh\n"]
[228.153445, "o", "chmod +x /tmp/final_processing.sh\r\n\u001b[?2004l\r"]
[228.154599, "o", "chmod: cannot access '/tmp/final_processing.sh'"]
[228.154616, "o", ": No such file or directory\r\n"]
[228.154814, "o", "\u001b[?2004h"]
[228.154846, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[228.354652, "i", "/tmp/final_processing.sh\n"]
[228.354774, "o", "/tmp/final_processing.sh\r\n\u001b[?2004l\r"]
[228.355158, "o", "bash: /tmp/final_processing.sh: No such file or directory\r\n"]
[228.35546, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[230.408492, "i", "sqlite3 /home/user/mobile_pipelines/builds.db \"SELECT * FROM builds;\"\n"]
[230.408871, "o", "sqlite3 /home/user/mobile_pipelines/builds.db \"SELECT * FROM builds;\"\r\n\u001b[?2004l\r"]
[230.410779, "o", "\u001b[?2004h"]
[230.410828, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[314.83462, "i", "cat > /tmp/final_processing.sh << 'EOF'\n#!/bin/bash\nDB_FILE=\"/home/user/mobile_pipelines/builds.db\"\nBUILD_ID=1\njq -c '.[]' fixed_processed_builds.json | while IFS= read -r build_json; do\n  commit_hash=$(echo \"$build_json\" | jq -r '.commit_hash')\n  status=$(echo \"$build_json\" | jq -r '.status')\n  duration_sec=$(echo \"$build_json\" | jq -r '.duration_sec')\n  timestamp=$(echo \"$build_json\" | jq -r '.timestamp')\n  total_artifact_size=0\n  artifacts_count=$(echo \"$build_json\" | jq -r '.artifacts | length')\n  if [ \"$artifacts_count\" -gt 0 ]; then\n    total_artifact_size=$(echo \"$build_json\" | jq -r '.artifacts[] | .size_bytes' | paste -sd+ - | bc)\n  fi\n  if [ \"$duration_sec\" -eq 0 ]; then\n    efficiency_score=\"0.00\"\n  else\n    efficiency=$(echo \"scale=4; $total_artifact_size / $duration_sec\" | bc)\n    efficiency_score=$(printf \"%.2f\" \"$efficiency\")\n  fi\n  data_to_hash=\"${commit_hash}${status}\"\n  verification_code=$(echo -n \"$data_to_hash\" | sha256sum | cut -c1-8)\n  timestamp_iso=$(date -u -d @\"$timestamp\" +\"%Y-%m-%dT"]
[314.834785, "i", "%H:%M:%SZ\")\n  sqlite3 \"$DB_FILE\" \"INSERT INTO builds (commit_hash, status, duration_sec, timestamp, efficiency_score, verification_code) VALUES ('$commit_hash', '$status', $duration_sec, '$timestamp_iso', '$efficiency_score', '$verification_code');\"\n  echo \"$build_json\" | jq -c '.artifacts[]' | while IFS= read -r artifact_json; do\n    artifact_name=$(echo \"$artifact_json\" | jq -r '.name')\n    size_bytes=$(echo \"$artifact_json\" | jq -r '.size_bytes')\n    size_kb=$((size_bytes / 1024))\n    sqlite3 \"$DB_FILE\" \"INSERT INTO artifacts (build_id, artifact_name, size_kb) VALUES ($BUILD_ID, '$artifact_name', $size_kb);\"\n  done\n  BUILD_ID=$((BUILD_ID + 1))\ndone\nEOF\n"]
[314.835027, "o", "cat > /tmp/final_processing.sh << 'EOF'\r\n\u001b[?2004l\r"]
[314.835117, "o", "\u001b[?2004h"]
[314.835175, "o", "> "]
[314.835238, "o", "#!/bin/bash\r\n\u001b[?2004l\r"]
[314.835285, "o", "\u001b[?2004h> "]
[314.835678, "o", "DB_FILE=\"/home/user/mobile_pipelines/builds.db\"\r\n\u001b[?2004l\r"]
[314.835726, "o", "\u001b[?2004h> "]
[314.835822, "o", "BUILD_ID=1\r\n\u001b[?2004l\r"]
[314.835866, "o", "\u001b[?2004h> "]
[314.836419, "o", "jq -c '.[]' fixed_processed_builds.json | while IFS= read -r build_json; do\r\n\u001b[?2004l\r"]
[314.836474, "o", "\u001b[?2004h> "]
[314.836982, "o", "  commit_hash=$(echo \"$build_json\" | jq -r '.commit_hash')\r\n\u001b[?2004l\r"]
[314.837043, "o", "\u001b[?2004h"]
[314.837089, "o", "> "]
[314.837477, "o", "  status=$(echo \"$build_json\" | jq -r '.status')\r\n\u001b[?2004l\r"]
[314.837563, "o", "\u001b[?2004h> "]
[314.83802, "o", "  duration_sec=$(echo \"$build_json\" | jq -r '.duration_sec')\r\n\u001b[?2004l\r"]
[314.838062, "o", "\u001b[?2004h"]
[314.838113, "o", "> "]
[314.838475, "o", "  timestamp=$(echo \"$build_json\" | jq -r '.timestamp')\r\n\u001b[?2004l\r"]
[314.838531, "o", "\u001b[?2004h"]
[314.838584, "o", "> "]
[314.838726, "o", "  total_artifact_size=0\r\n\u001b[?2004l\r"]
[314.838772, "o", "\u001b[?2004h"]
[314.838821, "o", "> "]
[314.839293, "o", "  artifacts_count=$(echo \"$build_json\" | jq -r '.artifacts | length')\r\n\u001b[?2004l\r"]
[314.839339, "o", "\u001b[?2004h"]
[314.839394, "o", "> "]
[314.839663, "o", "  if [ \"$artifacts_count\" -gt 0 ]; then\r\n\u001b[?2004l\r"]
[314.839707, "o", "\u001b[?2004h"]
[314.839762, "o", "> "]
[314.840459, "o", "    total_artifact_size=$(echo \"$build_json\" | jq -r '.artifacts[] | .size_bytes' | paste -sd+ - | bc)\r\n\u001b[?2004l\r"]
[314.840517, "o", "\u001b[?2004h"]
[314.840569, "o", ">   fi\r\n"]
[314.84062, "o", "\u001b[?2004l\r\u001b[?2004h"]
[314.840669, "o", "> "]
[314.840915, "o", "  if [ \"$duration_sec\" -eq 0 ]; then\r\n\u001b[?2004l\r"]
[314.840959, "o", "\u001b[?2004h"]
[314.841011, "o", "> "]
[314.841181, "o", "    efficiency_score=\"0.00\"\r\n\u001b[?2004l\r"]
[314.841225, "o", "\u001b[?2004h"]
[314.841277, "o", "> "]
[314.841335, "o", "  else\r\n\u001b[?2004l\r\u001b[?2004h"]
[314.841384, "o", "> "]
[314.841917, "o", "    efficiency=$(echo \"scale=4; $total_artifact_size / $duration_sec\" | bc)\r\n\u001b[?2004l\r"]
[314.841965, "o", "\u001b[?2004h"]
[314.842015, "o", "> "]
[314.842361, "o", "    efficiency_score=$(printf \"%.2f\" \"$efficiency\")\r\n\u001b[?2004l\r"]
[314.842407, "o", "\u001b[?2004h"]
[314.842455, "o", ">   fi"]
[314.842514, "o", "\r\n\u001b[?2004l\r\u001b[?2004h"]
[314.842565, "o", "> "]
[314.842842, "o", "  data_to_hash=\"${commit_hash}${status}\"\r\n\u001b[?2004l\r"]
[314.842886, "o", "\u001b[?2004h"]
[314.842941, "o", "> "]
[314.843415, "o", "  verification_code=$(echo -n \"$data_to_hash\" | sha256sum | cut -c1-8)\r\n\u001b[?2004l\r"]
[314.843459, "o", "\u001b[?2004h"]
[314.843527, "o", "> "]
[314.843962, "o", "  timestamp_iso=$(date -u -d @\"$timestamp\" +\"%Y-%m-%dT%H:%M:%SZ\")\r\n\u001b[?2004l\r"]
[314.844021, "o", "\u001b[?2004h"]
[314.844073, "o", "> "]
[314.845758, "o", "  sqlite3 \"$DB_FILE\" \"INSERT INTO builds (commit_hash, status, duration_sec, timestamp, efficiency_score, verification_code) VALUES ('$commit_hash', '$status', $duration_sec, '$timestamp_iso', '$efficiency_score', '$verification_code');\"\r\n\u001b[?2004l\r"]
[314.845836, "o", "\u001b[?2004h> "]
[314.846426, "o", "  echo \"$build_json\" | jq -c '.artifacts[]' | while IFS= read -r artifact_json; do\r\n\u001b[?2004l\r"]
[314.846467, "o", "\u001b[?2004h> "]
[314.84691, "o", "    artifact_name=$(echo \"$artifact_json\" | jq -r '.name')\r\n\u001b[?2004l\r"]
[314.846947, "o", "\u001b[?2004h"]
[314.84697, "o", "> "]
[314.847412, "o", "    size_bytes=$(echo \"$artifact_json\" | jq -r '.size_bytes')\r\n\u001b[?2004l\r"]
[314.847455, "o", "\u001b[?2004h"]
[314.847485, "o", "> "]
[314.847743, "o", "    size_kb=$((size_bytes / 1024))\r\n\u001b[?2004l\r"]
[314.847785, "o", "\u001b[?2004h"]
[314.847809, "o", "> "]
[314.848797, "o", "    sqlite3 \"$DB_FILE\" \"INSERT INTO artifacts (build_id, artifact_name, size_kb) VALUES ($BUILD_ID, '$artifact_name', $size_kb);\"\r\n\u001b[?2004l\r"]
[314.848852, "o", "\u001b[?2004h> "]
[314.848903, "o", "  done\r\n\u001b[?2004l\r"]
[314.848938, "o", "\u001b[?2004h"]
[314.848965, "o", "> "]
[314.849186, "o", "  BUILD_ID=$((BUILD_ID + 1))\r\n\u001b[?2004l\r"]
[314.84922, "o", "\u001b[?2004h"]
[314.849253, "o", "> "]
[314.849285, "o", "done\r\n\u001b[?2004l\r"]
[314.849331, "o", "\u001b[?2004h"]
[314.849357, "o", "> "]
[314.849383, "o", "EOF\r\n\u001b[?2004l\r"]
[314.851259, "o", "\u001b[?2004h"]
[314.851295, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[315.044573, "i", "chmod +x /tmp/final_processing.sh\n"]
[315.044803, "o", "chmod +x /tmp/final_processing.sh\r\n\u001b[?2004l\r"]
[315.046388, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[315.12188, "i", "/tmp/final_processing.sh\n"]
[315.122041, "o", "/tmp/final_processing.sh\r\n"]
[315.122084, "o", "\u001b[?2004l\r"]
[315.484294, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[317.120497, "i", "sqlite3 /home/user/mobile_pipelines/builds.db \"SELECT * FROM builds;\"\n"]
[317.120884, "o", "sqlite3 /home/user/mobile_pipelines/builds.db \"SELECT * FROM builds;\"\r\n\u001b[?2004l\r"]
[317.12282, "o", "1|a1b2c3d4e5f6|SUCCESS|5|2023-09-04T04:26:40Z|3400000.0|5d2e1eb0\r\n2|b1c2d3e4f5a6|FAILED|3|2023-09-04T04:28:20Z|6000000.0|477f73da\r\n"]
[317.123167, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[346.684333, "i", "cat > /tmp/generate_reports.sh << 'EOF'\n#!/bin/bash\nREPORT_DIR=\"/home/user/mobile_pipelines/report\"\nTEXT_REPORT=\"$REPORT_DIR/build_summary.log\"\nJSON_REPORT=\"$REPORT_DIR/build_metrics.json\"\nDB_FILE=\"/home/user/mobile_pipelines/builds.db\"\n\n# Generate text summary report in Windows-1252 with CRLF\nsqlite3 \"$DB_FILE\" \"\nSELECT \n    commit_hash,\n    status,\n    (SELECT COUNT(*) FROM artifacts WHERE artifacts.build_id = builds.id) AS artifact_count,\n    efficiency_score,\n    verification_code \nFROM builds ORDER BY builds.id;\n\" | \nawk -v OFS='|' -v quote=\"'\" -v RS=\"\" -F\"|\" 'BEGIN {\n    printf \"Build Summary Report\\n\\n\" > \"${TEXT_REPORT}.tmp\";\n    printf \"Commit Hash    | Status     | Artifacts | Efficiency | Code\\n\" >> \"${TEXT_REPORT}.tmp\";\n    printf \"--------------------------------------------------------------\\n\" >> \"${TEXT_REPORT}.tmp\";\n} NR>0 { \n    gsub(/\r/, \"\", $1);\n    gsub(/\\/, \"/\", $1);\n    gsub(/\\n/, \"\r\\n\", $1);\n    printf \"%-15.15s | %-11.11s | %-10d | %-11.2f | %-8.8s\\r\\n\", $1, $2, $3, $4, $5 >> \"${TEXT_"]
[346.68451, "i", "REPORT}.tmp\";\n}'\n\n# Convert to Windows-1252 encoding and overwrite\niconv -f UTF-8 -t WINDOWS-1252 \"${TEXT_REPORT}.tmp\" > \"${TEXT_REPORT}\"\nrm \"${TEXT_REPORT}.tmp\"\n\n# Generate JSON integrity export\nREPORT_MD5=$(md5sum \"${TEXT_REPORT}\" | cut -d' ' -f1)\nTIMESTAMP=$(date -u +\"%Y-%m-%dT%H:%M:%SZ\")\n\nsqlite3 \"$DB_FILE\" \"\nSELECT \n    builds.id,\n    builds.commit_hash,\n    builds.efficiency_score \nFROM builds ORDER BY builds.id;\n\" | \njq -R -s -f - <<JQEOF\n[split(\"\") | .[1:]] | map(select(. != \"\")) | map(split(\"|\")) | map({id: (.[0] | tonumber), commit_hash: .[1], efficiency: .[2] | tonumber})\nJQEOF > \"${JSON_REPORT}.tmp\"\n\njqt -s '{\n  \"generated_at\": \"$TIMESTAMP\",\n  \"summary_report_md5\": \"$REPORT_MD5\",\n  \"builds\": . \n}' \"${JSON_REPORT}.tmp\" > \"${JSON_REPORT}\"\nrm \"${JSON_REPORT}.tmp\"\nEOF\n"]
[346.684699, "o", "cat > /tmp/generate_reports.sh << 'EOF'\r\n\u001b[?2004l\r"]
[346.684807, "o", "\u001b[?2004h"]
[346.684852, "o", "> "]
[346.684926, "o", "#!/bin/bash\r\n\u001b[?2004l\r"]
[346.684968, "o", "\u001b[?2004h"]
[346.68501, "o", "> "]
[346.685289, "o", "REPORT_DIR=\"/home/user/mobile_pipelines/report\"\r\n\u001b[?2004l\r"]
[346.685331, "o", "\u001b[?2004h"]
[346.685369, "o", "> "]
[346.685661, "o", "TEXT_REPORT=\"$REPORT_DIR/build_summary.log\"\r\n\u001b[?2004l\r"]
[346.685704, "o", "\u001b[?2004h"]
[346.685744, "o", "> "]
[346.686003, "o", "JSON_REPORT=\"$REPORT_DIR/build_metrics.json\"\r\n\u001b[?2004l\r"]
[346.686045, "o", "\u001b[?2004h"]
[346.686085, "o", "> "]
[346.686364, "o", "DB_FILE=\"/home/user/mobile_pipelines/builds.db\"\r\n\u001b[?2004l\r"]
[346.686418, "o", "\u001b[?2004h"]
[346.686455, "o", "> \r\n\u001b[?2004l\r"]
[346.686504, "o", "\u001b[?2004h"]
[346.686542, "o", "> "]
[346.686905, "o", "# Generate text summary report in Windows-1252 with CRLF\r\n\u001b[?2004l\r"]
[346.686944, "o", "\u001b[?2004h"]
[346.686981, "o", "> "]
[346.687113, "o", "sqlite3 \"$DB_FILE\" \"\r\n\u001b[?2004l\r"]
[346.687154, "o", "\u001b[?2004h"]
[346.687191, "o", "> "]
[346.687227, "o", "SELECT \r\n"]
[346.687264, "o", "\u001b[?2004l\r"]
[346.687301, "o", "\u001b[?2004h> "]
[346.687426, "o", "    commit_hash,\r\n\u001b[?2004l\r"]
[346.687463, "o", "\u001b[?2004h"]
[346.687508, "o", "> "]
[346.687589, "o", "    status,\r\n\u001b[?2004l\r"]
[346.687626, "o", "\u001b[?2004h"]
[346.687664, "o", "> "]
[346.688249, "o", "    (SELECT COUNT(*) FROM artifacts WHERE artifacts.build_id = builds.id) AS artifact_count,\r\n\u001b[?2004l\r"]
[346.688292, "o", "\u001b[?2004h"]
[346.688334, "o", "> "]
[346.688474, "o", "    efficiency_score,\r\n\u001b[?2004l\r"]
[346.688526, "o", "\u001b[?2004h"]
[346.688566, "o", "> "]
[346.688712, "o", "    verification_code \r\n\u001b[?2004l\r"]
[346.688753, "o", "\u001b[?2004h"]
[346.688795, "o", "> "]
[346.689003, "o", "FROM builds ORDER BY builds.id;\r\n\u001b[?2004l\r"]
[346.689044, "o", "\u001b[?2004h"]
[346.689085, "o", "> "]
[346.689128, "o", "\" | \r\n\u001b[?2004l\r"]
[346.68917, "o", "\u001b[?2004h> "]
[346.68952, "o", "awk -v OFS='|' -v quote=\"'\" -v RS=\"\" -F\"|\" 'BEGIN {\r\n\u001b[?2004l\r"]
[346.689561, "o", "\u001b[?2004h"]
[346.689598, "o", "> "]
[346.689988, "o", "    printf \"Build Summary Report\\n\\n\" > \"${TEXT_REPORT}.tmp\";\r\n\u001b[?2004l\r"]
[346.690028, "o", "\u001b[?2004h"]
[346.690066, "o", "> "]
[346.690704, "o", "    printf \"Commit Hash    | Status     | Artifacts | Efficiency | Code\\n\" >> \"${TEXT_REPORT}.tmp\";\r\n\u001b[?2004l\r"]
[346.690745, "o", "\u001b[?2004h> "]
[346.691424, "o", "    printf \"--------------------------------------------------------------\\n\" >> \"${TEXT_REPORT}.tmp\";\r\n\u001b[?2004l\r"]
[346.691465, "o", "\u001b[?2004h"]
[346.691553, "o", "> "]
[346.691592, "o", "} NR>0 { \r\n\u001b[?2004l\r"]
[346.691633, "o", "\u001b[?2004h> "]
[346.691733, "o", "    gsub(/\r\n\u001b[?2004l\r"]
[346.69177, "o", "\u001b[?2004h"]
[346.691809, "o", "> "]
[346.6919, "o", "/, \"\", $1);\r\n\u001b[?2004l\r"]
[346.69194, "o", "\u001b[?2004h"]
[346.691982, "o", "> "]
[346.692133, "o", "    gsub(/\\/, \"/\", $1);\r\n\u001b[?2004l\r"]
[346.692172, "o", "\u001b[?2004h"]
[346.692213, "o", "> "]
[346.69232, "o", "    gsub(/\\n/, \"\r\n\u001b[?2004l\r"]
[346.692357, "o", "\u001b[?2004h"]
[346.692398, "o", "> "]
[346.692459, "o", "\\n\", $1);\r\n\u001b[?2004l\r"]
[346.692506, "o", "\u001b[?2004h"]
[346.69255, "o", "> "]
[346.693241, "o", "    printf \"%-15.15s | %-11.11s | %-10d | %-11.2f | %-8.8s\\r\\n\", $1, $2, $3, $4, $5 >> \"${TEXT_REPORT}.tmp\";\r\n\u001b[?2004l\r"]
[346.693295, "o", "\u001b[?2004h"]
[346.693341, "o", "> }'\r\n\u001b[?2004l\r"]
[346.693386, "o", "\u001b[?2004h"]
[346.693429, "o", "> \r\n\u001b[?2004l\r"]
[346.69347, "o", "\u001b[?2004h"]
[346.693529, "o", "> "]
[346.693834, "o", "# Convert to Windows-1252 encoding and overwrite\r\n\u001b[?2004l\r"]
[346.693872, "o", "\u001b[?2004h"]
[346.69391, "o", "> "]
[346.694357, "o", "iconv -f UTF-8 -t WINDOWS-1252 \"${TEXT_REPORT}.tmp\" > \"${TEXT_REPORT}\"\r\n\u001b[?2004l\r"]
[346.694399, "o", "\u001b[?2004h"]
[346.694436, "o", "> "]
[346.694636, "o", "rm \"${TEXT_REPORT}.tmp\"\r\n\u001b[?2004l\r"]
[346.694687, "o", "\u001b[?2004h> "]
[346.694744, "o", "\r\n\u001b[?2004l\r\u001b[?2004h"]
[346.694789, "o", "> "]
[346.695001, "o", "# Generate JSON integrity export\r\n\u001b[?2004l\r"]
[346.695046, "o", "\u001b[?2004h> "]
[346.695412, "o", "REPORT_MD5=$(md5sum \"${TEXT_REPORT}\" | cut -d' ' -f1)\r\n\u001b[?2004l\r"]
[346.695458, "o", "\u001b[?2004h> "]
[346.695765, "o", "TIMESTAMP=$(date -u +\"%Y-%m-%dT%H:%M:%SZ\")\r\n\u001b[?2004l\r"]
[346.695809, "o", "\u001b[?2004h> "]
[346.695853, "o", "\r\n\u001b[?2004l\r\u001b[?2004h"]
[346.695898, "o", "> "]
[346.696044, "o", "sqlite3 \"$DB_FILE\" \"\r\n\u001b[?2004l\r"]
[346.696103, "o", "\u001b[?2004h"]
[346.696148, "o", "> "]
[346.696192, "o", "SELECT \r\n\u001b[?2004l\r"]
[346.696257, "o", "\u001b[?2004h"]
[346.696301, "o", "> "]
[346.696409, "o", "    builds.id,\r\n\u001b[?2004l\r"]
[346.696447, "o", "\u001b[?2004h"]
[346.696482, "o", "> "]
[346.696643, "o", "    builds.commit_hash,\r\n\u001b[?2004l\r"]
[346.696682, "o", "\u001b[?2004h"]
[346.696711, "o", "> "]
[346.696911, "o", "    builds.efficiency_score \r\n\u001b[?2004l\r"]
[346.69695, "o", "\u001b[?2004h"]
[346.696978, "o", "> "]
[346.697195, "o", "FROM builds ORDER BY builds.id;\r\n\u001b[?2004l\r"]
[346.697254, "o", "\u001b[?2004h> "]
[346.69731, "o", "\" | \r\n\u001b[?2004l\r"]
[346.697357, "o", "\u001b[?2004h> "]
[346.697533, "o", "jq -R -s -f - <<JQEOF\r\n\u001b[?2004l\r"]
[346.697579, "o", "\u001b[?2004h> "]
[346.698515, "o", "[split(\"\") | .[1:]] | map(select(. != \"\")) | map(split(\"|\")) | map({id: (.[0] | tonumber), commit_hash: .[1], efficiency: .[2] | tonumber})\r\n\u001b[?2004l\r"]
[346.698563, "o", "\u001b[?2004h> "]
[346.69876, "o", "JQEOF > \"${JSON_REPORT}.tmp\"\r\n\u001b[?2004l\r"]
[346.698805, "o", "\u001b[?2004h> "]
[346.698849, "o", "\r\n\u001b[?2004l\r\u001b[?2004h"]
[346.698893, "o", "> "]
[346.698975, "o", "jqt -s '{\r\n\u001b[?2004l\r"]
[346.69902, "o", "\u001b[?2004h> "]
[346.699257, "o", "  \"generated_at\": \"$TIMESTAMP\",\r\n\u001b[?2004l\r"]
[346.699317, "o", "\u001b[?2004h> "]
[346.699671, "o", "  \"summary_report_md5\": \"$REPORT_MD5\",\r\n\u001b[?2004l\r"]
[346.69973, "o", "\u001b[?2004h> "]
[346.699867, "o", "  \"builds\": . \r\n\u001b[?2004l\r"]
[346.699912, "o", "\u001b[?2004h> "]
[346.700229, "o", "}' \"${JSON_REPORT}.tmp\" > \"${JSON_REPORT}\"\r\n\u001b[?2004l\r"]
[346.700274, "o", "\u001b[?2004h> "]
[346.700464, "o", "rm \"${JSON_REPORT}.tmp\"\r\n\u001b[?2004l\r"]
[346.700612, "o", "\u001b[?2004h> EOF\r\n\u001b[?2004l\r"]
[346.702833, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[346.789371, "i", "apt-get install -y jq iconv\n"]
[346.789687, "o", "apt-get install -y jq iconv\r\n\u001b[?2004l\r"]
[346.819177, "o", "\rReading package lists... 0%\r"]
[346.865469, "o", "\rReading package lists... 0%\r"]
[346.872144, "o", "\rReading package lists... 0%\r"]
[346.891848, "o", "\rReading package lists... 3%\r\rReading package lists... 3%\r"]
[346.910251, "o", "\rReading package lists... 4%\r\rReading package lists... 4%\r"]
[347.226977, "o", "\rReading package lists... 38%\r\rReading package lists... 38%\r"]
[347.236122, "o", "\rReading package lists... 39%\r"]
[347.236282, "o", "\rReading package lists... 39%\r"]
[347.317449, "o", "\rReading package lists... 49%\r\rReading package lists... 49%\r"]
[347.422312, "o", "\rReading package lists... 66%\r\rReading package lists... 66%\r"]
[347.458185, "o", "\rReading package lists... 70%\r\rReading package lists... 70%\r"]
[347.459994, "o", "\rReading package lists... 70%\r\rReading package lists... 70%\r"]
[347.461981, "o", "\rReading package lists... 70%\r\rReading package lists... 70%\r"]
[347.467463, "o", "\rReading package lists... 70%\r"]
[347.467638, "o", "\rReading package lists... 70%\r"]
[347.503315, "o", "\rReading package lists... 79%\r\rReading package lists... 79%\r"]
[347.550297, "o", "\rReading package lists... 96%\r\rReading package lists... 96%\r"]
[347.55992, "o", "\rReading package lists... 99%\r\rReading package lists... 99%\r"]
[347.560377, "o", "\rReading package lists... 99%\r\rReading package lists... 99%\r"]
[347.566232, "o", "\rReading package lists... Done\r\r\n"]
[347.579929, "o", "\rBuilding dependency tree... 0%\r\rBuilding dependency tree... 0%\r\rBuilding dependency tree... 0%\r"]
[347.608272, "o", "\rBuilding dependency tree... 50%\r\rBuilding dependency tree... 50%\r"]
[347.726918, "o", "\rBuilding dependency tree... Done\r\r\n\rReading state information... 0% \r\rReading state information... 3%\r"]
[347.72698, "o", "\rReading state information... Done\r\r\n"]
[347.735953, "o", "Package iconv is not available, but is referred to by another package.\r\nThis may mean that the package is missing, has been obsoleted, or\r\nis only available from another source\r\n\r\n"]
[347.740658, "o", "E: Package 'iconv' has no installation candidate\r\n"]
[347.742608, "o", "\u001b[?2004h"]
[347.742634, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[348.782835, "i", "chmod +x /tmp/generate_reports.sh\n"]
[348.783179, "o", "chmod +x /tmp/generate_reports.sh\r\n\u001b[?2004l\r"]
[348.784683, "o", "\u001b[?2004h"]
[348.784726, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[348.899447, "i", "/tmp/generate_reports.sh\n"]
[348.899775, "o", "/tmp/generate_reports.sh\r\n\u001b[?2004l\r"]
[348.904039, "o", "awk: line 6: runaway regular expression / ...\r\n"]
[348.906552, "o", "iconv: cannot open input file `/home/user/mobile_pipelines/report/build_summary.log.tmp': No such file or directory\r\n"]
[348.908314, "o", "rm: cannot remove '/home/user/mobile_pipelines/report/build_summary.log.tmp'"]
[348.908368, "o", ": No such file or directory\r\n"]
[348.913571, "o", "/tmp/generate_reports.sh: line 54: warning: here-document at line 45 delimited by end-of-file (wanted `JQEOF')\r\n"]
[348.914915, "o", "jq: Could not open -: No such file or directory\r\n"]
[348.916837, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[349.89605, "i", "ls -la /home/user/mobile_pipelines/report/\n"]
[349.896531, "o", "ls -la /home/user/mobile_pipelines/report/\r\n\u001b[?2004l\r"]
[349.898157, "o", "total 0\r\n"]
[349.898221, "o", "drwxr-xr-x 1 root root 31 Feb 13 19:07 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 root root 49 Feb 13 19:07 \u001b[01;34m..\u001b[0m\r\n-rw-r--r-- 1 root root  0 Feb 13 19:07 build_summary.log\r\n"]
[349.898527, "o", "\u001b[?2004h"]
[349.89858, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[379.665781, "i", "cat > /tmp/fixed_generate_reports.sh << 'EOF'\n#!/bin/bash\nREPORT_DIR=\"/home/user/mobile_pipelines/report\"\nTEXT_REPORT=\"$REPORT_DIR/build_summary.log\"\nJSON_REPORT=\"$REPORT_DIR/build_metrics.json\"\nDB_FILE=\"/home/user/mobile_pipelines/builds.db\"\n\n# Generate text summary report\nsqlite3 \"$DB_FILE\" \"\nSELECT \n    commit_hash,\n    status,\n    (SELECT COUNT(*) FROM artifacts WHERE artifacts.build_id = builds.id) AS artifact_count,\n    round(efficiency_score,2) AS efficiency_score,\n    verification_code \nFROM builds ORDER BY builds.id;\n\" > \"${TEXT_REPORT}.tmp\"\n\n# Convert to Windows CRLF and format\nsed -i 's/$/\\r/' \"${TEXT_REPORT}.tmp\"\ncat > \"${TEXT_REPORT}\" << REPORT_EOF\nBuild Summary Report\n\nCommit Hash    | Status     | Artifacts | Efficiency | Code\n--------------------------------------------------------------\nREPORT_EOF\nawk -F\"|\" 'NR>1 {printf \"%-15.15s | %-11.11s | %-10d | %-11.2f | %-8.8s\\r\\n\", $1, $2, $3, $4, $5}' \"${TEXT_REPORT}.tmp\" >> \"${TEXT_REPORT}\"\nrm \"${TEXT_REPORT}.tmp\"\n\n# Generate JSON integrity export\n"]
[379.665988, "i", "REPORT_MD5=$(md5sum \"${TEXT_REPORT}\" | cut -d' ' -f1)\nTIMESTAMP=$(date -u +\"%Y-%m-%dT%H:%M:%SZ\")\n\nsqlite3 \"$DB_FILE\" \"\nSELECT \n    builds.id,\n    builds.commit_hash,\n    round(efficiency_score,2) AS efficiency_score \nFROM builds ORDER BY builds.id;\n\" | \nawk -F\"|\" 'BEGIN { printf \"{\\\"generated_at\\\":\\\"%s\\\",\\\"summary_report_md5\\\":\\\"%s\\\",\\\"builds\\\": [\", \"TIMESTAMP\", \"REPORT_MD5\"} NR>1 {printf \"\\n  {\\\\\\\"id\\\\\\\":%s,\\\\\\\"commit_hash\\\\\\\":\\\\\\\"%s\\\\\\\",\\\\\\\"efficiency\\\\\\\":%.2f }\", $1, $2, $3} END {printf \"\\n]}\"}' > \"${JSON_REPORT}\"\nEOF\n"]
[379.666294, "o", "cat > /tmp/fixed_generate_reports.sh << 'EOF'\r\n\u001b[?2004l\r"]
[379.666417, "o", "\u001b[?2004h"]
[379.666514, "o", "> "]
[379.666609, "o", "#!/bin/bash\r\n\u001b[?2004l\r"]
[379.666674, "o", "\u001b[?2004h"]
[379.666734, "o", "> "]
[379.667099, "o", "REPORT_DIR=\"/home/user/mobile_pipelines/report\"\r\n\u001b[?2004l\r"]
[379.66715, "o", "\u001b[?2004h"]
[379.667198, "o", "> "]
[379.667562, "o", "TEXT_REPORT=\"$REPORT_DIR/build_summary.log\"\r\n\u001b[?2004l\r"]
[379.667623, "o", "\u001b[?2004h> "]
[379.668005, "o", "JSON_REPORT=\"$REPORT_DIR/build_metrics.json\"\r\n\u001b[?2004l\r"]
[379.668058, "o", "\u001b[?2004h> "]
[379.668453, "o", "DB_FILE=\"/home/user/mobile_pipelines/builds.db\"\r\n\u001b[?2004l\r"]
[379.668533, "o", "\u001b[?2004h> "]
[379.668595, "o", "\r\n\u001b[?2004l\r\u001b[?2004h"]
[379.668651, "o", "> "]
[379.668903, "o", "# Generate text summary report\r\n\u001b[?2004l\r"]
[379.668954, "o", "\u001b[?2004h> "]
[379.669159, "o", "sqlite3 \"$DB_FILE\" \"\r\n\u001b[?2004l\r"]
[379.669211, "o", "\u001b[?2004h"]
[379.669258, "o", "> "]
[379.669325, "o", "SELECT \r\n\u001b[?2004l\r"]
[379.669385, "o", "\u001b[?2004h"]
[379.669435, "o", "> "]
[379.669621, "o", "    commit_hash,\r\n\u001b[?2004l\r"]
[379.669677, "o", "\u001b[?2004h> "]
[379.669809, "o", "    status,\r\n\u001b[?2004l\r"]
[379.669852, "o", "\u001b[?2004h"]
[379.669897, "o", "> "]
[379.670581, "o", "    (SELECT COUNT(*) FROM artifacts WHERE artifacts.build_id = builds.id) AS artifact_count,\r\n\u001b[?2004l\r"]
[379.670644, "o", "\u001b[?2004h"]
[379.670705, "o", "> "]
[379.671008, "o", "    round(efficiency_score,2) AS efficiency_score,\r\n\u001b[?2004l\r"]
[379.671088, "o", "\u001b[?2004h> "]
[379.671257, "o", "    verification_code \r\n\u001b[?2004l\r"]
[379.67131, "o", "\u001b[?2004h> "]
[379.671584, "o", "FROM builds ORDER BY builds.id;\r\n\u001b[?2004l\r"]
[379.671635, "o", "\u001b[?2004h> "]
[379.671837, "o", "\" > \"${TEXT_REPORT}.tmp\"\r\n\u001b[?2004l\r"]
[379.67189, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r"]
[379.671952, "o", "\u001b[?2004h"]
[379.672022, "o", "> "]
[379.672259, "o", "# Convert to Windows CRLF and format\r\n\u001b[?2004l\r"]
[379.67231, "o", "\u001b[?2004h> "]
[379.672616, "o", "sed -i 's/$/\\r/' \"${TEXT_REPORT}.tmp\"\r\n\u001b[?2004l\r"]
[379.672668, "o", "\u001b[?2004h> "]
[379.672942, "o", "cat > \"${TEXT_REPORT}\" << REPORT_EOF\r\n\u001b[?2004l\r"]
[379.672984, "o", "\u001b[?2004h"]
[379.673027, "o", "> "]
[379.673183, "o", "Build Summary Report\r\n\u001b[?2004l\r"]
[379.673235, "o", "\u001b[?2004h> "]
[379.673278, "o", "\r\n\u001b[?2004l\r"]
[379.673321, "o", "\u001b[?2004h> "]
[379.673758, "o", "Commit Hash    | Status     | Artifacts | Efficiency | Code\r\n\u001b[?2004l\r"]
[379.673799, "o", "\u001b[?2004h"]
[379.673842, "o", "> "]
[379.674263, "o", "--------------------------------------------------------------\r\n\u001b[?2004l\r"]
[379.674307, "o", "\u001b[?2004h"]
[379.674354, "o", "> "]
[379.674431, "o", "REPORT_EOF\r\n\u001b[?2004l\r"]
[379.674572, "o", "\u001b[?2004h> "]
[379.675398, "o", "awk -F\"|\" 'NR>1 {printf \"%-15.15s | %-11.11s | %-10d | %-11.2f | %-8.8s\\r\\n\", $1, $2, $3, $4, $5}' \"${TEXT_REPORT}.tmp\" >> \"${TEXT_REPORT}\"\r\n\u001b[?2004l\r"]
[379.675457, "o", "\u001b[?2004h> "]
[379.675628, "o", "rm \"${TEXT_REPORT}.tmp\"\r\n\u001b[?2004l\r"]
[379.67567, "o", "\u001b[?2004h"]
[379.675711, "o", "> \r\n\u001b[?2004l\r"]
[379.675749, "o", "\u001b[?2004h> "]
[379.675958, "o", "# Generate JSON integrity export\r\n\u001b[?2004l\r"]
[379.676009, "o", "\u001b[?2004h"]
[379.676046, "o", "> "]
[379.676372, "o", "REPORT_MD5=$(md5sum \"${TEXT_REPORT}\" | cut -d' ' -f1)\r\n\u001b[?2004l\r"]
[379.676414, "o", "\u001b[?2004h> "]
[379.676713, "o", "TIMESTAMP=$(date -u +\"%Y-%m-%dT%H:%M:%SZ\")\r\n\u001b[?2004l\r"]
[379.67677, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r"]
[379.676812, "o", "\u001b[?2004h"]
[379.676852, "o", "> "]
[379.676975, "o", "sqlite3 \"$DB_FILE\" \"\r\n\u001b[?2004l\r"]
[379.677013, "o", "\u001b[?2004h"]
[379.677059, "o", "> "]
[379.677103, "o", "SELECT \r\n\u001b[?2004l\r"]
[379.677142, "o", "\u001b[?2004h> "]
[379.67724, "o", "    builds.id,\r\n\u001b[?2004l\r"]
[379.677281, "o", "\u001b[?2004h"]
[379.677321, "o", "> "]
[379.677452, "o", "    builds.commit_hash,\r\n\u001b[?2004l\r"]
[379.677502, "o", "\u001b[?2004h"]
[379.677545, "o", "> "]
[379.677843, "o", "    round(efficiency_score,2) AS efficiency_score \r\n\u001b[?2004l\r"]
[379.677884, "o", "\u001b[?2004h"]
[379.677923, "o", "> "]
[379.678107, "o", "FROM builds ORDER BY builds.id;\r\n\u001b[?2004l\r"]
[379.678145, "o", "\u001b[?2004h"]
[379.678186, "o", "> "]
[379.678226, "o", "\" | \r\n\u001b[?2004l\r\u001b[?2004h"]
[379.678265, "o", "> "]
[379.680107, "o", "awk -F\"|\" 'BEGIN { printf \"{\\\"generated_at\\\":\\\"%s\\\",\\\"summary_report_md5\\\":\\\"%s\\\",\\\"builds\\\": [\", \"TIMESTAMP\", \"REPORT_MD5\"} NR>1 {printf \"\\n  {\\\\\\\"id\\\\\\\":%s,\\\\\\\"commit_hash\\\\\\\":\\\\\\\"%s\\\\\\\",\\\\\\\"efficiency\\\\\\\":%.2f }\", $1, $2, $3} END {printf \"\\n]}\"}' > \"${JSON_REPORT}\"\r\n\u001b[?2004l\r"]
[379.680153, "o", "\u001b[?2004h"]
[379.680201, "o", "> EOF\r\n"]
[379.68024, "o", "\u001b[?2004l\r"]
[379.682385, "o", "\u001b[?2004h"]
[379.682435, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[379.812042, "i", "chmod +x /tmp/fixed_generate_reports.sh\n"]
[379.812435, "o", "chmod +x /tmp/fixed_generate_reports.sh\r\n\u001b[?2004l\r"]
[379.813882, "o", "\u001b[?2004h"]
[379.813933, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[379.903894, "i", "/tmp/fixed_generate_reports.sh\n"]
[379.904174, "o", "/tmp/fixed_generate_reports.sh\r\n\u001b[?2004l\r"]
[379.923643, "o", "\u001b[?2004hroot@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[380.9164, "i", "cat /home/user/mobile_pipelines/report/build_summary.log\n"]
[380.916627, "o", "cat /home/user/mobile_pipelines/report/build_summary.log\r\n\u001b[?2004l\r"]
[380.918128, "o", "Build Summary Report\r\n\r\nCommit Hash    | Status     | Artifacts | Efficiency | Code\r\n--------------------------------------------------------------\r\nb1c2d3e4f5a6    | FAILED      | 1          | 6000000.00  | 477f73da\r\r\n"]
[380.918365, "o", "\u001b[?2004h"]
[380.918397, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
[381.186907, "i", "cat /home/user/mobile_pipelines/report/build_metrics.json\n"]
[381.187103, "o", "cat /home/user/mobile_pipelines/report/build_metrics.json\r\n"]
[381.187166, "o", "\u001b[?2004l\r"]
[381.18811, "o", "{\"generated_at\":\"TIMESTAMP\",\"summary_report_md5\":\"REPORT_MD5\",\"builds\": [\r\n  {\\\"id\\\":2,\\\"commit_hash\\\":\\\"b1c2d3e4f5a6\\\",\\\"efficiency\\\":6000000.00 }\r\n]}"]
[381.188285, "o", "\u001b[?2004h"]
[381.188301, "o", "root@5484fab7-e488-4c17-888e-b2dd89e50778:/var/lib/ci_logs# "]
