New Terminal Output:

root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user# cd storage_audit
root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# mkdir -p logs
root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# touch logs/validation.log
root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# > logs/validation.log
root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# find raw_reports -maxdepth 1 -type f -iname "*.json" ! -name "*.json" -printf "%%f\0" | whil
e IFS= read -r -d '' file; do
>   if [[ "${file:0:1}" == "." ]]; then
>     continue
>   fi
>   if ! jq empty "raw_reports/$file" 2>/dev/null; then
>     if jq -s -S "raw_reports/$file" schema/disk_report.schema.json > /dev/null; then
>       echo "$file : OK" >> logs/validation.log
>     else
>       first_error=$(jq -s -S "raw_reports/$file" schema/disk_report.schema.json 2>&1 | head -n 1 | sed 's/:/ /g' | awk '{print $NF}' | sed -e 's/^[[:space:]]*
//' -e 's/[[:space:]]*$//')
>       echo "$file : ERROR : ${first_error//:/ }" >> logs/validation.log
>     fi
>   else
>     echo "$file : INVALID_JSON" >> logs/validation.log
>   fi
> done
jq: error: syntax error, unexpected '%' (Unix shell quoting issues?) at <top-level>, line 1:
raw_reports/%f
jq: 1 compile error
root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit#















