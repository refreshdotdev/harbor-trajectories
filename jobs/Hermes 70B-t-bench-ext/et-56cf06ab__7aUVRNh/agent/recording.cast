{"version": 2, "width": 160, "height": 40, "timestamp": 1771009580, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.007282, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user# "]
[0.990285, "i", "clear\r"]
[0.990439, "o", "clear\r\n\u001b[?2004l\r"]
[0.991945, "o", "\u001b[H\u001b[J"]
[0.992157, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user# "]
[28.827008, "i", "cd storage_audit\n"]
[28.82719, "o", "cd storage_audit\r\n\u001b[?2004l\r"]
[28.827346, "o", "\u001b[?2004h"]
[28.827366, "o", "root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[29.032713, "i", "mkdir -p logs\n"]
[29.032842, "o", "mkdir -p logs\r\n\u001b[?2004l\r"]
[29.035528, "o", "\u001b[?2004h"]
[29.035538, "o", "root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[29.178043, "i", "touch logs/validation.log\n"]
[29.178306, "o", "touch logs/validation.log\r\n\u001b[?2004l\r"]
[29.179594, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[29.331174, "i", "> logs/validation.log\n"]
[29.331349, "o", "> logs/validation.log\r\n\u001b[?2004l\r"]
[29.331475, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[29.460399, "i", "find raw_reports -maxdepth 1 -type f -iname \"*.json\" ! -name \"*.json\" -printf \"%%f\\0\" | while IFS= read -r -d '' file; do\n"]
[29.460798, "o", "find raw_reports -maxdepth 1 -type f -iname \"*.json\" ! -name \"*.json\" -printf \"%%f\\0\" | while IFS= read -r -d '' file; do\r\n\u001b[?2004l\r"]
[29.460825, "o", "\u001b[?2004h> "]
[29.669456, "i", "  if [[ \"${file:0:1}\" == \".\" ]]; then\n"]
[29.669868, "o", "  if [[ \"${file:0:1}\" == \".\" ]]; then\r\n\u001b[?2004l\r"]
[29.669964, "o", "\u001b[?2004h"]
[29.669999, "o", "> "]
[29.827727, "i", "    continue\n"]
[29.82782, "o", "    continue\r\n\u001b[?2004l\r"]
[29.827843, "o", "\u001b[?2004h> "]
[29.986504, "i", "  fi\n"]
[29.986628, "o", "  fi\r\n\u001b[?2004l\r"]
[29.986673, "o", "\u001b[?2004h"]
[29.986708, "o", "> "]
[30.115191, "i", "  if ! jq empty \"raw_reports/$file\" 2>/dev/null; then\n"]
[30.115637, "o", "  if ! jq empty \"raw_reports/$file\" 2>/dev/null; then\r\n\u001b[?2004l\r"]
[30.115716, "o", "\u001b[?2004h"]
[30.115782, "o", "> "]
[30.361767, "i", "    if jq -s -S \"raw_reports/$file\" schema/disk_report.schema.json > /dev/null; then\n"]
[30.36227, "o", "    if jq -s -S \"raw_reports/$file\" schema/disk_report.schema.json > /dev/null; then\r\n\u001b[?2004l\r"]
[30.362346, "o", "\u001b[?2004h"]
[30.362381, "o", "> "]
[30.521518, "i", "      echo \"$file : OK\" >> logs/validation.log\n"]
[30.521863, "o", "      echo \"$file : OK\" >> logs/validation.log\r\n\u001b[?2004l\r"]
[30.521925, "o", "\u001b[?2004h> "]
[30.657932, "i", "    else\n"]
[30.658074, "o", "    else\r\n\u001b[?2004l\r"]
[30.658128, "o", "\u001b[?2004h"]
[30.658202, "o", "> "]
[30.814226, "i", "      first_error=$(jq -s -S \"raw_reports/$file\" schema/disk_report.schema.json 2>&1 | head -n 1 | sed 's/:/ /g' | awk '{print $NF}' | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\n"]
[30.814727, "o", "      first_error=$(jq -s -S \"raw_reports/$file\" schema/disk_report.schema.json 2>&1 | head -n 1 | sed 's/:/ /g' | awk '{print $NF}' | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\r\n\u001b[?2004l\r"]
[30.814776, "o", "\u001b[?2004h> "]
[31.008801, "i", "      echo \"$file : ERROR : ${first_error//:/ }\" >> logs/validation.log\n"]
[31.009365, "o", "      echo \"$file : ERROR : ${first_error//:/ }\" >> logs/validation.log\r\n\u001b[?2004l\r"]
[31.009468, "o", "\u001b[?2004h"]
[31.009501, "o", "> "]
[31.227739, "i", "    fi\n"]
[31.227873, "o", "    fi\r\n\u001b[?2004l\r\u001b[?2004h> "]
[31.337458, "i", "  else\n"]
[31.337552, "o", "  else\r\n\u001b[?2004l\r\u001b[?2004h"]
[31.337579, "o", "> "]
[31.584921, "i", "    echo \"$file : INVALID_JSON\" >> logs/validation.log\n"]
[31.585117, "o", "    echo \"$file : INVALID_JSON\" >> logs/validation.log\r\n\u001b[?2004l\r"]
[31.585167, "o", "\u001b[?2004h"]
[31.585199, "o", "> "]
[31.693035, "i", "  fi\n"]
[31.69313, "o", "  fi\r\n"]
[31.693153, "o", "\u001b[?2004l\r"]
[31.693205, "o", "\u001b[?2004h"]
[31.693224, "o", "> "]
[31.813534, "i", "done\n"]
[31.813643, "o", "done\r\n\u001b[?2004l\r"]
[31.827451, "o", "jq: error: syntax error, unexpected '%' (Unix shell quoting issues?) at <top-level>, line 1:\r\nraw_reports/%f            \r\njq: 1 compile error\r\n"]
[31.830219, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[57.538078, "i", "find raw_reports -maxdepth 1 -type f -iname \"*.json\" ! -name \"*.json\" | while IFS= read -r file; do\n"]
[57.538769, "o", "find raw_reports -maxdepth 1 -type f -iname \"*.json\" ! -name \"*.json\" | while IFS= read -r file; do\r\n\u001b[?2004l\r"]
[57.538848, "o", "\u001b[?2004h"]
[57.538892, "o", "> "]
[57.670881, "i", "  if [[ \"${file:0:1}\" == \".\" ]]; then\n"]
[57.67118, "o", "  if [[ \"${file:0:1}\" == \".\" ]]; then\r\n\u001b[?2004l\r"]
[57.671269, "o", "\u001b[?2004h"]
[57.671304, "o", "> "]
[57.782004, "i", "    continue\n"]
[57.782127, "o", "    continue\r\n\u001b[?2004l\r"]
[57.782196, "o", "\u001b[?2004h> "]
[57.88419, "i", "  fi\n"]
[57.884336, "o", "  fi\r\n\u001b[?2004l\r\u001b[?2004h> "]
[57.999862, "i", "  if ! jq empty \"${file}\" 2>/dev/null; then\n"]
[58.000065, "o", "  if ! jq empty \"${file}\" 2>/dev/null; then\r\n\u001b[?2004l\r"]
[58.000123, "o", "\u001b[?2004h> "]
[58.098963, "i", "    if jq -S \"${file}\" schema/disk_report.schema.json > /dev/null; then\n"]
[58.099349, "o", "    if jq -S \"${file}\" schema/disk_report.schema.json > /dev/null; then\r\n\u001b[?2004l\r"]
[58.099415, "o", "\u001b[?2004h"]
[58.09947, "o", "> "]
[58.23163, "i", "      echo \"${file} : OK\" >> logs/validation.log\n"]
[58.231826, "o", "      echo \"${file} : OK\" >> logs/validation.log\r\n\u001b[?2004l\r"]
[58.231873, "o", "\u001b[?2004h"]
[58.231883, "o", "> "]
[58.352781, "i", "    else\n"]
[58.352913, "o", "    else\r\n\u001b[?2004l\r\u001b[?2004h> "]
[58.466604, "i", "      first_error=$(jq -S \"${file}\" schema/disk_report.schema.json 2>&1 | head -n 1 | awk -F: '{print $NF}' | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\n"]
[58.467416, "o", "      first_error=$(jq -S \"${file}\" schema/disk_report.schema.json 2>&1 | head -n 1 | awk -F: '{print $NF}' | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\r\n\u001b[?2004l\r"]
[58.467551, "o", "\u001b[?2004h> "]
[58.694037, "i", "      echo \"${file} : ERROR : ${first_error//:/ }\" >> logs/validation.log\n"]
[58.694325, "o", "      echo \"${file} : ERROR : ${first_error//:/ }\" >> logs/validation.log\r\n\u001b[?2004l\r"]
[58.694397, "o", "\u001b[?2004h> "]
[58.815467, "i", "    fi\n"]
[58.815591, "o", "    fi\r\n\u001b[?2004l\r"]
[58.815656, "o", "\u001b[?2004h"]
[58.81569, "o", "> "]
[58.914757, "i", "  else\n"]
[58.914917, "o", "  else\r\n\u001b[?2004l\r"]
[58.914952, "o", "\u001b[?2004h"]
[58.914979, "o", "> "]
[59.101029, "i", "    echo \"${file} : INVALID_JSON\" >> logs/validation.log\n"]
[59.101265, "o", "    echo \"${file} : INVALID_JSON\" >> logs/validation.log\r\n\u001b[?2004l\r\u001b[?2004h> "]
[59.256279, "i", "  fi\n"]
[59.256382, "o", "  fi\r\n\u001b[?2004l\r"]
[59.256437, "o", "\u001b[?2004h"]
[59.256464, "o", "> "]
[59.370993, "i", "done\n"]
[59.371163, "o", "done\r\n\u001b[?2004l\r"]
[59.391344, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[69.861151, "i", "cat logs/validation.log\n"]
[69.861359, "o", "cat logs/validation.log\r\n"]
[69.861408, "o", "\u001b[?2004l\r"]
[69.862355, "o", "%f : ERROR : 1\r\nraw_reports/daily_storage02.JSON : INVALID_JSON\r\n"]
[69.862588, "o", "\u001b[?2004h"]
[69.862635, "o", "root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[69.999444, "i", "chmod 644 logs/validation.log\n"]
[69.999682, "o", "chmod 644 logs/validation.log\r\n"]
[69.99972, "o", "\u001b[?2004l\r"]
[70.000844, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[129.117483, "i", "mkdir -p summary\n"]
[129.117647, "o", "mkdir -p summary\r\n"]
[129.117675, "o", "\u001b[?2004l\r"]
[129.119194, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[129.267006, "i", "grep ': OK$' logs/validation.log | cut -d: -f1 > valid_reports.txt\n"]
[129.267238, "o", "grep ': OK$' logs/validation.log | cut -d: -f1 > valid_reports.txt\r\n\u001b[?2004l\r"]
[129.268615, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[129.367038, "i", "totalGB=0; usedGB=0; freeGB=0; totalMonthlyCost=0; mounts=()\n"]
[129.367228, "o", "totalGB=0; usedGB=0; freeGB=0; totalMonthlyCost=0; mounts=()\r\n\u001b[?2004l\r"]
[129.367316, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[129.499306, "i", "while IFS= read -r report; do\n"]
[129.49943, "o", "while IFS= read -r report; do\r\n\u001b[?2004l\r"]
[129.499477, "o", "\u001b[?2004h"]
[129.499508, "o", "> "]
[129.675509, "i", "  host=$(jq -r '.host' \"${report}\")\n"]
[129.675761, "o", "  host=$(jq -r '.host' \"${report}\")\r\n\u001b[?2004l\r"]
[129.67583, "o", "\u001b[?2004h"]
[129.675862, "o", "> "]
[129.816356, "i", "  env=$(jq -r '.environment // \"Unknown\"' \"${report}\")\n"]
[129.816545, "o", "  env=$(jq -r '.environment // \"Unknown\"' \"${report}\")\r\n\u001b[?2004l\r"]
[129.816579, "o", "\u001b[?2004h"]
[129.816602, "o", "> "]
[129.991177, "i", "  jq -r '.mounts[] | {host: \"\\ \"$host\"\", environment: \"\\ \"$env\\\", mountPoint, totalGB, usedGB, freeGB: (.totalGB - .usedGB), usagePercent: (.usedGB / .totalGB * 100), monthlyCost: .} + {host: \"\\ \"$host\"\", environment: \"\\ \"$env\\\", mountPoint: ., totalGB: ., usedGB: ., freeGB: (.totalGB - .usedGB), usagePercent: (.usedGB / .totalGB * 100 | round), monthlyCost: .} + {host: \"\\ \"$host\"\", environment: \"\\ \"$env\\\", mountPoint: ., totalGB: ., usedGB: ., freeGB: (.totalGB - .usedGB), usagePercent: (.usedGB / .totalGB * 100 | round), monthlyCost: .}' \"${report}\" | jq -s -c '.[]' | while IFS= read -r mount; do\n"]
[129.995012, "o", "  jq -r '.mounts[] | {host: \"\\ \"$host\"\", environment: \"\\ \"$env\\\", mountPoint, totalGB, usedGB, freeGB: (.totalGB - .usedGB), usagePercent: (.usedGB / .totalGB * 100), monthlyCost: .} + {host: \"\\ \"$host\"\", environment: \"\\ \"$env\\\", mountPoint: ., totalGB: ., usedGB: ., freeGB: (.totalGB - .usedGB), usagePercent: (.usedGB / .totalGB * 100 | round), monthlyCost: .} + {host: \"\\ \"$host\"\", environment: \"\\ \"$env\\\", mountPoint: ., totalGB: ., usedGB: ., freeGB: (.totalGB - .usedGB), usagePercent: (.usedGB / .totalGB * 100 | round), monthlyCost: .}' \"${report}\" | jq -s -c '.[]' | while IFS= read -r mount; do\r\n"]
[129.995035, "o", "\u001b[?2004l\r"]
[129.995122, "o", "\u001b[?2004h"]
[129.995195, "o", "> "]
[130.116266, "i", "    m=$(echo \"$mount\" | jq -c '. + {host, environment, mountPoint, totalGB, usedGB, freeGB, usagePercent, monthlyCost}')\n"]
[130.116964, "o", "    m=$(echo \"$mount\" | jq -c '. + {host, environment, mountPoint, totalGB, usedGB, freeGB, usagePercent, monthlyCost}')\r\n\u001b[?2004l\r"]
[130.117023, "o", "\u001b[?2004h"]
[130.117065, "o", "> "]
[130.335326, "i", "    totalGB=$(echo \"$m\" | jq '.totalGB' | awk '{printf \"%.0f\", $1}')\n"]
[130.335551, "o", "    totalGB=$(echo \"$m\" | jq '.totalGB' | awk '{printf \"%.0f\", $1}')\r\n\u001b[?2004l\r"]
[130.335589, "o", "\u001b[?2004h"]
[130.335626, "o", "> "]
[130.510816, "i", "    usedGB=$(echo \"$m\" | jq '.usedGB' | awk '{printf \"%.0f\", $1}')\n"]
[130.511047, "o", "    usedGB=$(echo \"$m\" | jq '.usedGB' | awk '{printf \"%.0f\", $1}')\r\n\u001b[?2004l\r"]
[130.511095, "o", "\u001b[?2004h> "]
[130.719754, "i", "    freeGB=$(echo \"$m\" | jq '.freeGB' | awk '{printf \"%.0f\", $1}')\n"]
[130.719962, "o", "    freeGB=$(echo \"$m\" | jq '.freeGB' | awk '{printf \"%.0f\", $1}')\r\n\u001b[?2004l\r"]
[130.720011, "o", "\u001b[?2004h> "]
[130.952483, "i", "    host=$(echo \"$m\" | jq -r '.host')\n"]
[130.952727, "o", "    host=$(echo \"$m\" | jq -r '.host')\r\n"]
[130.952786, "o", "\u001b[?2004l\r"]
[130.952803, "o", "\u001b[?2004h"]
[130.952867, "o", "> "]
[131.126457, "i", "    env=$(echo \"$m\" | jq -r '.environment')\n"]
[131.126974, "o", "    env=$(echo \"$m\" | jq -r '.environment')\r\n\u001b[?2004l\r"]
[131.127038, "o", "\u001b[?2004h> "]
[131.230072, "i", "    mountPoint=$(echo \"$m\" | jq -r '.mountPoint')\n"]
[131.230458, "o", "    mountPoint=$(echo \"$m\" | jq -r '.mountPoint')\r\n\u001b[?2004l\r"]
[131.230552, "o", "\u001b[?2004h> "]
[131.391217, "i", "    cost_per_gb=$(grep -i \"^${host},\" inventory.csv | cut -d, -f3 || echo 0)\n"]
[131.391479, "o", "    cost_per_gb=$(grep -i \"^${host},\" inventory.csv | cut -d, -f3 || echo 0)\r\n\u001b[?2004l\r"]
[131.39155, "o", "\u001b[?2004h"]
[131.391599, "o", "> "]
[131.620374, "i", "    if [ -z \"$cost_per_gb\" ] || [ \"$cost_per_gb\" == \"null\" ]; then\n"]
[131.620981, "o", "    if [ -z \"$cost_per_gb\" ] || [ \"$cost_per_gb\" == \"null\" ]; then\r\n"]
[131.621031, "o", "\u001b[?2004l\r"]
[131.621064, "o", "\u001b[?2004h"]
[131.621099, "o", "> "]
[131.791058, "i", "      env=\"Unmanaged\"\n"]
[131.791269, "o", "      env=\"Unmanaged\"\r\n\u001b[?2004l\r"]
[131.791344, "o", "\u001b[?2004h"]
[131.791417, "o", "> "]
[131.944034, "i", "      cost_per_gb=0\n"]
[131.944218, "o", "      cost_per_gb=0\r\n"]
[131.944251, "o", "\u001b[?2004l\r"]
[131.944279, "o", "\u001b[?2004h"]
[131.944306, "o", "> "]
[132.054021, "i", "    fi\n"]
[132.054128, "o", "    fi\r\n\u001b[?2004l\r\u001b[?2004h> "]
[132.270297, "i", "    monthlyCost=$(awk 'BEGIN {printf \"%.2f\", ARGV[1] * ARGV[2]}' \"$usedGB\" \"$cost_per_gb\")\n"]
[132.270554, "o", "    monthlyCost=$(awk 'BEGIN {printf \"%.2f\", ARGV[1] * ARGV[2]}' \"$usedGB\" \"$cost_per_gb\")\r\n\u001b[?2004l\r"]
[132.270602, "o", "\u001b[?2004h> "]
[132.401953, "i", "    usagePercent=$(awk 'BEGIN {printf \"%.2f\", ARGV[1] / ARGV[2] * 100}' \"$usedGB\" \"$totalGB\")\n"]
[132.402668, "o", "    usagePercent=$(awk 'BEGIN {printf \"%.2f\", ARGV[1] / ARGV[2] * 100}' \"$usedGB\" \"$totalGB\")\r\n\u001b[?2004l\r"]
[132.402779, "o", "\u001b[?2004h"]
[132.402842, "o", "> "]
[132.605667, "i", "    freeGB=$(awk 'BEGIN {printf \"%.2f\", ARGV[1] - ARGV[2]}' \"$totalGB\" \"$usedGB\")\n"]
[132.606164, "o", "    freeGB=$(awk 'BEGIN {printf \"%.2f\", ARGV[1] - ARGV[2]}' \"$totalGB\" \"$usedGB\")\r\n\u001b[?2004l\r"]
[132.606257, "o", "\u001b[?2004h> "]
[132.737398, "i", "    mount_json=$(jq -n --arg h \"$host\" --arg e \"$env\" --arg m \"$mountPoint\" --arg t \"\\\"$(awk 'BEGIN {printf \"%.2f\",'$totalGB'}')\\\"\" --arg u \"\\\"$(awk 'BEGIN {printf \"%.2f\",'$usedGB'}')\\\"\" --arg f \"\\\"$(awk 'BEGIN {printf \"%.2f\",'$freeGB'}')\\\"\" --arg p \"\\\"$(awk 'BEGIN {printf \"%.2f\",'$usagePercent'}')\\\"\" --arg c \"\\\"$(awk 'BEGIN {printf \"%.2f\",'$monthlyCost'}')\\\"\" '{host: $h, environment: $e, mountPoint: $m, totalGB: $t|tonumber, usedGB: $u|tonumber, freeGB: $t|tonumber, usagePercent: $p|tonumber, monthlyCost: $c|tonumber}')\n"]
[132.740047, "o", "    mount_json=$(jq -n --arg h \"$host\" --arg e \"$env\" --arg m \"$mountPoint\" --arg t \"\\\"$(awk 'BEGIN {printf \"%.2f\",'$totalGB'}')\\\"\" --arg u \"\\\"$(awk 'BEGIN {printf \"%.2f\",'$usedGB'}')\\\"\" --arg f \"\\\"$(awk 'BEGIN {printf \"%.2f\",'$freeGB'}')\\\"\" --arg p \"\\\"$(awk 'BEGIN {printf \"%.2f\",'$usagePercent'}')\\\"\" --arg c \"\\\"$(awk 'BEGIN {printf \"%.2f\",'$monthlyCost'}')\\\"\" '{host: $h, environment: $e, mountPoint: $m, totalGB: $t|tonumber, usedGB: $u|tonumber, freeGB: $t|tonumber, usagePercent: $p|tonumber, monthlyCost: $c|tonumber}')\r\n\u001b[?2004l\r"]
[132.740191, "o", "\u001b[?2004h"]
[132.740222, "o", "> "]
[132.929288, "i", "    mounts+=\"${mount_json},\\n\"\n"]
[132.929498, "o", "    mounts+=\"${mount_json},\\n\"\r\n\u001b[?2004l\r"]
[132.92957, "o", "\u001b[?2004h"]
[132.929608, "o", "> "]
[133.142961, "i", "    totalGB=$(awk 'BEGIN {printf \"%.2f\", '$totalGB' + '$totalGB'}')\n"]
[133.143343, "o", "    totalGB=$(awk 'BEGIN {printf \"%.2f\", '$totalGB' + '$totalGB'}')\r\n"]
[133.143368, "o", "\u001b[?2004l\r"]
[133.143421, "o", "\u001b[?2004h"]
[133.143438, "o", "> "]
[133.271955, "i", "    usedGB=$(awk 'BEGIN {printf \"%.2f\", '$usedGB' + '$usedGB'}')\n"]
[133.272185, "o", "    usedGB=$(awk 'BEGIN {printf \"%.2f\", '$usedGB' + '$usedGB'}')\r\n\u001b[?2004l\r"]
[133.272241, "o", "\u001b[?2004h> "]
[133.475856, "i", "    totalMonthlyCost=$(awk 'BEGIN {printf \"%.2f\", '$totalMonthlyCost' + '$monthlyCost'}')\n"]
[133.476156, "o", "    totalMonthlyCost=$(awk 'BEGIN {printf \"%.2f\", '$totalMonthlyCost' + '$monthlyCost'}')\r\n\u001b[?2004l\r"]
[133.476204, "o", "\u001b[?2004h> "]
[133.651899, "i", "  done\n"]
[133.651991, "o", "  done\r\n\u001b[?2004l\r"]
[133.652013, "o", "\u001b[?2004h> "]
[133.81478, "i", "done < valid_reports.txt\n"]
[133.814983, "o", "done < valid_reports.txt\r\n\u001b[?2004l\r"]
[133.815153, "o", "\u001b[?2004h"]
[133.815196, "o", "root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[134.814367, "i", "freeGB=$(awk 'BEGIN {printf \"%.2f\", '$totalGB' - '$usedGB'}')\n"]
[134.8146, "o", "freeGB=$(awk 'BEGIN {printf \"%.2f\", '$totalGB' - '$usedGB'}')\r\n\u001b[?2004l\r"]
[134.815907, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[134.964275, "i", "usagePercent=$(awk 'BEGIN {printf \"%.2f\", '$usedGB' / '$totalGB' * 100}' 2>/dev/null || echo \"0.00\")\n"]
[134.96492, "o", "usagePercent=$(awk 'BEGIN {printf \"%.2f\", '$usedGB' / '$totalGB' * 100}' 2>/dev/null || echo \"0.00\")\r\n"]
[134.964932, "o", "\u001b[?2004l\r"]
[134.967268, "o", "\u001b[?2004h"]
[134.967284, "o", "root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[135.133345, "i", "jq -n --arg gen \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\" --argjson t \"${totalGB}\" --argjson u \"${usedGB}\" --argjson f \"${freeGB}\" --argjson p \"${usagePercent}\" --argjson tm \"${totalMonthlyCost}\" '{generatedAt: $gen, totals: {totalGB: $t, usedGB: $u, freeGB: $f, usagePercent: $p, totalMonthlyCost: $tm}, mounts: [ '$mounts' | .[:-2] ] | sort_by(-.usagePercent)}' > summary/disk_usage_summary.json\n"]
[135.134358, "o", "jq -n --arg gen \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\" --argjson t \"${totalGB}\" --argjson u \"${usedGB}\" --argjson f \"${freeGB}\" --argjson p \"${usagePercent}\" --argjson tm \"${totalMonthlyCost}\" '{generatedAt: $gen, totals: {totalGB: $t, usedGB: $u, freeGB: $f, usagePercent: $p, totalMonthlyCost: $tm}, mounts: [ '$mounts' | .[:-2] ] | sort_by(-.usagePercent)}' > summary/disk_usage_summary.json\r\n\u001b[?2004l\r"]
[135.137632, "o", "jq: error: syntax error, unexpected '|' (Unix shell quoting issues?) at <top-level>, line 1:\r\n{generatedAt: $gen, totals: {totalGB: $t, usedGB: $u, freeGB: $f, usagePercent: $p, totalMonthlyCost: $tm}, mounts: [  | .[:-2] ] | sort_by(-.usagePercent)}                                                                                                                       \r\njq: 1 compile error\r\n"]
[135.137903, "o", "\u001b[?2004h"]
[135.137951, "o", "root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[153.580004, "i", "[[ -z \"$mounts\" ]] && echo '{}' > summary/disk_usage_summary.json || jq -n --arg gen \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\" --argjson t \"${totalGB:-0}\" --argjson u \"${usedGB:-0}\" --argjson f \"${freeGB:-0}\" --argjson p \"${usagePercent:-0}\" --argjson tm \"${totalMonthlyCost:-0}\" '{generatedAt: $gen, totals: {totalGB: $t, usedGB: $u, freeGB: $f, usagePercent: $p, totalMonthlyCost: $tm}, mounts: [ '$mounts' | if (. == \"\") then [] else .[:-2] | sort_by(-.usagePercent) end ]}' > summary/disk_usage_summary.json\n"]
[153.581285, "o", "[[ -z \"$mounts\" ]] && echo '{}' > summary/disk_usage_summary.json || jq -n --arg gen \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\" --argjson t \"${totalGB:-0}\" --argjson u \"${usedGB:-0}\" --argjson f \"${freeGB:-0}\" --argjson p \"${usagePercent:-0}\" --argjson tm \"${totalMonthlyCost:-0}\" '{generatedAt: $gen, totals: {totalGB: $t, usedGB: $u, freeGB: $f, usagePercent: $p, totalMonthlyCost: $tm}, mounts: [ '$mounts' | if (. == \"\") then [] else .[:-2] | sort_by(-.usagePercent) end ]}' > summary/disk_usage_summary.json\r\n\u001b[?2004l\r"]
[153.581438, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[154.168122, "i", "sha256sum summary/disk_usage_summary.json > summary/checksum.sha256\n"]
[154.168343, "o", "sha256sum summary/disk_usage_summary.json > summary/checksum.sha256\r\n\u001b[?2004l\r"]
[154.170444, "o", "\u001b[?2004hroot@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[154.320221, "i", "chmod 644 summary/disk_usage_summary.json summary/checksum.sha256\n"]
[154.320467, "o", "chmod 644 summary/disk_usage_summary.json summary/checksum.sha256\r\n\u001b[?2004l\r"]
[154.321529, "o", "\u001b[?2004h"]
[154.321568, "o", "root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
[154.432154, "i", "realpath summary/disk_usage_summary.json\n"]
[154.432418, "o", "realpath summary/disk_usage_summary.json\r\n\u001b[?2004l\r"]
[154.433462, "o", "/home/user/storage_audit/summary/disk_usage_summary.json\r\n"]
[154.433653, "o", "\u001b[?2004h"]
[154.433692, "o", "root@bf14c2b4-fdc3-4736-90ba-a6336af70a23:/home/user/storage_audit# "]
