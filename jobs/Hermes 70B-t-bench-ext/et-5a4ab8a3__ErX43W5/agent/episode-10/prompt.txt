Previous response had warnings:
WARNINGS: - Extra text detected before JSON object
- Extra text detected after JSON object

New Terminal Output:

root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# cat >> system_report.json << 'EOF'
>     ],
>     "top_processes": [
> EOF
root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~
 /^\[/ {printf "      {\"pid\": %d, \"user\": \"%s\", \"command\": \"%s\", \"cpu_percent\": %.1f, \"mem_percent\": %.1f}\",\n", $1, $2, $4, $3, $5}' >> system_r
eport.json
root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# sed -i '$ s/,$//' system_report.json
root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# cat >> system_report.json << 'EOF'
>     ],
>     "open_ports": [
> EOF
root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(":\|\s\|\|\|", ":"); pr
int $4}' | awk -F: '{print $NF}' | sort -n | uniq | awk '{printf "      %d,\n", $1}' >> system_report.json
root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# sed -i '$ s/,$//' system_report.json
root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# cat >> system_report.json << 'EOF'
>     ],
>     "reachable_devices": [],
>     "unreachable_devices": []
>   }
> EOF
root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics#
