Previous response had warnings:
WARNINGS: - Extra text detected before JSON object
- Extra text detected after JSON object

New Terminal Output:

root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# cat system_report.json
{
  "timestamp": "$(date -u +'%Y-%m-%dT%H:%M:%SZ')",
  "hostname": "$(hostname)",
  "kernel": "$(uname -srv)",
  "uptime_seconds": $(awk '{print int($1)}' /proc/uptime),
  "load_average": {
    "1min": $(awk '{print $1}' /proc/loadavg),
    "5min": $(awk '{print $2}' /proc/loadavg),
    "15min": $(awk '{print $3}' /proc/loadavg)
  },
  "memory": {
    "total_MB": $(free -m | awk '/Mem:/ {print $2}'),
    "used_MB": $(free -m | awk '/Mem:/ {print $3}'),
    "free_MB": $(free -m | awk '/Mem:/ {print $4}')
  },
  "disk_usage": [
    $(df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent | tail -n +2 | awk 'NR>0 {printf "{\"mountpoint\": \"%s\", \"filesystem\": \
"%s\", \"size_GB\": %.1f, \"used_GB\": %.1f, \"free_GB\": %.1f, \"percent_used\": %d},\n", $1, $2, $3, $4, $5, $6}' | sed '$ s/,\n//')
  ],
  "top_processes": [
    $(ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~ /^\[/ {printf "{\"pid\": %d, \"user\": \"%s\", \"command\": \"%s\", \"cpu_
percent\": %.1f, \"mem_percent\": %.1f},\n", $1, $2, $4, $3, $5}' | sed '$ s/,\n//')
  ],
  "open_ports": [
    $(netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(":\|\s\|\|\|", ":"); print $4}' | awk -F: '{print $NF}' | sort -n | uniq | awk '{printf "%d,\n", $
1}' | sed '$ s/,\n$//')
  ],
  "reachable_devices": [],
  "unreachable_devices": []
}
root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# echo 'ip,status,latency_ms' > ping_summary.csv
root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# sha256sum system_report.json ping_summary.csv > integrity.sha256
root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics#
