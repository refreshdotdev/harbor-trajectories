{"version": 2, "width": 160, "height": 40, "timestamp": 1771008784, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.005899, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user# "]
[0.931018, "i", "clear\r"]
[0.931163, "o", "clear\r\n\u001b[?2004l\r"]
[0.932107, "o", "\u001b[H\u001b[J"]
[0.932279, "o", "\u001b[?2004h"]
[0.932306, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user# "]
[8.183934, "i", "cd /home/user/iot_deployment\n"]
[8.184231, "o", "cd /home/user/iot_deployment\r\n\u001b[?2004l\r"]
[8.184428, "o", "\u001b[?2004h"]
[8.184482, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[8.308559, "i", "cat devices.txt\n"]
[8.308714, "o", "cat devices.txt\r\n\u001b[?2004l\r"]
[8.309693, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[14.585382, "i", "ls -la devices.txt\n"]
[14.585521, "o", "ls -la devices.txt\r\n\u001b[?2004l\r"]
[14.587761, "o", "-rw-r--r-- 1 user user 0 Feb 13 00:05 devices.txt\r\n"]
[14.588155, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[14.72851, "i", "wc -l devices.txt\n"]
[14.728659, "o", "wc -l devices.txt\r\n\u001b[?2004l\r"]
[14.729586, "o", "0 devices.txt\r\n"]
[14.729758, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[14.981764, "i", "file devices.txt\n"]
[14.981903, "o", "file devices.txt\r\n\u001b[?2004l\r"]
[14.982327, "o", "bash: file: command not found\r\n"]
[14.98268, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[26.731639, "i", "mkdir -p diagnostics\n"]
[26.73189, "o", "mkdir -p diagnostics\r\n"]
[26.731957, "o", "\u001b[?2004l\r"]
[26.735058, "o", "\u001b[?2004h"]
[26.735196, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[26.803458, "i", "echo \"Gathering hostname, kernel, uptime, load average, memory, disk, process, and port data...\""]
[26.804022, "o", "echo \"Gathering hostname, kernel, uptime, load average, memory, disk, process, and port data...\""]
[26.909287, "i", "echo \"hostname: $(hostname)\""]
[26.909474, "o", "echo \"hostname: $(hostname)\""]
[27.050046, "i", "echo \"kernel: $(uname -srv)\""]
[27.050266, "o", "echo \"kernel: $(uname -srv)\""]
[27.136169, "i", "echo \"uptime_seconds: $(awk '{print $1}' /proc/uptime | cut -d. -f1)\""]
[27.136746, "o", "echo \"uptime_seconds: $(awk '{print $1}' /proc/uptime | cut -d. -f1)\""]
[27.235005, "i", "echo \"load_average: $(cat /proc/loadavg | awk '{print $1, $2, $3}')\""]
[27.235512, "o", "echo \"load_average: $(cat /proc/loadavg | awk '{print $1, $2, $3}')\""]
[27.341028, "i", "echo \"memory: $(free -m | awk '/Mem:/ {print $2, $3, $4}')\""]
[27.341499, "o", "echo \"memory: $(free -m | awk '/Mem:/ {print $2, $3, $4}')\""]
[36.182951, "i", "hostname\n"]
[36.183117, "o", "hostname\r\n\u001b[?2004l\r"]
[36.242896, "o", "Gathering hostname, kernel, uptime, load average, memory, disk, process, and port data...echo hostname: 6271375c-5db0-4f65-b72a-230685fb6c54echo kernel: Linux 6.8.0-85-generic #85-Ubuntu SMP PREEMPT_DYNAMIC Thu Sep 18 15:26:59 UTC 2025echo uptime_seconds: 45echo load_average: 14.11 18.58 18.07echo memory: 773339 64661 127809hostname\r\n"]
[36.242952, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[36.251736, "i", "uname -srv\n"]
[36.251821, "o", "uname -srv\r\n\u001b[?2004l\r"]
[36.252746, "o", "Linux 6.8.0-85-generic #85-Ubuntu SMP PREEMPT_DYNAMIC Thu Sep 18 15:26:59 UTC 2025\r\n"]
[36.252881, "o", "\u001b[?2004h"]
[36.252894, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[36.363754, "i", "awk '{print int($1)}' /proc/uptime\n"]
[36.363893, "o", "awk '{print int($1)}' /proc/uptime\r\n\u001b[?2004l\r"]
[36.366251, "o", "45\r\n"]
[36.366555, "o", "\u001b[?2004h"]
[36.366595, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[36.487453, "i", "awk '{print $1, $2, $3}' /proc/loadavg\n"]
[36.487605, "o", "awk '{print $1, $2, $3}' /proc/loadavg\r\n\u001b[?2004l\r"]
[36.48916, "o", "14.11 18.58 18.07\r\n"]
[36.489477, "o", "\u001b[?2004h"]
[36.489491, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[36.591943, "i", "free -m | awk '/Mem:/ {print $2, $3, $4}'\n"]
[36.592139, "o", "free -m | awk '/Mem:/ {print $2, $3, $4}'\r\n\u001b[?2004l\r"]
[36.62386, "o", "773339 64671 127793\r\n"]
[36.624263, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[36.694562, "i", "df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent | tail -n +2\n"]
[36.695298, "o", "df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent | tail -n +2\r\n\u001b[?2004l\r"]
[36.702478, "o", "/                      overlay       10G    1G   10G   1%\r\n/etc/hosts             xfs         7152G 1097G 6056G  16%\r\n/usr/local/bin/daytona ext4         879G   19G  816G   3%\r\n"]
[36.702867, "o", "\u001b[?2004h"]
[36.702912, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[46.600477, "i", "ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~ /^\\[/ {print $1, $2, $4, $3, $5}' | while read pid user pcpu pmem cmd; do echo \"pid=$pid user=$user pcpu=$pcpu pmem=$pmem cmd='$cmd'\"; done\n"]
[46.601108, "o", "ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~ /^\\[/ {print $1, $2, $4, $3, $5}' | while read pid user pcpu pmem cmd; do echo \"pid=$pid user=$user pcpu=$pcpu pmem=$pmem cmd='$cmd'\"; done\r\n\u001b[?2004l\r"]
[46.638404, "o", "pid=80 user=root pcpu=0.0 pmem=0.0 cmd='sleep'\r\npid=83 user=root pcpu=0.0 pmem=0.0 cmd='python3'\r\n"]
[46.638482, "o", "pid=96 user=root pcpu=0.0 pmem=0.0 cmd='bash'\r\npid=101 user=root pcpu=0.0 pmem=0.0 cmd='sleep'\r\npid=108 user=root pcpu=0.0 pmem=0.0 cmd='bash'\r\n"]
[46.638738, "o", "\u001b[?2004h"]
[46.63876, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[47.560257, "i", "ss -Hlunp | awk '{print $5}' | awk -F'[[:space:]:]+' '{print $1}' | sort -n | uniq\n"]
[47.560879, "o", "ss -Hlunp | awk '{print $5}' | awk -F'[[:space:]:]+' '{print $1}' | sort -n | uniq\r\n\u001b[?2004l\r"]
[47.562434, "o", "bash: ss: command not found\r\n"]
[47.564039, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[48.094582, "i", "grep -Po '^[^#\\s]' devices.txt\n"]
[48.094754, "o", "grep -Po '^[^#\\s]' devices.txt\r\n\u001b[?2004l\r"]
[48.096132, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[67.261151, "i", "netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(\":\\|\\s\\|\\|\\|\", \":\"); print $4}' | awk -F: '{print $NF}' | sort -n | uniq\n"]
[67.261879, "o", "netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(\":\\|\\s\\|\\|\\|\", \":\"); print $4}' | awk -F: '{print $NF}' | sort -n | uniq\r\n\u001b[?2004l\r"]
[67.279327, "o", "2280\r\n22220\r\n22222\r\n33333\r\n"]
[67.279648, "o", "\u001b[?2004h"]
[67.27969, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment# "]
[67.610969, "i", "cd diagnostics && cat > system_report.json << 'EOF'\n{\n  \"timestamp\": \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\",\n  \"hostname\": \"$(hostname)\",\n  \"kernel\": \"$(uname -srv)\",\n  \"uptime_seconds\": $(awk '{print int($1)}' /proc/uptime),\n  \"load_average\": {\n    \"1min\": $(awk '{print $1}' /proc/loadavg),\n    \"5min\": $(awk '{print $2}' /proc/loadavg),\n    \"15min\": $(awk '{print $3}' /proc/loadavg)\n  },\n  \"memory\": {\n    \"total_MB\": $(free -m | awk '/Mem:/ {print $2}'),\n    \"used_MB\": $(free -m | awk '/Mem:/ {print $3}'),\n    \"free_MB\": $(free -m | awk '/Mem:/ {print $4}')\n  },\n  \"disk_usage\": [\n    $(df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent | tail -n +2 | awk 'NR>0 {printf \"{\\\"mountpoint\\\": \\\"%s\\\", \\\"filesystem\\\": \\\"%s\\\", \\\"size_GB\\\": %.1f, \\\"used_GB\\\": %.1f, \\\"free_GB\\\": %.1f, \\\"percent_used\\\": %d},\\n\", $1, $2, $3, $4, $5, $6}' | sed '$ s/,\\n//')\n  ],\n  \"top_processes\": [\n    $(ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~ /^\\[/ {printf \"{\\\"pid\\\": %d, \\\"us"]
[67.611135, "i", "er\\\": \\\"%s\\\", \\\"command\\\": \\\"%s\\\", \\\"cpu_percent\\\": %.1f, \\\"mem_percent\\\": %.1f},\\n\", $1, $2, $4, $3, $5}' | sed '$ s/,\\n//')\n  ],\n  \"open_ports\": [\n    $(netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(\":\\|\\s\\|\\|\\|\", \":\"); print $4}' | awk -F: '{print $NF}' | sort -n | uniq | awk '{printf \"%d,\\n\", $1}' | sed '$ s/,\\n$//')\n  ],\n  \"reachable_devices\": [],\n  \"unreachable_devices\": []\n}\nEOF\n"]
[67.611448, "o", "cd diagnostics && cat > system_report.json << 'EOF'\r\n\u001b[?2004l\r"]
[67.611539, "o", "\u001b[?2004h> "]
[67.611603, "o", "{\r\n\u001b[?2004l\r\u001b[?2004h"]
[67.611653, "o", "> "]
[67.611963, "o", "  \"timestamp\": \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\",\r\n\u001b[?2004l\r"]
[67.612015, "o", "\u001b[?2004h> "]
[67.612209, "o", "  \"hostname\": \"$(hostname)\",\r\n\u001b[?2004l\r"]
[67.61226, "o", "\u001b[?2004h> "]
[67.612447, "o", "  \"kernel\": \"$(uname -srv)\",\r\n\u001b[?2004l\r"]
[67.612504, "o", "\u001b[?2004h> "]
[67.612872, "o", "  \"uptime_seconds\": $(awk '{print int($1)}' /proc/uptime),\r\n\u001b[?2004l\r"]
[67.612913, "o", "\u001b[?2004h> "]
[67.613053, "o", "  \"load_average\": {\r\n\u001b[?2004l\r"]
[67.613145, "o", "\u001b[?2004h> "]
[67.613415, "o", "    \"1min\": $(awk '{print $1}' /proc/loadavg),\r\n\u001b[?2004l\r"]
[67.613455, "o", "\u001b[?2004h"]
[67.613507, "o", "> "]
[67.613769, "o", "    \"5min\": $(awk '{print $2}' /proc/loadavg),\r\n\u001b[?2004l\r"]
[67.613812, "o", "\u001b[?2004h> "]
[67.614131, "o", "    \"15min\": $(awk '{print $3}' /proc/loadavg)\r\n\u001b[?2004l\r"]
[67.61419, "o", "\u001b[?2004h> "]
[67.614236, "o", "  },\r\n\u001b[?2004l\r"]
[67.614285, "o", "\u001b[?2004h> "]
[67.614375, "o", "  \"memory\": {\r\n\u001b[?2004l\r"]
[67.614415, "o", "\u001b[?2004h"]
[67.614468, "o", "> "]
[67.614769, "o", "    \"total_MB\": $(free -m | awk '/Mem:/ {print $2}'),\r\n\u001b[?2004l\r"]
[67.61481, "o", "\u001b[?2004h> "]
[67.615161, "o", "    \"used_MB\": $(free -m | awk '/Mem:/ {print $3}'),\r\n\u001b[?2004l\r"]
[67.615205, "o", "\u001b[?2004h> "]
[67.61554, "o", "    \"free_MB\": $(free -m | awk '/Mem:/ {print $4}')\r\n\u001b[?2004l\r"]
[67.615595, "o", "\u001b[?2004h> "]
[67.615653, "o", "  },\r\n\u001b[?2004l\r\u001b[?2004h"]
[67.615703, "o", "> "]
[67.615799, "o", "  \"disk_usage\": [\r\n\u001b[?2004l\r"]
[67.615846, "o", "\u001b[?2004h"]
[67.6159, "o", "> "]
[67.617698, "o", "    $(df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent | tail -n +2 | awk 'NR>0 {printf \"{\\\"mountpoint\\\": \\\"%s\\\", \\\"filesystem\\\": \\\"%s\\\", \\\"size_GB\\\": %.1f, \\\"used_GB\\\": %.1f, \\\"free_GB\\\": %.1f, \\\"percent_used\\\": %d},\\n\", $1, $2, $3, $4, $5, $6}' | sed '$ s/,\\n//')\r\n\u001b[?2004l\r"]
[67.617762, "o", "\u001b[?2004h"]
[67.617826, "o", ">   ],\r\n\u001b[?2004l\r"]
[67.617877, "o", "\u001b[?2004h> "]
[67.618018, "o", "  \"top_processes\": [\r\n\u001b[?2004l\r"]
[67.618055, "o", "\u001b[?2004h"]
[67.618121, "o", "> "]
[67.619647, "o", "    $(ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~ /^\\[/ {printf \"{\\\"pid\\\": %d, \\\"user\\\": \\\"%s\\\", \\\"command\\\": \\\"%s\\\", \\\"cpu_percent\\\": %.1f, \\\"mem_percent\\\": %.1f},\\n\", $1, $2, $4, $3, $5}' | sed '$ s/,\\n//')\r\n\u001b[?2004l\r"]
[67.619725, "o", "\u001b[?2004h> "]
[67.61978, "o", "  ],\r\n\u001b[?2004l\r\u001b[?2004h"]
[67.619833, "o", "> "]
[67.61993, "o", "  \"open_ports\": [\r\n\u001b[?2004l\r"]
[67.619975, "o", "\u001b[?2004h"]
[67.620029, "o", "> "]
[67.621161, "o", "    $(netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(\":\\|\\s\\|\\|\\|\", \":\"); print $4}' | awk -F: '{print $NF}' | sort -n | uniq | awk '{printf \"%d,\\n\", $1}' | sed '$ s/,\\n$//')\r\n\u001b[?2004l\r"]
[67.621223, "o", "\u001b[?2004h> "]
[67.621272, "o", "  ],\r\n\u001b[?2004l\r"]
[67.621319, "o", "\u001b[?2004h> "]
[67.621505, "o", "  \"reachable_devices\": [],\r\n\u001b[?2004l\r"]
[67.62155, "o", "\u001b[?2004h"]
[67.621597, "o", "> "]
[67.621763, "o", "  \"unreachable_devices\": []\r\n\u001b[?2004l\r"]
[67.621806, "o", "\u001b[?2004h"]
[67.621854, "o", "> }\r\n\u001b[?2004l\r"]
[67.621902, "o", "\u001b[?2004h> "]
[67.621951, "o", "EOF\r\n\u001b[?2004l\r"]
[67.62382, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[74.663359, "i", "cat system_report.json\n"]
[74.663522, "o", "cat system_report.json\r\n\u001b[?2004l\r"]
[74.664475, "o", "{\r\n  \"timestamp\": \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\",\r\n  \"hostname\": \"$(hostname)\",\r\n  \"kernel\": \"$(uname -srv)\",\r\n  \"uptime_seconds\": $(awk '{print int($1)}' /proc/uptime),\r\n  \"load_average\": {\r\n    \"1min\": $(awk '{print $1}' /proc/loadavg),\r\n    \"5min\": $(awk '{print $2}' /proc/loadavg),\r\n    \"15min\": $(awk '{print $3}' /proc/loadavg)\r\n  },\r\n  \"memory\": {\r\n    \"total_MB\": $(free -m | awk '/Mem:/ {print $2}'),\r\n    \"used_MB\": $(free -m | awk '/Mem:/ {print $3}'),\r\n    \"free_MB\": $(free -m | awk '/Mem:/ {print $4}')\r\n  },\r\n  \"disk_usage\": [\r\n    $(df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent | tail -n +2 | awk 'NR>0 {printf \"{\\\"mountpoint\\\": \\\"%s\\\", \\\"filesystem\\\": \\\"%s\\\", \\\"size_GB\\\": %.1f, \\\"used_GB\\\": %.1f, \\\"free_GB\\\": %.1f, \\\"percent_used\\\": %d},\\n\", $1, $2, $3, $4, $5, $6}' | sed '$ s/,\\n//')\r\n  ],\r\n  \"top_processes\": [\r\n    $(ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~ /^\\[/ {printf \"{\\\"pid\\\": %d, \\\"user\\\": \\\"%s\\\", \\\"command\\\": \\\"%s\\\""]
[74.664527, "o", ", \\\"cpu_percent\\\": %.1f, \\\"mem_percent\\\": %.1f},\\n\", $1, $2, $4, $3, $5}' | sed '$ s/,\\n//')\r\n  ],\r\n  \"open_ports\": [\r\n    $(netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(\":\\|\\s\\|\\|\\|\", \":\"); print $4}' | awk -F: '{print $NF}' | sort -n | uniq | awk '{printf \"%d,\\n\", $1}' | sed '$ s/,\\n$//')\r\n  ],\r\n  \"reachable_devices\": [],\r\n  \"unreachable_devices\": []\r\n}\r\n"]
[74.664681, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[75.103036, "i", "echo 'ip,status,latency_ms' > ping_summary.csv\n"]
[75.103248, "o", "echo 'ip,status,latency_ms' > ping_summary.csv\r\n"]
[75.103296, "o", "\u001b[?2004l\r"]
[75.103453, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[75.227298, "i", "sha256sum system_report.json ping_summary.csv > integrity.sha256\n"]
[75.227566, "o", "sha256sum system_report.json ping_summary.csv > integrity.sha256\r\n\u001b[?2004l\r"]
[75.229434, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[87.554327, "i", "rm system_report.json\n"]
[87.554466, "o", "rm system_report.json\r\n\u001b[?2004l\r"]
[87.55562, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[87.623293, "i", "jq -n --arg ts \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\" --arg hn \"$(hostname)\" --arg kr \"$(uname -srv)\" --arg ut \"$(awk '{print int($1)}' /proc/uptime)\" \\\n  --arg la1 \"$(awk '{print $1}' /proc/loadavg)\" --arg la2 \"$(awk '{print $2}' /proc/loadavg)\" --arg la3 \"$(awk '{print $3}' /proc/loadavg)\" \\\n  --arg memt \"$(free -m | awk '/Mem:/ {print $2}')\" --arg memu \"$(free -m | awk '/Mem:/ {print $3}')\" --arg memf \"$(free -m | awk '/Mem:/ {print $4}')\" \\\n  '{\n    timestamp: $ts,\n    hostname: $hn,\n    kernel: $kr,\n    uptime_seconds: ($ut | tonumber),\n    load_average: {1min: ($la1 | tonumber), 5min: ($la2 | tonumber), 15min: ($la3 | tonumber)},\n    memory: {total_MB: ($memt | tonumber), used_MB: ($memu | tonumber), free_MB: ($memf | tonumber)},\n    disk_usage: []  # Placeholder, will fix in next command\n  }' > system_report.json\n"]
[87.623745, "o", "jq -n --arg ts \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\" --arg hn \"$(hostname)\" --arg kr \"$(uname -srv)\" --arg ut \"$(awk '{print int($1)}' /proc/uptime)\" \\\r\n\u001b[?2004l\r"]
[87.623806, "o", "\u001b[?2004h> "]
[87.624175, "o", "  --arg la1 \"$(awk '{print $1}' /proc/loadavg)\" --arg la2 \"$(awk '{print $2}' /proc/loadavg)\" --arg la3 \"$(awk '{print $3}' /proc/loadavg)\" \\\r\n\u001b[?2004l\r"]
[87.624218, "o", "\u001b[?2004h> "]
[87.62459, "o", "  --arg memt \"$(free -m | awk '/Mem:/ {print $2}')\" --arg memu \"$(free -m | awk '/Mem:/ {print $3}')\" --arg memf \"$(free -m | awk '/Mem:/ {print $4}')\" \\\r\n\u001b[?2004l\r"]
[87.624622, "o", "\u001b[?2004h> "]
[87.624654, "o", "  '{\r\n\u001b[?2004l\r\u001b[?2004h> "]
[87.624712, "o", "    timestamp: $ts,\r\n\u001b[?2004l\r"]
[87.624741, "o", "\u001b[?2004h> "]
[87.624792, "o", "    hostname: $hn,\r\n\u001b[?2004l\r"]
[87.624819, "o", "\u001b[?2004h> "]
[87.624866, "o", "    kernel: $kr,\r\n\u001b[?2004l\r"]
[87.624894, "o", "\u001b[?2004h> "]
[87.624989, "o", "    uptime_seconds: ($ut | tonumber),\r\n\u001b[?2004l\r"]
[87.625016, "o", "\u001b[?2004h> "]
[87.625265, "o", "    load_average: {1min: ($la1 | tonumber), 5min: ($la2 | tonumber), 15min: ($la3 | tonumber)},\r\n\u001b[?2004l\r"]
[87.625293, "o", "\u001b[?2004h> "]
[87.625553, "o", "    memory: {total_MB: ($memt | tonumber), used_MB: ($memu | tonumber), free_MB: ($memf | tonumber)},\r\n\u001b[?2004l\r"]
[87.625585, "o", "\u001b[?2004h> "]
[87.625743, "o", "    disk_usage: []  # Placeholder, will fix in next command\r\n\u001b[?2004l\r"]
[87.62577, "o", "\u001b[?2004h> "]
[87.625839, "o", "  }' > system_report.json\r\n\u001b[?2004l\r"]
[87.715921, "o", "bash: jq: command not found\r\n"]
[87.716131, "o", "\u001b[?2004h"]
[87.716171, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[102.872524, "i", "cat > system_report.json << 'EOF'\n{\n  \"timestamp\": \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\",\n  \"hostname\": \"$(hostname)\",\n  \"kernel\": \"$(uname -srv)\",\n  \"uptime_seconds\": $(awk '{print int($1)}' /proc/uptime),\n  \"load_average\": {\n    \"1min\": $(awk '{print $1}' /proc/loadavg),\n    \"5min\": $(awk '{print $2}' /proc/loadavg),\n    \"15min\": $(awk '{print $3}' /proc/loadavg)\n  },\n  \"memory\": {\n    \"total_MB\": $(free -m | awk '/Mem:/ {print $2}'),\n    \"used_MB\": $(free -m | awk '/Mem:/ {print $3}'),\n    \"free_MB\": $(free -m | awk '/Mem:/ {print $4}')\n  },\n  \"disk_usage\": [\nEOF\n"]
[102.872709, "o", "cat > system_report.json << 'EOF'\r\n\u001b[?2004l\r"]
[102.872776, "o", "\u001b[?2004h> {\r\n\u001b[?2004l\r"]
[102.872815, "o", "\u001b[?2004h> "]
[102.872966, "o", "  \"timestamp\": \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\",\r\n\u001b[?2004l\r"]
[102.872998, "o", "\u001b[?2004h> "]
[102.873087, "o", "  \"hostname\": \"$(hostname)\",\r\n\u001b[?2004l\r"]
[102.873119, "o", "\u001b[?2004h> "]
[102.873216, "o", "  \"kernel\": \"$(uname -srv)\",\r\n\u001b[?2004l\r"]
[102.873247, "o", "\u001b[?2004h> "]
[102.873431, "o", "  \"uptime_seconds\": $(awk '{print int($1)}' /proc/uptime),\r\n\u001b[?2004l\r"]
[102.873463, "o", "\u001b[?2004h> "]
[102.873523, "o", "  \"load_average\": {\r\n\u001b[?2004l\r"]
[102.873553, "o", "\u001b[?2004h> "]
[102.873693, "o", "    \"1min\": $(awk '{print $1}' /proc/loadavg),\r\n\u001b[?2004l\r"]
[102.873724, "o", "\u001b[?2004h> "]
[102.873868, "o", "    \"5min\": $(awk '{print $2}' /proc/loadavg),\r\n\u001b[?2004l\r"]
[102.873897, "o", "\u001b[?2004h> "]
[102.874044, "o", "    \"15min\": $(awk '{print $3}' /proc/loadavg)\r\n\u001b[?2004l\r"]
[102.874076, "o", "\u001b[?2004h> "]
[102.874122, "o", "  },\r\n\u001b[?2004l\r\u001b[?2004h> "]
[102.874171, "o", "  \"memory\": {\r\n\u001b[?2004l\r"]
[102.874205, "o", "\u001b[?2004h> "]
[102.874371, "o", "    \"total_MB\": $(free -m | awk '/Mem:/ {print $2}'),\r\n\u001b[?2004l\r"]
[102.874408, "o", "\u001b[?2004h> "]
[102.874575, "o", "    \"used_MB\": $(free -m | awk '/Mem:/ {print $3}'),\r\n\u001b[?2004l\r"]
[102.874609, "o", "\u001b[?2004h> "]
[102.87477, "o", "    \"free_MB\": $(free -m | awk '/Mem:/ {print $4}')\r\n\u001b[?2004l\r"]
[102.874794, "o", "\u001b[?2004h> "]
[102.874829, "o", "  },\r\n\u001b[?2004l\r\u001b[?2004h"]
[102.874867, "o", "> "]
[102.874929, "o", "  \"disk_usage\": [\r\n\u001b[?2004l\r\u001b[?2004h> "]
[102.874973, "o", "EOF\r\n\u001b[?2004l\r"]
[102.876004, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[103.825921, "i", "df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent | tail -n +2 | awk 'NR>0 {printf \"    {\\\"mountpoint\\\": \\\"%s\\\", \\\"filesystem\\\": \\\"%s\\\", \\\"size_GB\\\": %.1f, \\\"used_GB\\\": %.1f, \\\"free_GB\\\": %.1f, \\\"percent_used\\\": %d}\\\",\\n\", $1, $2, $3, $4, $5, $6}' >> system_report.json\n"]
[103.826926, "o", "df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent | tail -n +2 | awk 'NR>0 {printf \"    {\\\"mountpoint\\\": \\\"%s\\\", \\\"filesystem\\\": \\\"%s\\\", \\\"size_GB\\\": %.1f, \\\"used_GB\\\": %.1f, \\\"free_GB\\\": %.1f, \\\"percent_used\\\": %d}\\\",\\n\", $1, $2, $3, $4, $5, $6}' >> system_report.json\r\n\u001b[?2004l\r"]
[103.829942, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[118.483593, "i", "cat >> system_report.json << 'EOF'\n    ],\n    \"top_processes\": [\nEOF\n"]
[118.483942, "o", "cat >> system_report.json << 'EOF'\r\n"]
[118.483972, "o", "\u001b[?2004l\r"]
[118.484021, "o", "\u001b[?2004h"]
[118.484048, "o", "> "]
[118.484148, "o", "    ],\r\n"]
[118.484169, "o", "\u001b[?2004l\r"]
[118.4842, "o", "\u001b[?2004h"]
[118.484224, "o", "> "]
[118.484416, "o", "    \"top_processes\": [\r\n"]
[118.484435, "o", "\u001b[?2004l\r"]
[118.484455, "o", "\u001b[?2004h"]
[118.484482, "o", "> "]
[118.484524, "o", "EOF\r\n"]
[118.484543, "o", "\u001b[?2004l\r"]
[118.486447, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[118.655537, "i", "ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~ /^\\[/ {printf \"      {\\\"pid\\\": %d, \\\"user\\\": \\\"%s\\\", \\\"command\\\": \\\"%s\\\", \\\"cpu_percent\\\": %.1f, \\\"mem_percent\\\": %.1f}\\\",\\n\", $1, $2, $4, $3, $5}' >> system_report.json\n"]
[118.656261, "o", "ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~ /^\\[/ {printf \"      {\\\"pid\\\": %d, \\\"user\\\": \\\"%s\\\", \\\"command\\\": \\\"%s\\\", \\\"cpu_percent\\\": %.1f, \\\"mem_percent\\\": %.1f}\\\",\\n\", $1, $2, $4, $3, $5}' >> system_report.json\r\n\u001b[?2004l\r"]
[118.692359, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[119.603443, "i", "sed -i '$ s/,$//' system_report.json\n"]
[119.603793, "o", "sed -i '$ s/,$//' system_report.json\r\n\u001b[?2004l\r"]
[119.605591, "o", "\u001b[?2004h"]
[119.605684, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[120.1083, "i", "cat >> system_report.json << 'EOF'\n    ],\n    \"open_ports\": [\nEOF\n"]
[120.108623, "o", "cat >> system_report.json << 'EOF'\r\n"]
[120.108658, "o", "\u001b[?2004l\r"]
[120.108695, "o", "\u001b[?2004h"]
[120.108734, "o", "> "]
[120.10883, "o", "    ],\r\n\u001b[?2004l\r"]
[120.108875, "o", "\u001b[?2004h> "]
[120.108999, "o", "    \"open_ports\": [\r\n"]
[120.109015, "o", "\u001b[?2004l\r"]
[120.109078, "o", "\u001b[?2004h> "]
[120.109107, "o", "EOF"]
[120.109135, "o", "\r\n\u001b[?2004l\r"]
[120.111035, "o", "\u001b[?2004h"]
[120.111081, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[120.216975, "i", "netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(\":\\|\\s\\|\\|\\|\", \":\"); print $4}' | awk -F: '{print $NF}' | sort -n | uniq | awk '{printf \"      %d,\\n\", $1}' >> system_report.json\n"]
[120.218315, "o", "netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(\":\\|\\s\\|\\|\\|\", \":\"); print $4}' | awk -F: '{print $NF}' | sort -n | uniq | awk '{printf \"      %d,\\n\", $1}' >> system_report.json\r\n\u001b[?2004l\r"]
[120.24117, "o", "\u001b[?2004h"]
[120.241231, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[120.716626, "i", "sed -i '$ s/,$//' system_report.json\n"]
[120.716906, "o", "sed -i '$ s/,$//' system_report.json\r\n\u001b[?2004l\r"]
[120.718513, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[121.254827, "i", "cat >> system_report.json << 'EOF'\n    ],\n    \"reachable_devices\": [],\n    \"unreachable_devices\": []\n  }\nEOF\n"]
[121.255062, "o", "cat >> system_report.json << 'EOF'\r\n\u001b[?2004l\r"]
[121.255159, "o", "\u001b[?2004h>     ],\r\n\u001b[?2004l\r\u001b[?2004h"]
[121.255218, "o", "> "]
[121.255289, "o", "    \"reachable_devices\": [],\r\n\u001b[?2004l\r\u001b[?2004h"]
[121.255339, "o", "> "]
[121.255422, "o", "    \"unreachable_devices\": []\r\n\u001b[?2004l\r\u001b[?2004h"]
[121.255478, "o", ">   }\r\n\u001b[?2004l\r\u001b[?2004h> "]
[121.255528, "o", "EOF\r\n\u001b[?2004l\r"]
[121.257803, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[127.679795, "i", "cat system_report.json\n"]
[127.679953, "o", "cat system_report.json\r\n\u001b[?2004l\r"]
[127.680988, "o", "{\r\n  \"timestamp\": \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\",\r\n  \"hostname\": \"$(hostname)\",\r\n  \"kernel\": \"$(uname -srv)\",\r\n  \"uptime_seconds\": $(awk '{print int($1)}' /proc/uptime),\r\n  \"load_average\": {\r\n    \"1min\": $(awk '{print $1}' /proc/loadavg),\r\n    \"5min\": $(awk '{print $2}' /proc/loadavg),\r\n    \"15min\": $(awk '{print $3}' /proc/loadavg)\r\n  },\r\n  \"memory\": {\r\n    \"total_MB\": $(free -m | awk '/Mem:/ {print $2}'),\r\n    \"used_MB\": $(free -m | awk '/Mem:/ {print $3}'),\r\n    \"free_MB\": $(free -m | awk '/Mem:/ {print $4}')\r\n  },\r\n  \"disk_usage\": [\r\n    {\"mountpoint\": \"/\", \"filesystem\": \"overlay\", \"size_GB\": 10.0, \"used_GB\": 1.0, \"free_GB\": 10.0, \"percent_used\": 1}\",\r\n    {\"mountpoint\": \"/etc/hosts\", \"filesystem\": \"xfs\", \"size_GB\": 7152.0, \"used_GB\": 1097.0, \"free_GB\": 6056.0, \"percent_used\": 16}\",\r\n    {\"mountpoint\": \"/usr/local/bin/daytona\", \"filesystem\": \"ext4\", \"size_GB\": 879.0, \"used_GB\": 19.0, \"free_GB\": 816.0, \"percent_used\": 3}\",\r\n    ],\r\n    \"top_processes\": [\r\n      {\"pid\": 80, \"user\": \"root\", \"command\": \"0"]
[127.681033, "o", ".0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\",\r\n      {\"pid\": 83, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\",\r\n      {\"pid\": 96, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\",\r\n      {\"pid\": 101, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\",\r\n      {\"pid\": 108, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\"\r\n    ],\r\n    \"open_ports\": [\r\n      2280,\r\n      22220,\r\n      22222,\r\n      33333\r\n    ],\r\n    \"reachable_devices\": [],\r\n    \"unreachable_devices\": []\r\n  }\r\n"]
[127.68125, "o", "\u001b[?2004h"]
[127.681284, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[128.125554, "i", "rm -f integrity.sha256 && sha256sum system_report.json ping_summary.csv > integrity.sha256\n"]
[128.126305, "o", "rm -f integrity.sha256 && sha256sum system_report.json ping_summary.csv > integrity.sha256\r\n\u001b[?2004l\r"]
[128.12914, "o", "\u001b[?2004h"]
[128.129202, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[128.623563, "i", "chmod 0755 .. && chmod 0444 system_report.json ping_summary.csv integrity.sha256\n"]
[128.623983, "o", "chmod 0755 .. && chmod 0444 system_report.json ping_summary.csv integrity.sha256\r\n\u001b[?2004l\r"]
[128.626604, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[128.752107, "i", "ls -la\n"]
[128.752238, "o", "ls -la\r\n\u001b[?2004l\r"]
[128.75349, "o", "total 12\r\n"]
[128.753541, "o", "drwxr-xr-x 2 root root   96 Feb 13 18:55 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 user user   33 Feb 13 18:53 \u001b[01;34m..\u001b[0m\r\n-r--r--r-- 1 root root  168 Feb 13 18:55 integrity.sha256\r\n-r--r--r-- 1 root root   21 Feb 13 18:54 ping_summary.csv\r\n-r--r--r-- 1 root root 1574 Feb 13 18:55 system_report.json\r\n"]
[128.753895, "o", "\u001b[?2004h"]
[128.75394, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[187.70641, "i", "printf '  \"disk_usage\": [\\n' >> system_report.json\n"]
[187.70688, "o", "printf '  \"disk_usage\": [\\n' >> system_report.json\r\n\u001b[?2004l\r"]
[187.707139, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[187.865072, "i", "df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent | tail -n +2 | awk '{printf \"    {\\\"mountpoint\\\": \\\"%s\\\", \\\"filesystem\\\": \\\"%s\\\", \\\"size_GB\\\": %.1f, \\\"used_GB\\\": %.1f, \\\"free_GB\\\": %.1f, \\\"percent_used\\\": %d},\\n\", $1, $2, $3, $4, $5, $6}' >> system_report.json\n"]
[187.865878, "o", "df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent | tail -n +2 | awk '{printf \"    {\\\"mountpoint\\\": \\\"%s\\\", \\\"filesystem\\\": \\\"%s\\\", \\\"size_GB\\\": %.1f, \\\"used_GB\\\": %.1f, \\\"free_GB\\\": %.1f, \\\"percent_used\\\": %d},\\n\", $1, $2, $3, $4, $5, $6}' >> system_report.json\r\n\u001b[?2004l\r"]
[187.869101, "o", "\u001b[?2004h"]
[187.869148, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[188.387216, "i", "sed -i '$ s/,$//' system_report.json\n"]
[188.387485, "o", "sed -i '$ s/,$//' system_report.json\r\n\u001b[?2004l\r"]
[188.389028, "o", "\u001b[?2004h"]
[188.389043, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[188.508868, "i", "printf '  ],\\n' >> system_report.json\n"]
[188.509149, "o", "printf '  ],\\n' >> system_report.json\r\n"]
[188.509164, "o", "\u001b[?2004l\r"]
[188.509319, "o", "\u001b[?2004h"]
[188.509348, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[188.617178, "i", "printf '  \"top_processes\": [\\n' >> system_report.json\n"]
[188.617451, "o", "printf '  \"top_processes\": [\\n' >> system_report.json\r\n\u001b[?2004l\r"]
[188.617553, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[188.823035, "i", "ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~ /^\\[/ {printf \"    {\\\"pid\\\": %d, \\\"user\\\": \\\"%s\\\", \\\"command\\\": \\\"%s\\\", \\\"cpu_percent\\\": %.1f, \\\"mem_percent\\\": %.1f},\\n\", $1, $2, $4, $3, $5}' >> system_report.json\n"]
[188.824795, "o", "ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6 | awk 'NR>1 && $5 !~ /^\\[/ {printf \"    {\\\"pid\\\": %d, \\\"user\\\": \\\"%s\\\", \\\"command\\\": \\\"%s\\\", \\\"cpu_percent\\\": %.1f, \\\"mem_percent\\\": %.1f},\\n\", $1, $2, $4, $3, $5}' >> system_report.json\r\n\u001b[?2004l\r"]
[188.866476, "o", "\u001b[?2004h"]
[188.866504, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[189.271483, "i", "sed -i '$ s/,$//' system_report.json\n"]
[189.271843, "o", "sed -i '$ s/,$//' system_report.json\r\n"]
[189.271907, "o", "\u001b[?2004l\r"]
[189.274541, "o", "\u001b[?2004h"]
[189.274596, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[189.367567, "i", "printf '  ],\\n' >> system_report.json\n"]
[189.367863, "o", "printf '  ],\\n' >> system_report.json\r\n"]
[189.367881, "o", "\u001b[?2004l\r"]
[189.368072, "o", "\u001b[?2004h"]
[189.368145, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[189.558162, "i", "printf '  \"open_ports\": [\\n' >> system_report.json\n"]
[189.558372, "o", "printf '  \"open_ports\": [\\n' >> system_report.json\r\n\u001b[?2004l\r"]
[189.558493, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[189.664311, "i", "netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(\":\\|\\s\\|\\|\\|\", \":\"); print $4}' | awk -F: '{print $NF}' | sort -n | uniq | awk '{printf \"    %d,\\n\", $1}' >> system_report.json\n"]
[189.665596, "o", "netstat -tuln 2>/dev/null | awk '/^tcp/ || /^udp/ {gsub(\":\\|\\s\\|\\|\\|\", \":\"); print $4}' | awk -F: '{print $NF}' | sort -n | uniq | awk '{printf \"    %d,\\n\", $1}' >> system_report.json\r\n\u001b[?2004l\r"]
[189.686871, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[190.222017, "i", "sed -i '$ s/,$//' system_report.json\n"]
[190.222212, "o", "sed -i '$ s/,$//' system_report.json\r\n\u001b[?2004l\r"]
[190.223793, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[190.324903, "i", "printf '  ],\\n' >> system_report.json\n"]
[190.325119, "o", "printf '  ],\\n' >> system_report.json\r\n\u001b[?2004l\r"]
[190.32528, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[190.452899, "i", "printf '  \"reachable_devices\": [],\\n' >> system_report.json\n"]
[190.453201, "o", "printf '  \"reachable_devices\": [],\\n' >> system_report.json\r\n\u001b[?2004l\r"]
[190.453333, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[190.538752, "i", "printf '  \"unreachable_devices\": []\\n' >> system_report.json\n"]
[190.539014, "o", "printf '  \"unreachable_devices\": []\\n' >> system_report.json\r\n\u001b[?2004l\r"]
[190.539133, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[190.698153, "i", "printf '}\\n' >> system_report.json\n"]
[190.698408, "o", "printf '}\\n' >> system_report.json\r\n\u001b[?2004l\r"]
[190.698573, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[196.616607, "i", "cat system_report.json\n"]
[196.616845, "o", "cat system_report.json\r\n"]
[196.616876, "o", "\u001b[?2004l\r"]
[196.618525, "o", "{\r\n  \"timestamp\": \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\",\r\n  \"hostname\": \"$(hostname)\",\r\n  \"kernel\": \"$(uname -srv)\",\r\n  \"uptime_seconds\": $(awk '{print int($1)}' /proc/uptime),\r\n  \"load_average\": {\r\n    \"1min\": $(awk '{print $1}' /proc/loadavg),\r\n    \"5min\": $(awk '{print $2}' /proc/loadavg),\r\n    \"15min\": $(awk '{print $3}' /proc/loadavg)\r\n  },\r\n  \"memory\": {\r\n    \"total_MB\": $(free -m | awk '/Mem:/ {print $2}'),\r\n    \"used_MB\": $(free -m | awk '/Mem:/ {print $3}'),\r\n    \"free_MB\": $(free -m | awk '/Mem:/ {print $4}')\r\n  },\r\n"]
[196.618566, "o", "  \"disk_usage\": [\r\n    {\"mountpoint\": \"/\", \"filesystem\": \"overlay\", \"size_GB\": 10.0, \"used_GB\": 1.0, \"free_GB\": 10.0, \"percent_used\": 1}\",\r\n    {\"mountpoint\": \"/etc/hosts\", \"filesystem\": \"xfs\", \"size_GB\": 7152.0, \"used_GB\": 1097.0, \"free_GB\": 6056.0, \"percent_used\": 16}\",\r\n    {\"mountpoint\": \"/usr/local/bin/daytona\", \"filesystem\": \"ext4\", \"size_GB\": 879.0, \"used_GB\": 19.0, \"free_GB\": 816.0, \"percent_used\": 3}\",\r\n    ],\r\n    \"top_processes\": [\r\n      {\"pid\": 80, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\",\r\n      {\"pid\": 83, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\",\r\n      {\"pid\": 96, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\",\r\n      {\"pid\": 101, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\",\r\n      {\"pid\": 108, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\"\r\n    ],\r\n    \"open_ports\": [\r\n      2280,\r\n      22220,\r\n      22222,\r\n      33333\r\n    ],\r\n    \"reac"]
[196.618596, "o", "hable_devices\": [],\r\n    \"unreachable_devices\": []\r\n  }\r\n  \"disk_usage\": [\r\n    {\"mountpoint\": \"/\", \"filesystem\": \"overlay\", \"size_GB\": 10.0, \"used_GB\": 1.0, \"free_GB\": 10.0, \"percent_used\": 1},\r\n    {\"mountpoint\": \"/etc/hosts\", \"filesystem\": \"xfs\", \"size_GB\": 7152.0, \"used_GB\": 1100.0, \"free_GB\": 6053.0, \"percent_used\": 16},\r\n    {\"mountpoint\": \"/usr/local/bin/daytona\", \"filesystem\": \"ext4\", \"size_GB\": 879.0, \"used_GB\": 19.0, \"free_GB\": 816.0, \"percent_used\": 3}\r\n  ],\r\n  \"top_processes\": [\r\n    {\"pid\": 80, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0},\r\n    {\"pid\": 83, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0},\r\n    {\"pid\": 96, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0},\r\n    {\"pid\": 101, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0},\r\n    {\"pid\": 108, \"user\": \"root\", \"command\": \"0.0\", \"cpu_percent\": 0.0, \"mem_percent\": 0.0}\r\n  ],\r\n  \"open_ports\": [\r\n    2280,\r\n"]
[196.618618, "o", "    22220,\r\n    22222,\r\n    33333\r\n  ],\r\n  \"reachable_devices\": [],\r\n  \"unreachable_devices\": []\r\n}\r\n"]
[196.618918, "o", "\u001b[?2004h"]
[196.618944, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[197.072985, "i", "rm -f integrity.sha256 && sha256sum system_report.json ping_summary.csv > integrity.sha256\n"]
[197.073339, "o", "rm -f integrity.sha256 && sha256sum system_report.json ping_summary.csv > integrity.sha256\r\n\u001b[?2004l\r"]
[197.076251, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[197.584452, "i", "chmod 0755 .. && chmod 0444 system_report.json ping_summary.csv integrity.sha256\n"]
[197.584757, "o", "chmod 0755 .. && chmod 0444 system_report.json ping_summary.csv integrity.sha256\r\n\u001b[?2004l\r"]
[197.588073, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[197.751786, "i", "ls -la\n"]
[197.75189, "o", "ls -la\r\n\u001b[?2004l\r"]
[197.753163, "o", "total 12\r\ndrwxr-xr-x 2 root root   96 Feb 13 18:56 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 user user   33 Feb 13 18:53 \u001b[01;34m..\u001b[0m\r\n-r--r--r-- 1 root root  168 Feb 13 18:56 integrity.sha256\r\n-r--r--r-- 1 root root   21 Feb 13 18:54 ping_summary.csv\r\n-r--r--r-- 1 root root 2591 Feb 13 18:56 system_report.json\r\n"]
[197.753387, "o", "\u001b[?2004h"]
[197.753416, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[252.990357, "i", "python3 - << 'EOF'\nimport json\nimport subprocess\nimport datetime\nimport re\n\n# Helper to run shell commands\ndef run_cmd(cmd):\n    return subprocess.check_output(cmd, shell=True, text=True).strip()\n\n# Get system info\nhostname = run_cmd(\"hostname\")\nkernel = run_cmd(\"uname -srv\")\nuptime_seconds = int(run_cmd(\"awk '{print int($1)}' /proc/uptime\"))\n\nload_avg = re.split(r'\\s+', run_cmd(\"cat /proc/loadavg\"))[:3]\nload_avg = {\"1min\": float(load_avg[0]), \"5min\": float(load_avg[1]), \"15min\": float(load_avg[2])}\n\nmem = re.split(r'\\s+', run_cmd(\"free -m\"))\nmem_info = next((line for line in mem.split('\\\\n') if \"Mem\" in line), None)\nif mem_info:\n    mem = mem_info.split()[1:4]\n    memory = {\"total_MB\": int(mem[0]), \"used_MB\": int(mem[1]), \"free_MB\": int(mem[2])}\nelse:\n    memory = {\"total_MB\": 0, \"used_MB\": 0, \"free_MB\": 0}\n\n# Disk usage\ndisk_usage = []\ndf_out = run_cmd(\"df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent\")\nfor line in df_out.split('\\\\n')[2:]:\n    if line.strip():\n        parts = li"]
[252.990494, "i", "ne.split()\n        disk_usage.append({\n            \"mountpoint\": parts[0], \"filesystem\": parts[1],\n            \"size_GB\": float(parts[2]), \"used_GB\": float(parts[3]),\n            \"free_GB\": float(parts[4]), \"percent_used\": int(parts[5].rstrip(\"%\"))\n        })\n\n# Top processes\ntop_processes = []\nps_out = run_cmd(\"ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6\")\nfor line in ps_out.split('\\\\n')[1:]:\n    if line.strip() and \"]\" not in line:\n        parts = re.split(r'\\s+', line.strip())\n        try:\n            pid, user = parts[0], parts[1]\n            cmd = parts[-1]\n            pcpu, pmem = parts[2], parts[3]\n            top_processes.append({\n                \"pid\": int(pid), \"user\": user, \"command\": cmd,\n                \"cpu_percent\": float(pcpu), \"mem_percent\": float(pmem)\n            })\n        except:\n            continue\n\n# Open ports\nopen_ports = []\nnetstat_out = run_cmd(\"netstat -tuln 2>/dev/null\")\nfor line in netstat_out.split('\\\\n')[2:]:\n    if \"tcp\" in line or \"udp\" in line:\n        port "]
[252.990507, "o", "python3 - << 'EOF'\r\n\u001b[?2004l\r"]
[252.990562, "i", "= line.split()[3].split(\".\")[-1]\n        if port.isdigit() and int(port) not in open_ports:\n            open_ports.append(int(port))\n\n# Build final JSON\nreport = {\n    \"timestamp\": datetime.datetime.utcnow().strftime(\"%Y-%m-%dT%H:%M:%SZ\"),\n    \"hostname\": hostname,\n    \"kernel\": kernel,\n    \"uptime_seconds\": uptime_seconds,\n    \"load_average\": load_avg,\n    \"memory\": memory,\n    \"disk_usage\": disk_usage,\n    \"top_processes\": top_processes,\n    \"open_ports\": sorted(open_ports),\n    \"reachable_devices\": [],\n    \"unreachable_devices\": []\n}\n\n# Save to file\nwith open(\"system_report.json\", \"w\") as f:\n    json.dump(report, f, indent=2)\nEOF\n"]
[252.990596, "o", "\u001b[?2004h> import json\r\n\u001b[?2004l\r"]
[252.990634, "o", "\u001b[?2004h> "]
[252.990669, "o", "import subprocess\r\n\u001b[?2004l\r"]
[252.990697, "o", "\u001b[?2004h> "]
[252.990756, "o", "import datetime\r\n\u001b[?2004l\r"]
[252.990784, "o", "\u001b[?2004h> "]
[252.990825, "o", "import re\r\n\u001b[?2004l\r"]
[252.990851, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r"]
[252.990882, "o", "\u001b[?2004h> "]
[252.990978, "o", "# Helper to run shell commands\r\n\u001b[?2004l\r"]
[252.991006, "o", "\u001b[?2004h> "]
[252.991062, "o", "def run_cmd(cmd):\r\n\u001b[?2004l\r"]
[252.9911, "o", "\u001b[?2004h"]
[252.991143, "o", "> "]
[252.991309, "o", "    return subprocess.check_output(cmd, shell=True, text=True).strip()\r\n\u001b[?2004l\r"]
[252.991357, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r\u001b[?2004h> "]
[252.991419, "o", "# Get system info\r\n\u001b[?2004l\r"]
[252.991462, "o", "\u001b[?2004h> "]
[252.991535, "o", "hostname = run_cmd(\"hostname\")\r\n\u001b[?2004l\r"]
[252.991577, "o", "\u001b[?2004h> "]
[252.99165, "o", "kernel = run_cmd(\"uname -srv\")\r\n\u001b[?2004l\r"]
[252.991691, "o", "\u001b[?2004h> "]
[252.991864, "o", "uptime_seconds = int(run_cmd(\"awk '{print int($1)}' /proc/uptime\"))\r\n\u001b[?2004l\r"]
[252.991909, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r\u001b[?2004h> "]
[252.99208, "o", "load_avg = re.split(r'\\s+', run_cmd(\"cat /proc/loadavg\"))[:3]\r\n\u001b[?2004l\r"]
[252.992135, "o", "\u001b[?2004h> "]
[252.992385, "o", "load_avg = {\"1min\": float(load_avg[0]), \"5min\": float(load_avg[1]), \"15min\": float(load_avg[2])}\r\n\u001b[?2004l\r\u001b[?2004h"]
[252.992429, "o", "> \r\n\u001b[?2004l\r\u001b[?2004h> "]
[252.992546, "o", "mem = re.split(r'\\s+', run_cmd(\"free -m\"))\r\n\u001b[?2004l\r"]
[252.992577, "o", "\u001b[?2004h> "]
[252.992776, "o", "mem_info = next((line for line in mem.split('\\\\n') if \"Mem\" in line), None)\r\n\u001b[?2004l\r"]
[252.992806, "o", "\u001b[?2004h"]
[252.992835, "o", "> if mem_info:\r\n\u001b[?2004l\r"]
[252.992865, "o", "\u001b[?2004h> "]
[252.992966, "o", "    mem = mem_info.split()[1:4]\r\n\u001b[?2004l\r"]
[252.993, "o", "\u001b[?2004h> "]
[252.993409, "o", "    memory = {\"total_MB\": int(mem[0]), \"used_MB\": int(mem[1]), \"free_MB\": int(mem[2])}\r\n\u001b[?2004l\r"]
[252.993449, "o", "\u001b[?2004h"]
[252.993477, "o", "> "]
[252.993531, "o", "else:\r\n\u001b[?2004l\r"]
[252.993582, "o", "\u001b[?2004h"]
[252.993614, "o", "> "]
[252.994004, "o", "    memory = {\"total_MB\": 0, \"used_MB\": 0, \"free_MB\": 0}\r\n\u001b[?2004l\r"]
[252.994043, "o", "\u001b[?2004h"]
[252.994069, "o", "> "]
[252.994102, "o", "\r\n\u001b[?2004l\r"]
[252.994163, "o", "\u001b[?2004h"]
[252.994189, "o", "> "]
[252.994306, "o", "# Disk usage\r\n\u001b[?2004l\r"]
[252.994353, "o", "\u001b[?2004h"]
[252.99438, "o", "> "]
[252.994511, "o", "disk_usage = []\r\n\u001b[?2004l\r"]
[252.99455, "o", "\u001b[?2004h"]
[252.994576, "o", "> "]
[252.995227, "o", "df_out = run_cmd(\"df -BG -t ext4 -t xfs -t overlay --output=target,fstype,size,used,avail,pcent\")\r\n\u001b[?2004l\r"]
[252.995269, "o", "\u001b[?2004h"]
[252.995295, "o", "> "]
[252.995564, "o", "for line in df_out.split('\\\\n')[2:]:\r\n\u001b[?2004l\r"]
[252.995607, "o", "\u001b[?2004h"]
[252.995632, "o", "> "]
[252.995796, "o", "    if line.strip():\r\n\u001b[?2004l\r"]
[252.995839, "o", "\u001b[?2004h"]
[252.995867, "o", "> "]
[252.996077, "o", "        parts = line.split()\r\n\u001b[?2004l\r"]
[252.996131, "o", "\u001b[?2004h"]
[252.996157, "o", "> "]
[252.996367, "o", "        disk_usage.append({\r\n\u001b[?2004l\r"]
[252.996417, "o", "\u001b[?2004h"]
[252.996443, "o", "> "]
[252.996843, "o", "            \"mountpoint\": parts[0], \"filesystem\": parts[1],\r\n\u001b[?2004l\r"]
[252.996883, "o", "\u001b[?2004h"]
[252.99691, "o", "> "]
[252.997377, "o", "            \"size_GB\": float(parts[2]), \"used_GB\": float(parts[3]),\r\n\u001b[?2004l\r"]
[252.997412, "o", "\u001b[?2004h"]
[252.997438, "o", "> "]
[252.997989, "o", "            \"free_GB\": float(parts[4]), \"percent_used\": int(parts[5].rstrip(\"%\"))\r\n\u001b[?2004l\r"]
[252.998029, "o", "\u001b[?2004h"]
[252.998056, "o", "> "]
[252.998168, "o", "        })\r\n\u001b[?2004l\r"]
[252.998207, "o", "\u001b[?2004h"]
[252.998233, "o", "> "]
[252.998262, "o", "\r\n\u001b[?2004l\r"]
[252.99829, "o", "\u001b[?2004h"]
[252.998317, "o", "> "]
[252.998452, "o", "# Top processes\r\n\u001b[?2004l\r"]
[252.998492, "o", "\u001b[?2004h"]
[252.998518, "o", "> "]
[252.998668, "o", "top_processes = []\r\n\u001b[?2004l\r"]
[252.998707, "o", "\u001b[?2004h"]
[252.998733, "o", "> "]
[252.999265, "o", "ps_out = run_cmd(\"ps axch -o pid,user,pcpu,pmem,cmd --sort=-pcpu | head -n 6\")\r\n\u001b[?2004l\r"]
[252.999331, "o", "\u001b[?2004h"]
[252.999357, "o", "> "]
[252.99962, "o", "for line in ps_out.split('\\\\n')[1:]:\r\n\u001b[?2004l\r"]
[252.999692, "o", "\u001b[?2004h"]
[252.99972, "o", "> "]
[253.000007, "o", "    if line.strip() and \"]\" not in line:\r\n\u001b[?2004l\r"]
[253.000049, "o", "\u001b[?2004h"]
[253.000075, "o", "> "]
[253.000327, "o", "        parts = re.split(r'\\s+', line.strip())\r\n\u001b[?2004l\r"]
[253.00036, "o", "\u001b[?2004h"]
[253.000388, "o", "> "]
[253.000459, "o", "        try:\r\n\u001b[?2004l\r"]
[253.000488, "o", "\u001b[?2004h"]
[253.000517, "o", "> "]
[253.000716, "o", "            pid, user = parts[0], parts[1]\r\n\u001b[?2004l\r"]
[253.000745, "o", "\u001b[?2004h> "]
[253.000898, "o", "            cmd = parts[-1]\r\n\u001b[?2004l\r"]
[253.000928, "o", "\u001b[?2004h"]
[253.000957, "o", "> "]
[253.001171, "o", "            pcpu, pmem = parts[2], parts[3]\r\n\u001b[?2004l\r"]
[253.001201, "o", "\u001b[?2004h"]
[253.00123, "o", "> "]
[253.001397, "o", "            top_processes.append({\r\n\u001b[?2004l\r"]
[253.001426, "o", "\u001b[?2004h"]
[253.001454, "o", "> "]
[253.001737, "o", "                \"pid\": int(pid), \"user\": user, \"command\": cmd,\r\n\u001b[?2004l\r"]
[253.001771, "o", "\u001b[?2004h"]
[253.0018, "o", "> "]
[253.002126, "o", "                \"cpu_percent\": float(pcpu), \"mem_percent\": float(pmem)\r\n\u001b[?2004l\r"]
[253.002158, "o", "\u001b[?2004h"]
[253.002185, "o", "> "]
[253.002268, "o", "            })\r\n\u001b[?2004l\r"]
[253.002295, "o", "\u001b[?2004h"]
[253.002325, "o", "> "]
[253.002405, "o", "        except:\r\n\u001b[?2004l\r"]
[253.002435, "o", "\u001b[?2004h"]
[253.002464, "o", "> "]
[253.002568, "o", "            continue\r\n\u001b[?2004l\r"]
[253.002598, "o", "\u001b[?2004h"]
[253.002626, "o", "> \r\n\u001b[?2004l\r"]
[253.002654, "o", "\u001b[?2004h"]
[253.002683, "o", "> "]
[253.002753, "o", "# Open ports\r\n\u001b[?2004l\r"]
[253.002783, "o", "\u001b[?2004h"]
[253.002813, "o", "> "]
[253.002898, "o", "open_ports = []\r\n\u001b[?2004l\r"]
[253.002928, "o", "\u001b[?2004h"]
[253.002956, "o", "> "]
[253.003199, "o", "netstat_out = run_cmd(\"netstat -tuln 2>/dev/null\")\r\n\u001b[?2004l\r"]
[253.003237, "o", "\u001b[?2004h> "]
[253.00345, "o", "for line in netstat_out.split('\\\\n')[2:]:\r\n\u001b[?2004l\r"]
[253.003479, "o", "\u001b[?2004h"]
[253.003508, "o", "> "]
[253.003688, "o", "    if \"tcp\" in line or \"udp\" in line:\r\n\u001b[?2004l\r"]
[253.003718, "o", "\u001b[?2004h"]
[253.003747, "o", "> "]
[253.003957, "o", "        port = line.split()[3].split(\".\")[-1]\r\n\u001b[?2004l\r"]
[253.003987, "o", "\u001b[?2004h"]
[253.004015, "o", "> "]
[253.004295, "o", "        if port.isdigit() and int(port) not in open_ports:\r\n\u001b[?2004l\r"]
[253.004324, "o", "\u001b[?2004h> "]
[253.004537, "o", "            open_ports.append(int(port))\r\n\u001b[?2004l\r"]
[253.004571, "o", "\u001b[?2004h"]
[253.0046, "o", "> \r\n\u001b[?2004l\r"]
[253.00463, "o", "\u001b[?2004h"]
[253.004659, "o", "> "]
[253.004757, "o", "# Build final JSON\r\n\u001b[?2004l\r"]
[253.004786, "o", "\u001b[?2004h> "]
[253.004865, "o", "report = {\r\n\u001b[?2004l\r"]
[253.004896, "o", "\u001b[?2004h"]
[253.004924, "o", "> "]
[253.005279, "o", "    \"timestamp\": datetime.datetime.utcnow().strftime(\"%Y-%m-%dT%H:%M:%SZ\"),\r\n\u001b[?2004l\r"]
[253.005315, "o", "\u001b[?2004h> "]
[253.005458, "o", "    \"hostname\": hostname,\r\n\u001b[?2004l\r"]
[253.005538, "o", "\u001b[?2004h> "]
[253.005613, "o", "    \"kernel\": kernel,\r\n\u001b[?2004l\r"]
[253.005673, "o", "\u001b[?2004h> "]
[253.005853, "o", "    \"uptime_seconds\": uptime_seconds,\r\n\u001b[?2004l\r"]
[253.005902, "o", "\u001b[?2004h> "]
[253.006052, "o", "    \"load_average\": load_avg,\r\n\u001b[?2004l\r"]
[253.0061, "o", "\u001b[?2004h> "]
[253.006225, "o", "    \"memory\": memory,\r\n\u001b[?2004l\r"]
[253.006282, "o", "\u001b[?2004h> "]
[253.006422, "o", "    \"disk_usage\": disk_usage,\r\n\u001b[?2004l\r"]
[253.00647, "o", "\u001b[?2004h> "]
[253.006646, "o", "    \"top_processes\": top_processes,\r\n\u001b[?2004l\r"]
[253.006682, "o", "\u001b[?2004h> "]
[253.00688, "o", "    \"open_ports\": sorted(open_ports),\r\n\u001b[?2004l\r"]
[253.006921, "o", "\u001b[?2004h> "]
[253.007072, "o", "    \"reachable_devices\": [],\r\n\u001b[?2004l\r"]
[253.007132, "o", "\u001b[?2004h> "]
[253.007288, "o", "    \"unreachable_devices\": []\r\n\u001b[?2004l\r"]
[253.007321, "o", "\u001b[?2004h> "]
[253.007371, "o", "}\r\n\u001b[?2004l\r\u001b[?2004h"]
[253.007418, "o", "> \r\n\u001b[?2004l\r"]
[253.007432, "o", "\u001b[?2004h"]
[253.007485, "o", "> "]
[253.007545, "o", "# Save to file\r\n\u001b[?2004l\r"]
[253.007586, "o", "\u001b[?2004h"]
[253.007624, "o", "> "]
[253.007819, "o", "with open(\"system_report.json\", \"w\") as f:\r\n\u001b[?2004l\r"]
[253.00787, "o", "\u001b[?2004h> "]
[253.008043, "o", "    json.dump(report, f, indent=2)\r\n\u001b[?2004l\r"]
[253.008079, "o", "\u001b[?2004h"]
[253.008097, "o", "> "]
[253.008163, "o", "EOF\r\n\u001b[?2004l\r"]
[253.060419, "o", "Traceback (most recent call last):\r\n  File \"<stdin>\", line 19, in <module>\r\n"]
[253.06056, "o", "AttributeError: 'list' object has no attribute 'split'\r\n"]
[253.064586, "o", "\u001b[?2004h"]
[253.064606, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[254.83303, "i", "rm -f integrity.sha256 && sha256sum system_report.json ping_summary.csv > integrity.sha256\n"]
[254.833715, "o", "rm -f integrity.sha256 && sha256sum system_report.json ping_summary.csv > integrity.sha256\r\n"]
[254.833735, "o", "\u001b[?2004l\r"]
[254.836665, "o", "\u001b[?2004h"]
[254.836733, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[255.370389, "i", "chmod 0755 .. && chmod 0444 system_report.json ping_summary.csv integrity.sha256\n"]
[255.370655, "o", "chmod 0755 .. && chmod 0444 system_report.json ping_summary.csv integrity.sha256\r\n\u001b[?2004l\r"]
[255.372646, "o", "\u001b[?2004h"]
[255.37266, "o", "root@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[255.504972, "i", "head -20 system_report.json\n"]
[255.505144, "o", "head -20 system_report.json\r\n\u001b[?2004l\r"]
[255.505981, "o", "{\r\n  \"timestamp\": \"$(date -u +'%Y-%m-%dT%H:%M:%SZ')\",\r\n  \"hostname\": \"$(hostname)\",\r\n  \"kernel\": \"$(uname -srv)\",\r\n  \"uptime_seconds\": $(awk '{print int($1)}' /proc/uptime),\r\n  \"load_average\": {\r\n    \"1min\": $(awk '{print $1}' /proc/loadavg),\r\n    \"5min\": $(awk '{print $2}' /proc/loadavg),\r\n    \"15min\": $(awk '{print $3}' /proc/loadavg)\r\n  },\r\n  \"memory\": {\r\n    \"total_MB\": $(free -m | awk '/Mem:/ {print $2}'),\r\n    \"used_MB\": $(free -m | awk '/Mem:/ {print $3}'),\r\n    \"free_MB\": $(free -m | awk '/Mem:/ {print $4}')\r\n  },\r\n"]
[255.506039, "o", "  \"disk_usage\": [\r\n    {\"mountpoint\": \"/\", \"filesystem\": \"overlay\", \"size_GB\": 10.0, \"used_GB\": 1.0, \"free_GB\": 10.0, \"percent_used\": 1}\",\r\n    {\"mountpoint\": \"/etc/hosts\", \"filesystem\": \"xfs\", \"size_GB\": 7152.0, \"used_GB\": 1097.0, \"free_GB\": 6056.0, \"percent_used\": 16}\",\r\n    {\"mountpoint\": \"/usr/local/bin/daytona\", \"filesystem\": \"ext4\", \"size_GB\": 879.0, \"used_GB\": 19.0, \"free_GB\": 816.0, \"percent_used\": 3}\",\r\n    ],\r\n"]
[255.506214, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
[256.058475, "i", "ls -la\n"]
[256.058579, "o", "ls -la\r\n\u001b[?2004l\r"]
[256.060027, "o", "total 12\r\n"]
[256.060063, "o", "drwxr-xr-x 2 root root   96 Feb 13 18:57 \u001b[0m\u001b[01;34m.\u001b[0m\r\ndrwxr-xr-x 1 user user   33 Feb 13 18:53 \u001b[01;34m..\u001b[0m\r\n-r--r--r-- 1 root root  168 Feb 13 18:57 integrity.sha256\r\n"]
[256.060104, "o", "-r--r--r-- 1 root root   21 Feb 13 18:54 ping_summary.csv\r\n-r--r--r-- 1 root root 2591 Feb 13 18:56 system_report.json\r\n"]
[256.060317, "o", "\u001b[?2004hroot@6271375c-5db0-4f65-b72a-230685fb6c54:/home/user/iot_deployment/diagnostics# "]
