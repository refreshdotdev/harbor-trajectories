New Terminal Output:

root@164f4746-1789-46ba-8d92-2ef078279916:~/docs# rm -f replace_tbd.py
root@164f4746-1789-46ba-8d92-2ef078279916:~/docs# cat > replace_tbd.py << 'EOF'
> import re
> import sys
>
> # Read the file content
> with open(sys.argv[1], 'r') as f:
>     content = f.read()
>
> # Replace TBD based on rules
> new_content = re.sub(r'\\bTBD\\b', lambda m: 'TO BE DETERMINED' if 'URGENT' in m.string[max(0, m.start()-50):m.end()] else 'To Be Determined', content)
>
> # Write back to file
> with open(sys.argv[1], 'w') as f:
>     f.write(new_content)
> EOF
root@164f4746-1789-46ba-8d92-2ef078279916:~/docs# python3 replace_tbd.py drafts/intro.md
root@164f4746-1789-46ba-8d92-2ef078279916:~/docs#
