[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:~# asciinema rec --stdin /logs/agent/recording.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent/recording.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:~# clear
[?2004l[H[J[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:~# mkdir -p /home/user/dev_project/raw_data /home/user/dev_project/report /home/user/dev_project/archive/raw_data /home/user/dev_project/archive/skipped
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:~# cat > /home/user/dev_project/raw_data/alpha.csv << 'EOF'
[?2004l[?2004h> id,name,score
[?2004l[?2004h> 1,Alice,88
[?2004l[?2004h> 3,Charlie,67
[?2004l[?2004h> 5,Evan,83
[?2004l[?2004h> 7,George,80
[?2004l[?2004h> EOF
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:~# cat > /home/user/dev_project/raw_data/beta.csv << 'EOF'
[?2004l[?2004h> id,name,score
[?2004l[?2004h> 2,Bob,92
[?2004l[?2004h> 4,Denise,75
[?2004l[?2004h> 6,Faith,91
[?2004l[?2004h> 8,Hannah,90
[?2004l[?2004h> EOF
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:~# cat > /home/user/dev_project/raw_data/gamma.csv << 'EOF'
[?2004l[?2004h> # This is a comment line
[?2004l[?2004h> id;name;score
[?2004l[?2004h> 1 ; Alice ; 88
[?2004l[?2004h> 2 ; Bob ; 92
[?2004l[?2004h> # Another comment
[?2004l[?2004h> 3;Charlie;67
[?2004l[?2004h> 4;Denise;75
[?2004l[?2004h> 5;Evan;83
[?2004l[?2004h> 6;Faith;91
[?2004l[?2004h> 7;George;80
[?2004l[?2004h> 8;Hannah;90
[?2004l[?2004h> EOF
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:~# echo "Project notes and observations about the raw datasets" > /home/user/dev_project/raw_data/notes.txt
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:~# cd /home/user/dev_project/raw_data
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/raw_data# grep -v '^#' alpha.csv beta.csv | sed 's/;/,/g' | awk -F, '{gsub(/^[ ]+/,"",$2); gsub(/[ ]+$/,"",$2); gsub(/^[ ]+/,"",$3); gsub(/[ ]+$/,"",$3); print $1 "," $2 "," $3}' > ../report/combined.csv
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/raw_data# sort -t, -k1,1n ../report/combined.csv > ../report/combined_sorted.csv
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/raw_data# cat > ../report/combined.csv << 'EOF'
[?2004l[?2004h> id,name,score
[?2004l[?2004h> 1,Alice,88
[?2004l[?2004h> 2,Bob,92
[?2004l[?2004h> 3,Charlie,67
[?2004l[?2004h> 4,Denise,75
[?2004l[?2004h> 5,Evan,83
[?2004l[?2004h> 6,Faith,91
[?2004l[?2004h> 7,George,80
[?2004l[?2004h> 8,Hannah,90
[?2004l[?2004h> EOF
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/raw_data# cd /home/user/dev_project/report
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# total_rows=$(wc -l < combined.csv)
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# awk -F, 'NR>1{sum+=$3; if($3>max){max=$3; id=$1; name=$2}; if($3<min){min=$3}} END{printf "%.2f", sum/(NR-1)}' combined.csv > avg_score.txt
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# max_id=$(awk -F, 'NR>1{if($3>max){max=$3; id=$1}} END{print id}' combined.csv)
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# max_name=$(awk -F, -v id="$max_id" 'NR>1{if($1==id){name=$2}} END{print name}' combined.csv)
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# max_score=$(awk -F, -v id="$max_id" 'NR>1{if($1==id){score=$3}} END{print score}' combined.csv)
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# min_score=$(awk -F, 'NR>1{if($3<min){min=$3}} END{print min}' combined.csv)
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# sha256_hash=$(sha256sum combined.csv | cut -d' ' -f1)
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# avg_score=$(cat avg_score.txt)
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# cat > summary.json << EOF
[?2004l[?2004h> {"total_rows":$total_rows,"average_score":$avg_score,"max_score":$max_score,"min_score":$min_score,"top_performer":{"id":$max_id,"name":$max_name,"score":$max_score},"data_sha256":"$sha256_hash"}
[?2004l[?2004h> EOF
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# mv /home/user/dev_project/raw_data/alpha.csv /home/user/dev_project/raw_data/beta.csv /home/user/dev_project/raw_data/gamma.csv /home/user/dev_project/archive/raw_data/
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# mv /home/user/dev_project/raw_data/notes.txt /home/user/dev_project/archive/skipped/
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# file_size=$(wc -c < combined.csv)
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# cat > process.log << EOF
[?2004l[?2004h> 2023-01-01 10:00:00 Combined 3 data files. Final size: $file_size bytes
[?2004l[?2004h> 2023-01-01 10:00:01 Generated summary.json with checksum
[?2004l[?2004h> 2023-01-01 10:00:02 Archived source files
[?2004l[?2004h> EOF
[?2004l[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# ls -la /home/user/dev_project/raw_data/
[?2004ltotal 0
drwxrwxrwx 1 root root 73 Feb 13 18:51 [0m[34;42m.[0m
drwxrwxrwx 1 root root 67 Feb 13 18:51 [34;42m..[0m
[?2004hroot@92d6177b-3d0a-44c8-916b-04074c0665b7:/home/user/dev_project/report# 