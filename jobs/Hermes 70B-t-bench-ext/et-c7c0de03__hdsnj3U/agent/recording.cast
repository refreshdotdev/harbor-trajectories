{"version": 2, "width": 160, "height": 40, "timestamp": 1771008824, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.007117, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:~# "]
[0.993145, "i", "clear\r"]
[0.99326, "o", "clear\r\n\u001b[?2004l\r"]
[0.994406, "o", "\u001b[H\u001b[J"]
[0.994591, "o", "\u001b[?2004h"]
[0.99463, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:~# "]
[7.70437, "i", "cd /home/user/etl_workspace\n"]
[7.704663, "o", "cd /home/user/etl_workspace\r\n\u001b[?2004l\r"]
[7.704982, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[7.861024, "i", "ls -la\n"]
[7.861168, "o", "ls -la\r\n\u001b[?2004l\r"]
[7.862467, "o", "total 0\r\n"]
[7.862524, "o", "drwxrwxrwx 1 root root  49 Feb 13 18:50 \u001b[0m\u001b[34;42m.\u001b[0m\r\ndrwxr-xr-x 1 root root  35 Feb 13 18:50 \u001b[01;34m..\u001b[0m\r\ndrwxrwxrwx 1 root root  10 Feb 13 18:50 \u001b[34;42mbackups\u001b[0m\r\ndrwxrwxrwx 1 root root 181 Jan  1  2020 \u001b[34;42mincoming\u001b[0m\r\n"]
[7.8627, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[8.000772, "i", "mkdir -p backups\n"]
[8.000967, "o", "mkdir -p backups\r\n"]
[8.001027, "o", "\u001b[?2004l\r"]
[8.003006, "o", "\u001b[?2004h"]
[8.003076, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[8.2261, "i", "mkdir -p tmp_archive_staging\n"]
[8.226366, "o", "mkdir -p tmp_archive_staging\r\n\u001b[?2004l\r"]
[8.22956, "o", "\u001b[?2004h"]
[8.229586, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[13.773388, "i", "ls -la incoming/\n"]
[13.773584, "o", "ls -la incoming/\r\n\u001b[?2004l\r"]
[13.776269, "o", "total 24\r\n"]
[13.776383, "o", "drwxrwxrwx 1 root root 181 Jan  1  2020 \u001b[0m\u001b[34;42m.\u001b[0m\r\ndrwxrwxrwx 1 root root  41 Feb 13 18:53 \u001b[34;42m..\u001b[0m\r\n-rw-rw-rw- 1 root root  42 Apr  1  2023 config.json\r\ndrwxrwxrwx 1 root root  75 Jan  1  2020 \u001b[34;42mextras\u001b[0m\r\n-rw-rw-rw- 1 root root  22 Jan  1  2020 february.csv\r\n-rw-rw-rw- 1 root root  22 Jan  1  2023 january.csv\r\nlrwxrwxrwx 1 root root   9 Jan  1  2020 \u001b[01;36mlatest.csv\u001b[0m -> march.csv\r\n-rw-rw-rw- 1 root root  22 Mar  1  2023 march.csv\r\n-rw-rw-rw- 1 root root   8 Jan  1  2020 .meta\r\ndrwxrwxrwx 1 root root  47 Jan  1  2020 \u001b[34;42mstaging\u001b[0m\r\n"]
[13.776443, "o", "-rw-rw-rw- 1 root root  15 Jan  1  2020 temp_cache.log\r\n"]
[13.776876, "o", "\u001b[?2004h"]
[13.776937, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[13.8677, "i", "mkdir -p tmp_archive_staging/incoming\n"]
[13.867998, "o", "mkdir -p tmp_archive_staging/incoming\r\n\u001b[?2004l\r"]
[13.869958, "o", "\u001b[?2004h"]
[13.869996, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[23.235413, "i", "cp -p incoming/.meta tmp_archive_staging/incoming/\n"]
[23.235601, "o", "cp -p incoming/.meta tmp_archive_staging/incoming/\r\n\u001b[?2004l\r"]
[23.236905, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[23.350965, "i", "cp -p incoming/january.csv tmp_archive_staging/incoming/\n"]
[23.351152, "o", "cp -p incoming/january.csv tmp_archive_staging/incoming/\r\n\u001b[?2004l\r"]
[23.352594, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[23.523777, "i", "cp -p incoming/february.csv tmp_archive_staging/incoming/\n"]
[23.523986, "o", "cp -p incoming/february.csv tmp_archive_staging/incoming/\r\n\u001b[?2004l\r"]
[23.525364, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[33.901889, "i", "sed -e 's/,\\s*\\($\\|\\s*\\)\\s*\\}/}' -e 's/,\\s*\\($\\|\\s*\\)\\s*\\]$/]/' incoming/config.json > tmp_archive_staging/incoming/config.json\n"]
[33.902868, "o", "sed -e 's/,\\s*\\($\\|\\s*\\)\\s*\\}/}' -e 's/,\\s*\\($\\|\\s*\\)\\s*\\]$/]/' incoming/config.json > tmp_archive_staging/incoming/config.json\r\n\u001b[?2004l\r"]
[33.904788, "o", "sed: -e expression #1, char 23: unterminated `s' command\r\n"]
[33.905091, "o", "\u001b[?2004h"]
[33.905147, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[33.989247, "i", "iconv -f ISO-8859-1 -t UTF-8 incoming/march.csv > tmp_archive_staging/incoming/march.csv\n"]
[33.989761, "o", "iconv -f ISO-8859-1 -t UTF-8 incoming/march.csv > tmp_archive_staging/incoming/march.csv\r\n\u001b[?2004l\r"]
[33.992121, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[34.090551, "i", "touch -r incoming/config.json tmp_archive_staging/incoming/config.json\n"]
[34.091069, "o", "touch -r incoming/config.json tmp_archive_staging/incoming/config.json\r\n\u001b[?2004l\r"]
[34.092904, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[34.196706, "i", "touch -r incoming/march.csv tmp_archive_staging/incoming/march.csv\n"]
[34.197175, "o", "touch -r incoming/march.csv tmp_archive_staging/incoming/march.csv\r\n\u001b[?2004l\r"]
[34.198633, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[42.780351, "i", "sed -e 's/,\\s*\\($\\|[^{}]\\)\\s*\\}/}' -e 's/,\\s*\\($\\|[^\\[\\]]\\)\\s*\\]$/]/' incoming/config.json > tmp_archive_staging/incoming/config.json\n"]
[42.780777, "o", "sed -e 's/,\\s*\\($\\|[^{}]\\)\\s*\\}/}' -e 's/,\\s*\\($\\|[^\\[\\]]\\)\\s*\\]$/]/' incoming/config.json > tmp_archive_staging/incoming/config.json\r\n\u001b[?2004l\r"]
[42.78292, "o", "sed: -e expression #1, char 25: unterminated `s' command\r\n"]
[42.783253, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[42.875868, "i", "jq . tmp_archive_staging/incoming/config.json\n"]
[42.876033, "o", "jq . tmp_archive_staging/incoming/config.json\r\n\u001b[?2004l\r"]
[42.876779, "o", "bash: jq: command not found\r\n"]
[42.877169, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[42.97957, "i", "cp -P incoming/latest.csv tmp_archive_staging/incoming/\n"]
[42.979904, "o", "cp -P incoming/latest.csv tmp_archive_staging/incoming/\r\n\u001b[?2004l\r"]
[42.982076, "o", "\u001b[?2004h"]
[42.982113, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[49.447324, "i", "sed -e 's/,[ \\t]*\\([}][^}]*\\)$/\\1/' -e 's/,[ \\t]*\\([}]\\)$/\\1/' incoming/config.json > tmp_archive_staging/incoming/config.json\n"]
[49.447697, "o", "sed -e 's/,[ \\t]*\\([}][^}]*\\)$/\\1/' -e 's/,[ \\t]*\\([}]\\)$/\\1/' incoming/config.json > tmp_archive_staging/incoming/config.json\r\n\u001b[?2004l\r"]
[49.450273, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[49.661805, "i", "cat tmp_archive_staging/incoming/config.json\n"]
[49.662303, "o", "cat tmp_archive_staging/incoming/config.json\r\n\u001b[?2004l\r"]
[49.663835, "o", "{\r\n    \"source\": \"web\",\r\n    \"retries\": 3,\r\n}"]
[49.66418, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[60.246435, "i", "find tmp_archive_staging/incoming -type f -exec sha256sum {} \\; | sed 's|tmp_archive_staging/incoming/||' > /tmp/sha_sums.txt\n"]
[60.247448, "o", "find tmp_archive_staging/incoming -type f -exec sha256sum {} \\; | sed 's|tmp_archive_staging/incoming/||' > /tmp/sha_sums.txt\r\n\u001b[?2004l\r"]
[60.255543, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[60.396669, "i", "cat /tmp/sha_sums.txt\n"]
[60.396924, "o", "cat /tmp/sha_sums.txt\r\n\u001b[?2004l\r"]
[60.398346, "o", "45447b7afbd5e544f7d0f1df0fccd26014d9850130abd3f020b89ff96b82079f  .meta\r\n92e92af2b348dcf1480bf9d4e9fc5fb157e00a3ce4ef0623021b04776e076a25  january.csv\r\n37e802a43a59b3e68c810c607801e7748d1e174c14bc79465237bcc7a8068468  february.csv\r\na885725dfeb89ab95aecd26ae4314cd9a02d521085544a7f66e976af712258f0  config.json\r\n8f7325b7da9c54a9b9a5e997a9668adf1d60dd46b0911ebc326136dd3c65d00e  march.csv\r\n"]
[60.398704, "o", "\u001b[?2004h"]
[60.398762, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[60.532607, "i", "awk -F\" \" '{print \"\\\"\" $2 \"\\\": \\\"\" $1 \"\\\"\"}' /tmp/sha_sums.txt | jq -s -c '. | add | to_entries | sort_by(.key) | map({key: .key, value: .value}) | from_entries' | jq . > backups/manifest.json\n"]
[60.534021, "o", "awk -F\" \" '{print \"\\\"\" $2 \"\\\": \\\"\" $1 \"\\\"\"}' /tmp/sha_sums.txt | jq -s -c '. | add | to_entries | sort_by(.key) | map({key: .key, value: .value}) | from_entries' | jq . > backups/manifest.json\r\n\u001b[?2004l\r"]
[60.534885, "o", "bash: jq: command not found\r\n"]
[60.536102, "o", "awk: close failed on file /dev/stdout (Broken pipe)\r\nbash: jq: command not found\r\n"]
[60.536513, "o", "\u001b[?2004h"]
[60.536587, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[60.637049, "i", "cat backups/manifest.json\n"]
[60.637336, "o", "cat backups/manifest.json\r\n\u001b[?2004l\r"]
[60.639263, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[68.93123, "i", "awk -F\" \" 'BEGIN {print \"{\"} {printf \"\\\"%s\\\": \\\"%s\\\"\", $2, $1} END {printf \"\\n}\"}' /tmp/sha_sums.txt | sed '1d;$d;s/,/,\n/g' | awk 'BEGIN {print \"{\"} {printf \"  \\\"%s\\\": \\\"%s\\\"\", $1, $2} END {print \"}\"}' | sed 's/}, {/,/g' | sed 's/^  \"/    \"/g' > backups/manifest.json\n"]
[68.932006, "o", "awk -F\" \" 'BEGIN {print \"{\"} {printf \"\\\"%s\\\": \\\"%s\\\"\", $2, $1} END {printf \"\\n}\"}' /tmp/sha_sums.txt | sed '1d;$d;s/,/,\r\n\u001b[?2004l\r"]
[68.932117, "o", "\u001b[?2004h> "]
[68.933013, "o", "/g' | awk 'BEGIN {print \"{\"} {printf \"  \\\"%s\\\": \\\"%s\\\"\", $1, $2} END {print \"}\"}' | sed 's/}, {/,/g' | sed 's/^  \"/    \"/g' > backups/manifest.json\r\n\u001b[?2004l\r"]
[68.935588, "o", "sed: -e expression #1, char 11: unterminated `s' command\r\n"]
[68.936581, "o", "\u001b[?2004h"]
[68.936598, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[69.22968, "i", "cat backups/manifest.json\n"]
[69.229862, "o", "cat backups/manifest.json\r\n\u001b[?2004l\r"]
[69.23136, "o", "{\r\n}\r\n"]
[69.231643, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[75.14619, "i", "awk -F\" \" 'BEGIN {print \"{\"} {printf \"    \\\"%s\\\": \\\"%s\\\"\", $2, $1;} END {print \"}\"}' /tmp/sha_sums.txt | sed 's/} {/,/g' > backups/manifest.json\n"]
[75.147312, "o", "awk -F\" \" 'BEGIN {print \"{\"} {printf \"    \\\"%s\\\": \\\"%s\\\"\", $2, $1;} END {print \"}\"}' /tmp/sha_sums.txt | sed 's/} {/,/g' > backups/manifest.json\r\n\u001b[?2004l\r"]
[75.150949, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[75.37973, "i", "cat backups/manifest.json\n"]
[75.380019, "o", "cat backups/manifest.json\r\n\u001b[?2004l\r"]
[75.38137, "o", "{\r\n    \".meta\": \"45447b7afbd5e544f7d0f1df0fccd26014d9850130abd3f020b89ff96b82079f\"    \"january.csv\": \"92e92af2b348dcf1480bf9d4e9fc5fb157e00a3ce4ef0623021b04776e076a25\"    \"february.csv\": \"37e802a43a59b3e68c810c607801e7748d1e174c14bc79465237bcc7a8068468\"    \"config.json\": \"a885725dfeb89ab95aecd26ae4314cd9a02d521085544a7f66e976af712258f0\"    \"march.csv\": \"8f7325b7da9c54a9b9a5e997a9668adf1d60dd46b0911ebc326136dd3c65d00e\"}\r\n"]
[75.381671, "o", "\u001b[?2004h"]
[75.381729, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[84.03393, "i", "find tmp_archive_staging/incoming -type f -printf '%%T@ %p\\n' | sort -nr | head -1 | cut -d' ' -f2- | xargs -I {} stat -c '%Y' {} > /tmp/newest_time.txt\n"]
[84.034945, "o", "find tmp_archive_staging/incoming -type f -printf '%%T@ %p\\n' | sort -nr | head -1 | cut -d' ' -f2- | xargs -I {} stat -c '%Y' {} > /tmp/newest_time.txt\r\n\u001b[?2004l\r"]
[84.039801, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[84.13734, "i", "cat /tmp/newest_time.txt\n"]
[84.137579, "o", "cat /tmp/newest_time.txt\r\n\u001b[?2004l\r"]
[84.138522, "o", "1577880000\r\n"]
[84.138713, "o", "\u001b[?2004h"]
[84.138762, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[84.287708, "i", "tar -czvf backups/incoming_backup.tar.gz -C tmp_archive_staging/incoming .\n"]
[84.288336, "o", "tar -czvf backups/incoming_backup.tar.gz -C tmp_archive_staging/incoming .\r\n\u001b[?2004l\r"]
[84.291517, "o", "./\r\n./.meta\r\n./january.csv\r\n"]
[84.291589, "o", "./february.csv\r\n./config.json\r\n./march.csv\r\n"]
[84.291635, "o", "./latest.csv\r\n"]
[84.29382, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[85.279036, "i", "touch -m -d @$(cat /tmp/newest_time.txt) backups/incoming_backup.tar.gz\n"]
[85.279292, "o", "touch -m -d @$(cat /tmp/newest_time.txt) backups/incoming_backup.tar.gz\r\n\u001b[?2004l\r"]
[85.282263, "o", "\u001b[?2004h"]
[85.282323, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[90.716434, "i", "tar -tzf backups/incoming_backup.tar.gz\n"]
[90.716621, "o", "tar -tzf backups/incoming_backup.tar.gz\r\n\u001b[?2004l\r"]
[90.719361, "o", "./\r\n./.meta\r\n./january.csv\r\n./february.csv\r\n./config.json\r\n./march.csv\r\n./latest.csv\r\n"]
[90.719707, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[90.841523, "i", "ls -la backups/\n"]
[90.841678, "o", "ls -la backups/\r\n\u001b[?2004l\r"]
[90.844637, "o", "total 8\r\n"]
[90.844717, "o", "drwxrwxrwx 1 root root  57 Feb 13 18:55 \u001b[0m\u001b[34;42m.\u001b[0m\r\ndrwxrwxrwx 1 root root  60 Feb 13 18:53 \u001b[34;42m..\u001b[0m\r\n-rw-r--r-- 1 root root 384 Jan  1  2020 \u001b[01;31mincoming_backup.tar.gz\u001b[0m\r\n-rw-r--r-- 1 root root 422 Feb 13 18:54 manifest.json"]
[90.844759, "o", "\r\n"]
[90.845151, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[95.296022, "i", "rm -rf tmp_archive_staging/\n"]
[95.296298, "o", "rm -rf tmp_archive_staging/\r\n\u001b[?2004l\r"]
[95.298522, "o", "\u001b[?2004hroot@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
[95.408252, "i", "rm /tmp/sha_sums.txt /tmp/newest_time.txt\n"]
[95.408689, "o", "rm /tmp/sha_sums.txt /tmp/newest_time.txt\r\n\u001b[?2004l\r"]
[95.410035, "o", "\u001b[?2004h"]
[95.410072, "o", "root@5019f0b4-191d-4aef-95f1-9671ae925d4a:/home/user/etl_workspace# "]
