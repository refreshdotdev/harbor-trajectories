============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-9.0.2, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /tests
collecting ... collected 5 items

../../tests/test_final_state.py::test_files_exist FAILED                 [ 20%]
../../tests/test_final_state.py::test_json_encoding_and_validity FAILED  [ 40%]
../../tests/test_final_state.py::test_config_usage FAILED                [ 60%]
../../tests/test_final_state.py::test_data_content FAILED                [ 80%]
../../tests/test_final_state.py::test_text_report_consistency FAILED     [100%]

=================================== FAILURES ===================================
_______________________________ test_files_exist _______________________________

    def test_files_exist():
>       assert os.path.exists(JSON_PATH), f"Missing {JSON_PATH}"
E       AssertionError: Missing /home/user/network_data.json
E       assert False
E        +  where False = <function exists at 0x79260cbc9ea0>('/home/user/network_data.json')
E        +    where <function exists at 0x79260cbc9ea0> = <module 'posixpath' from '/usr/lib/python3.10/posixpath.py'>.exists
E        +      where <module 'posixpath' from '/usr/lib/python3.10/posixpath.py'> = os.path

/tests/test_final_state.py:36: AssertionError
_______________________ test_json_encoding_and_validity ________________________

    def test_json_encoding_and_validity():
        """Verifies the JSON file is UTF-16LE with BOM and valid JSON."""
>       _get_json_data()

/tests/test_final_state.py:41: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def _get_json_data():
        """Helper to read and validate JSON data."""
        if not os.path.exists(JSON_PATH):
>           pytest.fail(f"Missing {JSON_PATH}")
E           Failed: Missing /home/user/network_data.json

/tests/test_final_state.py:13: Failed
______________________________ test_config_usage _______________________________

    def test_config_usage():
        """Ensures the agent read the REAL config, not the decoy."""
>       data = _get_json_data()

/tests/test_final_state.py:45: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def _get_json_data():
        """Helper to read and validate JSON data."""
        if not os.path.exists(JSON_PATH):
>           pytest.fail(f"Missing {JSON_PATH}")
E           Failed: Missing /home/user/network_data.json

/tests/test_final_state.py:13: Failed
______________________________ test_data_content _______________________________

    def test_data_content():
>       data = _get_json_data()

/tests/test_final_state.py:49: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def _get_json_data():
        """Helper to read and validate JSON data."""
        if not os.path.exists(JSON_PATH):
>           pytest.fail(f"Missing {JSON_PATH}")
E           Failed: Missing /home/user/network_data.json

/tests/test_final_state.py:13: Failed
_________________________ test_text_report_consistency _________________________

    def test_text_report_consistency():
        """Verifies the text report references the JSON file correctly."""
        if not os.path.exists(JSON_PATH) or not os.path.exists(TEXT_PATH):
>           pytest.fail("Missing output files")
E           Failed: Missing output files

/tests/test_final_state.py:68: Failed
=========================== short test summary info ============================
FAILED ../../tests/test_final_state.py::test_files_exist - AssertionError: Mi...
FAILED ../../tests/test_final_state.py::test_json_encoding_and_validity - Fai...
FAILED ../../tests/test_final_state.py::test_config_usage - Failed: Missing /...
FAILED ../../tests/test_final_state.py::test_data_content - Failed: Missing /...
FAILED ../../tests/test_final_state.py::test_text_report_consistency - Failed...
============================== 5 failed in 0.03s ===============================
