{"version": 2, "width": 160, "height": 40, "timestamp": 1771009002, "env": {"SHELL": "/bin/bash", "TERM": "screen"}}
[0.007419, "o", "\u001b[?2004hroot@82416666-6c44-49e4-ac45-f5685ae8f95f:/home/user# "]
[1.043796, "i", "clear\r"]
[1.043899, "o", "clear\r\n\u001b[?2004l\r"]
[1.044835, "o", "\u001b[H\u001b[J"]
[1.045028, "o", "\u001b[?2004h"]
[1.045049, "o", "root@82416666-6c44-49e4-ac45-f5685ae8f95f:/home/user# "]
[8.400451, "i", "mkdir -p /home/user/cert_analysis\n"]
[8.400678, "o", "mkdir -p /home/user/cert_analysis\r\n\u001b[?2004l\r"]
[8.403006, "o", "\u001b[?2004h"]
[8.403098, "o", "root@82416666-6c44-49e4-ac45-f5685ae8f95f:/home/user# "]
[8.590719, "i", "cd /home/user/certs_incoming\n"]
[8.590951, "o", "cd /home/user/certs_incoming\r\n\u001b[?2004l\r"]
[8.591126, "o", "\u001b[?2004h"]
[8.591159, "o", "root@82416666-6c44-49e4-ac45-f5685ae8f95f:/home/user/certs_incoming# "]
[16.814355, "i", "find . -name \"*.meta\" | head -5\n"]
[16.814599, "o", "find . -name \"*.meta\" | head -5\r\n\u001b[?2004l\r"]
[16.817842, "o", "./broken/server_bad_hash.meta\r\n./db/server_soon.meta\r\n./ghost/server_missing_crt.meta\r\n./legacy/server_expired.meta\r\n./web/server_ok.meta\r\n"]
[16.818145, "o", "\u001b[?2004h"]
[16.818232, "o", "root@82416666-6c44-49e4-ac45-f5685ae8f95f:/home/user/certs_incoming# "]
[49.768508, "i", "cat > process_certs.sh << 'EOF'\n#!/bin/bash\n\n# Initialize output files\necho \"filename,subject,issuer,not_before,not_after,days_until_expiry,status\" > /home/user/cert_analysis/expiring_certs.csv\necho \"\" > /home/user/cert_analysis/analysis.log\nprintf \"[]\" > /home/user/cert_analysis/errors.json\n\ntoday_ts=$(date +%s)\n\n# Process each .meta file\nfor meta_file in $(find . -name \"*.meta\"); do\n    # Extract filename and path components\n    crt_file=\"${meta_file%.*}.crt\"\n    base_name=$(basename -- \"${meta_file%.*}\")\n    \n    # Read metadata line\n    if ! read -r line < \"${meta_file}\"; then\n        echo \"Error reading ${meta_file}\" >> /home/user/cert_analysis/errors.json\n        continue\n    fi\n    \n    # Parse metadata fields\n    IFS='|' read -ra fields <<< \"${line}\"\n    subject=\"${fields[0]}\"\n    issuer=\"${fields[1]}\"\n    not_before=\"${fields[2]}\"\n    not_after=\"${fields[3]}\"\n    checksum_meta=\"${fields[4]}\"\n    \n    # Validation 1: Check if .crt file exists\n    if [ ! -f \"${crt_file}\" ]; then\n        # Update errors"]
[49.768653, "i", ".json\n        tmp_json=\"$(cat /home/user/cert_analysis/errors.json)\"\n        echo \"${tmp_json%,*},\\n\\t{\\\"filename\\\": \\\"${base_name}.meta\\\", \\\"reason\\\": \\\"MISSING_CRT\\\"}\" > /home/user/cert_analysis/errors.json\n        continue\n    fi\n    \n    # Validation 2: Verify dates are valid\n    if ! date -d \"${not_before}\" +%F >/dev/null 2>&1 || ! date -d \"${not_after}\" +%F >/dev/null 2>&1; then\n        tmp_json=\"$(cat /home/user/cert_analysis/errors.json)\"\n        echo \"${tmp_json%,*},\\n\\t{\\\"filename\\\": \\\"${base_name}.meta\\\", \\\"reason\\\": \\\"INVALID_DATE\\\"}\" > /home/user/cert_analysis/errors.json\n        continue\n    fi\n    \n    # Convert dates to timestamps\n    not_before_ts=$(date -d \"${not_before}\" +%s)\n    not_after_ts=$(date -d \"${not_after}\" +%s)\n    \n    # Validation 3: Verify checksum\n    checksum_actual=$(sha256sum \"${crt_file}\" | awk '{print $1}')\n    if [ \"${checksum_actual}\" != \"${checksum_meta}\" ]; then\n        tmp_json=\"$(cat /home/user/cert_analysis/errors.json)\"\n        echo \"${tmp_json%,*},\\n\\t{\\\"filenam"]
[49.7687, "i", "e\\\": \\\"${base_name}.meta\\\", \\\"reason\\\": \\\"CHECKSUM_MISMATCH\\\"}\" > /home/user/cert_analysis/errors.json\n        continue\n    fi\n    \n    # Calculate days until expiry\n    days_until_expiry=$(((not_after_ts - today_ts) / 86400))\n    \n    # Determine status\n    if [ ${days_until_expiry} -gt 30 ]; then\n        status=\"OK\"\n    elif [ ${days_until_expiry} -ge 0 ]; then\n        status=\"EXPIRING_SOON\"\n    else\n        status=\"EXPIRED\"\n    fi\n    \n    # Add to CSV\n    echo \"${base_name}.crt,${subject},${issuer},${not_before},${not_after},${days_until_expiry},${status}\" >> /home/user/cert_analysis/expiring_certs.csv\n    \n    # Add to log\n    timestamp=$(date '+%Y-%m-%d %H:%M:%S')\n    echo \"${timestamp} Processed ${base_name}.crt - ${status}\" >> /home/user/cert_analysis/analysis.log\ndone\n\n# Sort CSV by days_until_expiry ascending\nsort -t, -k5n /home/user/cert_analysis/expiring_certs.csv -o /home/user/cert_analysis/expiring_certs.csv\n\n# Fix JSON formatting\ntmp_json=\"$(cat /home/user/cert_analysis/errors.json)\"\necho \"${tm"]
[49.768742, "i", "p_json%,*}]\" > /home/user/cert_analysis/errors.json\nEOF"]
[49.768799, "o", "cat > process_certs.sh << 'EOF'\r\n\u001b[?2004l\r"]
[49.768869, "o", "\u001b[?2004h"]
[49.768884, "o", "> "]
[49.768968, "o", "#!/bin/bash\r\n\u001b[?2004l\r"]
[49.769004, "o", "\u001b[?2004h"]
[49.769043, "o", "> \r\n\u001b[?2004l\r"]
[49.769075, "o", "\u001b[?2004h> "]
[49.769215, "o", "# Initialize output files\r\n\u001b[?2004l\r"]
[49.769257, "o", "\u001b[?2004h> "]
[49.769847, "o", "echo \"filename,subject,issuer,not_before,not_after,days_until_expiry,status\" > /home/user/cert_analysis/expiring_certs.csv\r\n\u001b[?2004l\r"]
[49.769881, "o", "\u001b[?2004h"]
[49.76995, "o", "> "]
[49.770131, "o", "echo \"\" > /home/user/cert_analysis/analysis.log\r\n\u001b[?2004l\r"]
[49.770168, "o", "\u001b[?2004h> "]
[49.770409, "o", "printf \"[]\" > /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[49.770446, "o", "\u001b[?2004h"]
[49.770476, "o", "> \r\n\u001b[?2004l\r"]
[49.770505, "o", "\u001b[?2004h> "]
[49.770606, "o", "today_ts=$(date +%s)\r\n"]
[49.770637, "o", "\u001b[?2004l\r\u001b[?2004h"]
[49.770669, "o", "> \r\n\u001b[?2004l\r"]
[49.770702, "o", "\u001b[?2004h> "]
[49.770839, "o", "# Process each .meta file\r\n\u001b[?2004l\r"]
[49.770873, "o", "\u001b[?2004h"]
[49.770901, "o", "> "]
[49.771105, "o", "for meta_file in $(find . -name \"*.meta\"); do\r\n\u001b[?2004l\r"]
[49.771139, "o", "\u001b[?2004h"]
[49.771164, "o", "> "]
[49.771358, "o", "    # Extract filename and path components\r\n\u001b[?2004l\r"]
[49.771389, "o", "\u001b[?2004h"]
[49.771418, "o", "> "]
[49.771575, "o", "    crt_file=\"${meta_file%.*}.crt\"\r\n\u001b[?2004l\r"]
[49.771609, "o", "\u001b[?2004h"]
[49.771637, "o", "> "]
[49.771863, "o", "    base_name=$(basename -- \"${meta_file%.*}\")\r\n\u001b[?2004l\r"]
[49.771898, "o", "\u001b[?2004h"]
[49.771925, "o", "> "]
[49.77195, "o", "    \r\n\u001b[?2004l\r"]
[49.771974, "o", "\u001b[?2004h> "]
[49.772105, "o", "    # Read metadata line\r\n\u001b[?2004l\r"]
[49.77214, "o", "\u001b[?2004h> "]
[49.772362, "o", "    if ! read -r line < \"${meta_file}\"; then\r\n\u001b[?2004l\r"]
[49.772391, "o", "\u001b[?2004h"]
[49.77242, "o", "> "]
[49.772869, "o", "        echo \"Error reading ${meta_file}\" >> /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[49.772916, "o", "\u001b[?2004h> "]
[49.773008, "o", "        continue\r\n\u001b[?2004l\r"]
[49.773037, "o", "\u001b[?2004h"]
[49.773067, "o", "> "]
[49.7731, "o", "    fi\r\n\u001b[?2004l\r"]
[49.773133, "o", "\u001b[?2004h> "]
[49.773163, "o", "    \r\n\u001b[?2004l\r"]
[49.773194, "o", "\u001b[?2004h"]
[49.773223, "o", "> "]
[49.773376, "o", "    # Parse metadata fields\r\n\u001b[?2004l\r\u001b[?2004h> "]
[49.7736, "o", "    IFS='|' read -ra fields <<< \"${line}\"\r\n\u001b[?2004l\r\u001b[?2004h"]
[49.773659, "o", "> "]
[49.773767, "o", "    subject=\"${fields[0]}\"\r\n\u001b[?2004l\r"]
[49.773806, "o", "\u001b[?2004h> "]
[49.77394, "o", "    issuer=\"${fields[1]}\"\r\n\u001b[?2004l\r"]
[49.773975, "o", "\u001b[?2004h> "]
[49.774129, "o", "    not_before=\"${fields[2]}\"\r\n\u001b[?2004l\r"]
[49.774168, "o", "\u001b[?2004h"]
[49.774205, "o", "> "]
[49.774312, "o", "    not_after=\"${fields[3]}\"\r\n\u001b[?2004l\r"]
[49.774344, "o", "\u001b[?2004h"]
[49.77438, "o", "> "]
[49.774509, "o", "    checksum_meta=\"${fields[4]}\"\r\n\u001b[?2004l\r"]
[49.774544, "o", "\u001b[?2004h"]
[49.774587, "o", ">     \r\n\u001b[?2004l\r"]
[49.774635, "o", "\u001b[?2004h> "]
[49.774865, "o", "    # Validation 1: Check if .crt file exists\r\n\u001b[?2004l\r"]
[49.774907, "o", "\u001b[?2004h> "]
[49.775082, "o", "    if [ ! -f \"${crt_file}\" ]; then\r\n\u001b[?2004l\r"]
[49.775109, "o", "\u001b[?2004h"]
[49.775144, "o", "> "]
[49.775262, "o", "        # Update errors.json\r\n\u001b[?2004l\r"]
[49.7753, "o", "\u001b[?2004h"]
[49.775336, "o", "> "]
[49.775611, "o", "        tmp_json=\"$(cat /home/user/cert_analysis/errors.json)\"\r\n\u001b[?2004l\r"]
[49.775638, "o", "\u001b[?2004h"]
[49.775673, "o", "> "]
[49.776306, "o", "        echo \"${tmp_json%,*},\\n\\t{\\\"filename\\\": \\\"${base_name}.meta\\\", \\\"reason\\\": \\\"MISSING_CRT\\\"}\" > /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[49.776353, "o", "\u001b[?2004h> "]
[49.776442, "o", "        continue\r\n\u001b[?2004l\r"]
[49.776473, "o", "\u001b[?2004h"]
[49.776511, "o", "> "]
[49.776546, "o", "    fi\r\n\u001b[?2004l\r"]
[49.776581, "o", "\u001b[?2004h> "]
[49.776618, "o", "    \r\n\u001b[?2004l\r"]
[49.776652, "o", "\u001b[?2004h> "]
[49.776856, "o", "    # Validation 2: Verify dates are valid\r\n\u001b[?2004l\r"]
[49.776883, "o", "\u001b[?2004h"]
[49.776924, "o", "> "]
[49.777398, "o", "    if ! date -d \"${not_before}\" +%F >/dev/null 2>&1 || ! date -d \"${not_after}\" +%F >/dev/null 2>&1; then\r\n\u001b[?2004l\r"]
[49.777431, "o", "\u001b[?2004h"]
[49.777466, "o", "> "]
[49.777746, "o", "        tmp_json=\"$(cat /home/user/cert_analysis/errors.json)\"\r\n\u001b[?2004l\r"]
[49.777782, "o", "\u001b[?2004h"]
[49.77782, "o", "> "]
[49.778459, "o", "        echo \"${tmp_json%,*},\\n\\t{\\\"filename\\\": \\\"${base_name}.meta\\\", \\\"reason\\\": \\\"INVALID_DATE\\\"}\" > /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[49.7785, "o", "\u001b[?2004h> "]
[49.778584, "o", "        continue\r\n\u001b[?2004l\r"]
[49.778611, "o", "\u001b[?2004h"]
[49.778653, "o", "> "]
[49.778688, "o", "    fi\r\n\u001b[?2004l\r\u001b[?2004h"]
[49.778725, "o", ">     \r\n"]
[49.778787, "o", "\u001b[?2004l\r\u001b[?2004h> "]
[49.778951, "o", "    # Convert dates to timestamps\r\n\u001b[?2004l\r"]
[49.77899, "o", "\u001b[?2004h> "]
[49.779227, "o", "    not_before_ts=$(date -d \"${not_before}\" +%s)\r\n\u001b[?2004l\r"]
[49.779264, "o", "\u001b[?2004h> "]
[49.779495, "o", "    not_after_ts=$(date -d \"${not_after}\" +%s)\r\n\u001b[?2004l\r"]
[49.779535, "o", "\u001b[?2004h> "]
[49.779571, "o", "    \r\n\u001b[?2004l\r"]
[49.779605, "o", "\u001b[?2004h> "]
[49.779798, "o", "    # Validation 3: Verify checksum\r\n\u001b[?2004l\r"]
[49.779838, "o", "\u001b[?2004h> "]
[49.780127, "o", "    checksum_actual=$(sha256sum \"${crt_file}\" | awk '{print $1}')\r\n\u001b[?2004l\r"]
[49.78016, "o", "\u001b[?2004h"]
[49.780186, "o", "> "]
[49.780465, "o", "    if [ \"${checksum_actual}\" != \"${checksum_meta}\" ]; then\r\n\u001b[?2004l\r"]
[49.780528, "o", "\u001b[?2004h> "]
[49.780831, "o", "        tmp_json=\"$(cat /home/user/cert_analysis/errors.json)\"\r\n\u001b[?2004l\r"]
[49.780879, "o", "\u001b[?2004h> "]
[49.781568, "o", "        echo \"${tmp_json%,*},\\n\\t{\\\"filename\\\": \\\"${base_name}.meta\\\", \\\"reason\\\": \\\"CHECKSUM_MISMATCH\\\"}\" > /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[49.781601, "o", "\u001b[?2004h"]
[49.781631, "o", "> "]
[49.781716, "o", "        continue\r\n\u001b[?2004l\r"]
[49.781756, "o", "\u001b[?2004h"]
[49.781786, "o", "> "]
[49.781817, "o", "    fi\r\n\u001b[?2004l\r"]
[49.781853, "o", "\u001b[?2004h"]
[49.781884, "o", "> "]
[49.781918, "o", "    \r\n\u001b[?2004l\r"]
[49.78195, "o", "\u001b[?2004h> "]
[49.782128, "o", "    # Calculate days until expiry\r\n\u001b[?2004l\r"]
[49.782161, "o", "\u001b[?2004h"]
[49.782191, "o", "> "]
[49.782474, "o", "    days_until_expiry=$(((not_after_ts - today_ts) / 86400))\r\n\u001b[?2004l\r"]
[49.782511, "o", "\u001b[?2004h> "]
[49.782554, "o", "    \r\n\u001b[?2004l\r"]
[49.782585, "o", "\u001b[?2004h"]
[49.782617, "o", "> "]
[49.782728, "o", "    # Determine status\r\n\u001b[?2004l\r"]
[49.782777, "o", "\u001b[?2004h> "]
[49.783001, "o", "    if [ ${days_until_expiry} -gt 30 ]; then\r\n\u001b[?2004l\r"]
[49.783031, "o", "\u001b[?2004h"]
[49.783061, "o", "> "]
[49.78316, "o", "        status=\"OK\"\r\n\u001b[?2004l\r"]
[49.783196, "o", "\u001b[?2004h"]
[49.783228, "o", "> "]
[49.783442, "o", "    elif [ ${days_until_expiry} -ge 0 ]; then\r\n\u001b[?2004l\r"]
[49.783478, "o", "\u001b[?2004h> "]
[49.783641, "o", "        status=\"EXPIRING_SOON\"\r\n\u001b[?2004l\r"]
[49.783678, "o", "\u001b[?2004h> "]
[49.783749, "o", "    else\r\n\u001b[?2004l\r"]
[49.783784, "o", "\u001b[?2004h"]
[49.783813, "o", "> "]
[49.783935, "o", "        status=\"EXPIRED\"\r\n\u001b[?2004l\r"]
[49.783963, "o", "\u001b[?2004h"]
[49.783993, "o", "> "]
[49.784032, "o", "    fi\r\n\u001b[?2004l\r"]
[49.784063, "o", "\u001b[?2004h"]
[49.784093, "o", "> "]
[49.784129, "o", "    \r\n\u001b[?2004l\r"]
[49.784158, "o", "\u001b[?2004h> "]
[49.784256, "o", "    # Add to CSV\r\n\u001b[?2004l\r"]
[49.784286, "o", "\u001b[?2004h"]
[49.784315, "o", "> "]
[49.785032, "o", "    echo \"${base_name}.crt,${subject},${issuer},${not_before},${not_after},${days_until_expiry},${status}\" >> /home/user/cert_analysis/expiring_certs.csv\r\n\u001b[?2004l\r"]
[49.785064, "o", "\u001b[?2004h"]
[49.785094, "o", "> "]
[49.785126, "o", "    \r\n\u001b[?2004l\r"]
[49.785159, "o", "\u001b[?2004h> "]
[49.785262, "o", "    # Add to log\r\n\u001b[?2004l\r"]
[49.785296, "o", "\u001b[?2004h"]
[49.785326, "o", "> "]
[49.785528, "o", "    timestamp=$(date '+%Y-%m-%d %H:%M:%S')\r\n\u001b[?2004l\r"]
[49.785565, "o", "\u001b[?2004h"]
[49.785596, "o", "> "]
[49.786089, "o", "    echo \"${timestamp} Processed ${base_name}.crt - ${status}\" >> /home/user/cert_analysis/analysis.log\r\n\u001b[?2004l\r"]
[49.786128, "o", "\u001b[?2004h> "]
[49.78617, "o", "done\r\n\u001b[?2004l\r"]
[49.786202, "o", "\u001b[?2004h"]
[49.786233, "o", "> \r\n\u001b[?2004l\r"]
[49.786261, "o", "\u001b[?2004h"]
[49.78629, "o", "> "]
[49.78649, "o", "# Sort CSV by days_until_expiry ascending\r\n\u001b[?2004l\r"]
[49.786519, "o", "\u001b[?2004h"]
[49.786549, "o", "> "]
[49.787043, "o", "sort -t, -k5n /home/user/cert_analysis/expiring_certs.csv -o /home/user/cert_analysis/expiring_certs.csv\r\n\u001b[?2004l\r"]
[49.78708, "o", "\u001b[?2004h"]
[49.78711, "o", "> \r\n\u001b[?2004l\r"]
[49.787139, "o", "\u001b[?2004h> "]
[49.787262, "o", "# Fix JSON formatting\r\n\u001b[?2004l\r"]
[49.787292, "o", "\u001b[?2004h"]
[49.787324, "o", "> "]
[49.787589, "o", "tmp_json=\"$(cat /home/user/cert_analysis/errors.json)\"\r\n\u001b[?2004l\r"]
[49.78762, "o", "\u001b[?2004h"]
[49.787667, "o", "> "]
[49.787966, "o", "echo \"${tmp_json%,*}]\" > /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[49.787998, "o", "\u001b[?2004h"]
[49.788027, "o", "> EOF"]
[51.634504, "i", "chmod +x process_certs.sh\n"]
[51.634686, "o", "chmod +x process_certs.sh\r\n"]
[51.634697, "o", "\u001b[?2004l\r"]
[51.634777, "o", "\u001b[?2004h> "]
[51.76199, "i", "./process_certs.sh\n"]
[51.76225, "o", "./process_certs.sh\r\n\u001b[?2004l\r"]
[51.762328, "o", "\u001b[?2004h> "]
[64.291286, "i", "ls -la /home/user/cert_analysis/\n"]
[64.291565, "o", "ls -la /home/user/cert_analysis/\r\n"]
[64.291601, "o", "\u001b[?2004l\r"]
[64.291637, "o", "\u001b[?2004h"]
[64.291646, "o", "> "]
[73.446974, "i", "ls -la /home/user/cert_analysis/ | cat\n"]
[73.447286, "o", "ls -la /home/user/cert_analysis/ | cat\r\n\u001b[?2004l\r"]
[73.447336, "o", "\u001b[?2004h"]
[73.447369, "o", "> "]
[83.715314, "i", "ls /home/user/cert_analysis/expiring_certs.csv\n"]
[83.715642, "o", "ls /home/user/cert_analysis/expiring_certs.csv\r\n"]
[83.715679, "o", "\u001b[?2004l\r"]
[83.715699, "o", "\u001b[?2004h"]
[83.715719, "o", "> "]
[83.905335, "i", "ls /home/user/cert_analysis/analysis.log\n"]
[83.905699, "o", "ls /home/user/cert_analysis/analysis.log\r\n\u001b[?2004l\r"]
[83.905786, "o", "\u001b[?2004h"]
[83.905829, "o", "> "]
[84.080381, "i", "ls /home/user/cert_analysis/errors.json\n"]
[84.080683, "o", "ls /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[84.080752, "o", "\u001b[?2004h"]
[84.080807, "o", "> "]
[99.177149, "i", "cat > simple_test.sh << 'EOF'\n#!/bin/bash\n\n# Test processing one certificate\nmeta_file=\"./broken/server_bad_hash.meta\"\n\necho \"Testing ${meta_file}\"\n\n# Initialize output files\necho \"filename,subject,issuer,not_before,not_after,days_until_expiry,status\" > /home/user/cert_analysis/expiring_certs.csv\necho \"\" > /home/user/cert_analysis/analysis.log\nprintf \"[]\" > /home/user/cert_analysis/errors.json\n\ntoday_ts=$(date +%s)\n\ncrt_file=\"${meta_file%.*}.crt\"\nbase_name=$(basename -- \"${meta_file%.*}\")\n\necho \"Base name: ${base_name}\"\necho \"CRT file: ${crt_file}\"\n\n# Test if CRT file exists\nif [ ! -f \"${crt_file}\" ]; then\n    echo \"CRT file missing\"\nelse\n    echo \"CRT file exists\"\nfi\nEOF"]
[99.177321, "o", "cat > simple_test.sh << 'EOF'\r\n\u001b[?2004l\r"]
[99.177336, "o", "\u001b[?2004h"]
[99.177404, "o", "> #!/bin/bash\r\n\u001b[?2004l\r\u001b[?2004h> "]
[99.177418, "o", "\r\n\u001b[?2004l\r"]
[99.177474, "o", "\u001b[?2004h> "]
[99.177546, "o", "# Test processing one certificate\r\n\u001b[?2004l\r"]
[99.177558, "o", "\u001b[?2004h"]
[99.177609, "o", "> "]
[99.177695, "o", "meta_file=\"./broken/server_bad_hash.meta\"\r\n\u001b[?2004l\r"]
[99.177707, "o", "\u001b[?2004h"]
[99.17777, "o", "> \r\n\u001b[?2004l\r\u001b[?2004h"]
[99.177783, "o", "> "]
[99.177848, "o", "echo \"Testing ${meta_file}\"\r\n\u001b[?2004l\r"]
[99.17786, "o", "\u001b[?2004h"]
[99.177915, "o", "> \r\n\u001b[?2004l\r\u001b[?2004h> "]
[99.177982, "o", "# Initialize output files\r\n\u001b[?2004l\r"]
[99.177994, "o", "\u001b[?2004h"]
[99.178009, "o", "> "]
[99.17836, "o", "echo \"filename,subject,issuer,not_before,not_after,days_until_expiry,status\" > /home/user/cert_analysis/expiring_certs.csv\r\n\u001b[?2004l\r"]
[99.17838, "o", "\u001b[?2004h> "]
[99.178524, "o", "echo \"\" > /home/user/cert_analysis/analysis.log\r\n\u001b[?2004l\r"]
[99.178536, "o", "\u001b[?2004h"]
[99.178588, "o", "> "]
[99.178706, "o", "printf \"[]\" > /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[99.178762, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r\u001b[?2004h"]
[99.178774, "o", "> "]
[99.178841, "o", "today_ts=$(date +%s)\r\n\u001b[?2004l\r"]
[99.178853, "o", "\u001b[?2004h"]
[99.178906, "o", "> \r\n\u001b[?2004l\r\u001b[?2004h> "]
[99.178993, "o", "crt_file=\"${meta_file%.*}.crt\"\r\n\u001b[?2004l\r"]
[99.179005, "o", "\u001b[?2004h"]
[99.179057, "o", "> "]
[99.179156, "o", "base_name=$(basename -- \"${meta_file%.*}\")\r\n\u001b[?2004l\r"]
[99.179167, "o", "\u001b[?2004h"]
[99.179218, "o", "> \r\n\u001b[?2004l\r\u001b[?2004h> "]
[99.179292, "o", "echo \"Base name: ${base_name}\"\r\n\u001b[?2004l\r"]
[99.179304, "o", "\u001b[?2004h"]
[99.179353, "o", "> "]
[99.179389, "o", "echo \"CRT file: ${crt_file}\"\r\n\u001b[?2004l\r"]
[99.179401, "o", "\u001b[?2004h> \r\n"]
[99.179452, "o", "\u001b[?2004l\r\u001b[?2004h> "]
[99.179503, "o", "# Test if CRT file exists\r\n\u001b[?2004l\r"]
[99.179514, "o", "\u001b[?2004h"]
[99.179563, "o", "> "]
[99.179606, "o", "if [ ! -f \"${crt_file}\" ]; then\r\n\u001b[?2004l\r"]
[99.179618, "o", "\u001b[?2004h"]
[99.179667, "o", "> "]
[99.17971, "o", "    echo \"CRT file missing\"\r\n\u001b[?2004l\r\u001b[?2004h"]
[99.179722, "o", "> "]
[99.17978, "o", "else\r\n\u001b[?2004l\r\u001b[?2004h> "]
[99.179831, "o", "    echo \"CRT file exists\"\r\n\u001b[?2004l\r"]
[99.179843, "o", "\u001b[?2004h"]
[99.179891, "o", "> fi\r\n\u001b[?2004l\r\u001b[?2004h> EOF"]
[100.285094, "i", "chmod +x simple_test.sh\n"]
[100.285357, "o", "chmod +x simple_test.sh\r\n\u001b[?2004l\r"]
[100.285422, "o", "\u001b[?2004h> "]
[100.446202, "i", "./simple_test.sh\n"]
[100.446364, "o", "./simple_test.sh\r\n"]
[100.446388, "o", "\u001b[?2004l\r"]
[100.446424, "o", "\u001b[?2004h"]
[100.446444, "o", "> "]
[111.659347, "i", "cat /home/user/cert_analysis/expiring_certs.csv\n"]
[111.659562, "o", "cat /home/user/cert_analysis/expiring_certs.csv\r\n\u001b[?2004l\r"]
[111.659619, "o", "\u001b[?2004h> "]
[111.860802, "i", "cat /home/user/cert_analysis/analysis.log\n"]
[111.861199, "o", "cat /home/user/cert_analysis/analysis.log\r\n\u001b[?2004l\r"]
[111.861281, "o", "\u001b[?2004h> "]
[112.188881, "i", "cat /home/user/cert_analysis/errors.json\n"]
[112.1893, "o", "cat /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[112.189384, "o", "\u001b[?2004h> "]
[112.489706, "i", "cat ./broken/server_bad_hash.meta\n"]
[112.489997, "o", "cat ./broken/server_bad_hash.meta\r\n\u001b[?2004l\r"]
[112.490053, "o", "\u001b[?2004h"]
[112.490092, "o", "> "]
[124.395953, "i", "cat > verify_files.sh << 'EOF'\n#!/bin/bash\n\n# Verify file creation with absolute paths\necho \"Testing file writes...\"\n\necho \"filename,subject,issuer,not_before,not_after,days_until_expiry,status\" > /home/user/cert_analysis/expiring_certs.csv\necho \"Test log entry\" > /home/user/cert_analysis/analysis.log\necho \"[]\" > /home/user/cert_analysis/errors.json\n\necho \"Files created successfully\"\nEOF"]
[124.396227, "o", "cat > verify_files.sh << 'EOF'\r\n\u001b[?2004l\r"]
[124.396294, "o", "\u001b[?2004h> "]
[124.396381, "o", "#!/bin/bash\r\n\u001b[?2004l\r"]
[124.396421, "o", "\u001b[?2004h> "]
[124.396464, "o", "\r\n\u001b[?2004l\r\u001b[?2004h"]
[124.396509, "o", "> "]
[124.396755, "o", "# Verify file creation with absolute paths\r\n\u001b[?2004l\r"]
[124.396815, "o", "\u001b[?2004h> "]
[124.396981, "o", "echo \"Testing file writes...\"\r\n\u001b[?2004l\r"]
[124.397018, "o", "\u001b[?2004h"]
[124.397058, "o", "> \r\n\u001b[?2004l\r\u001b[?2004h"]
[124.397104, "o", "> "]
[124.39782, "o", "echo \"filename,subject,issuer,not_before,not_after,days_until_expiry,status\" > /home/user/cert_analysis/expiring_certs.csv\r\n\u001b[?2004l\r"]
[124.397897, "o", "\u001b[?2004h> "]
[124.398237, "o", "echo \"Test log entry\" > /home/user/cert_analysis/analysis.log\r\n\u001b[?2004l\r"]
[124.398283, "o", "\u001b[?2004h> "]
[124.398582, "o", "echo \"[]\" > /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[124.398632, "o", "\u001b[?2004h> \r\n\u001b[?2004l\r"]
[124.398683, "o", "\u001b[?2004h> "]
[124.398894, "o", "echo \"Files created successfully\"\r\n\u001b[?2004l\r"]
[124.398942, "o", "\u001b[?2004h> "]
[124.398985, "o", "EOF"]
[125.309876, "i", "chmod +x verify_files.sh\n"]
[125.31005, "o", "chmod +x verify_files.sh\r\n"]
[125.310077, "o", "\u001b[?2004l\r"]
[125.310137, "o", "\u001b[?2004h> "]
[125.444821, "i", "./verify_files.sh\n"]
[125.445015, "o", "./verify_files.sh\r\n\u001b[?2004l\r\u001b[?2004h"]
[125.445082, "o", "> "]
[126.133235, "i", "ls -la /home/user/cert_analysis/\n"]
[126.133421, "o", "ls -la /home/user/cert_analysis/\r\n\u001b[?2004l\r\u001b[?2004h> "]
[135.941056, "i", "echo \"=== Listing cert_analysis directory ===\"\nls -la /home/user/cert_analysis/ > listing.txt\n"]
[135.941502, "o", "echo \"=== Listing cert_analysis directory ===\"\r\n\u001b[?2004l\r"]
[135.941583, "o", "\u001b[?2004h> "]
[135.941925, "o", "ls -la /home/user/cert_analysis/ > listing.txt\r\n\u001b[?2004l\r"]
[135.941981, "o", "\u001b[?2004h> "]
[136.398804, "i", "echo \"=== Listing content ===\"\ncat listing.txt\n"]
[136.399127, "o", "echo \"=== Listing content ===\"\r\n\u001b[?2004l\r"]
[136.399192, "o", "\u001b[?2004h> "]
[136.39928, "o", "cat listing.txt\r\n\u001b[?2004l\r"]
[136.399323, "o", "\u001b[?2004h"]
[136.399372, "o", "> "]
[136.877501, "i", "echo \"=== Testing file creation ===\"\ntouch /home/user/cert_analysis/test_file.txt\necho \"File created\"\n"]
[136.877779, "o", "echo \"=== Testing file creation ===\"\r\n\u001b[?2004l\r"]
[136.877826, "o", "\u001b[?2004h"]
[136.877867, "o", "> "]
[136.878075, "o", "touch /home/user/cert_analysis/test_file.txt\r\n\u001b[?2004l\r"]
[136.878111, "o", "\u001b[?2004h> "]
[136.87822, "o", "echo \"File created\"\r\n\u001b[?2004l\r"]
[136.878254, "o", "\u001b[?2004h"]
[136.87829, "o", "> "]
[145.404629, "i", "pwd\n"]
[145.404807, "o", "pwd\r\n\u001b[?2004l\r"]
[145.404861, "o", "\u001b[?2004h> "]
[145.55854, "i", "whoami\n"]
[145.558688, "o", "whoami\r\n\u001b[?2004l\r\u001b[?2004h> "]
[145.761055, "i", "touch test_output.txt\necho \"test content\" > test_output.txt\n"]
[145.761282, "o", "touch test_output.txt\r\n\u001b[?2004l\r"]
[145.761388, "o", "\u001b[?2004h> "]
[145.761612, "o", "echo \"test content\" > test_output.txt\r\n\u001b[?2004l\r"]
[145.761651, "o", "\u001b[?2004h"]
[145.7617, "o", "> "]
[146.259293, "i", "cat test_output.txt\n"]
[146.259485, "o", "cat test_output.txt\r\n\u001b[?2004l\r"]
[146.25954, "o", "\u001b[?2004h"]
[146.259579, "o", "> "]
[155.307276, "i", "ls -la /home/user/\n"]
[155.307501, "o", "ls -la /home/user/\r\n"]
[155.307514, "o", "\u001b[?2004l\r"]
[155.307607, "o", "\u001b[?2004h> "]
[155.801201, "i", "stat /home/user/cert_analysis/\n"]
[155.801329, "o", "stat /home/user/cert_analysis/\r\n\u001b[?2004l\r"]
[155.801374, "o", "\u001b[?2004h> "]
[156.28449, "i", "echo \"test\" > /tmp/test_permissions.txt\n"]
[156.284846, "o", "echo \"test\" > /tmp/test_permissions.txt\r\n\u001b[?2004l\r"]
[156.284929, "o", "\u001b[?2004h"]
[156.284975, "o", "> "]
[156.617433, "i", "cat /tmp/test_permissions.txt\n"]
[156.617689, "o", "cat /tmp/test_permissions.txt\r\n\u001b[?2004l\r"]
[156.617772, "o", "\u001b[?2004h"]
[156.617807, "o", "> "]
[169.113103, "i", "find . -name \"*.meta\" -exec basename {} \\; | head -3\n"]
[169.113614, "o", "find . -name \"*.meta\" -exec basename {} \\; | head -3\r\n\u001b[?2004l\r"]
[169.113684, "o", "\u001b[?2004h"]
[169.11375, "o", "> "]
[169.857035, "i", "meta_file=\"./web/server_ok.meta\"\n"]
[169.857386, "o", "meta_file=\"./web/server_ok.meta\"\r\n\u001b[?2004l\r"]
[169.857447, "o", "\u001b[?2004h> "]
[169.992713, "i", "cat \"$meta_file\"\n"]
[169.992929, "o", "cat \"$meta_file\"\r\n\u001b[?2004l\r\u001b[?2004h"]
[169.992985, "o", "> "]
[170.324636, "i", "crt_file=\"${meta_file%.*}.crt\"\n"]
[170.325004, "o", "crt_file=\"${meta_file%.*}.crt\"\r\n\u001b[?2004l\r"]
[170.325072, "o", "\u001b[?2004h> "]
[170.597027, "i", "echo \"CRT file: $crt_file\"\n"]
[170.597291, "o", "echo \"CRT file: $crt_file\"\r\n"]
[170.597349, "o", "\u001b[?2004l\r"]
[170.597408, "o", "\u001b[?2004h> "]
[170.76, "i", "[ -f \"$crt_file\" ] && echo \"CRT file exists\" || echo \"CRT file missing\"\n"]
[170.760268, "o", "[ -f \"$crt_file\" ] && echo \"CRT file exists\" || echo \"CRT file missing\"\r\n\u001b[?2004l\r"]
[170.760331, "o", "\u001b[?2004h> "]
[226.358814, "i", "./final_cert_processor.sh 2>/dev/null && echo \"Script executed\"\n"]
[226.359208, "o", "./final_cert_processor.sh 2>/dev/null && echo \"Script executed\"\r\n\u001b[?2004l\r"]
[226.359265, "o", "\u001b[?2004h> "]
[231.368447, "i", "if [ -f /home/user/cert_analysis/expiring_certs.csv ]; then echo \"CSV exists\"; fi\n"]
[231.369139, "o", "if [ -f /home/user/cert_analysis/expiring_certs.csv ]; then echo \"CSV exists\"; fi\r\n\u001b[?2004l\r"]
[231.369205, "o", "\u001b[?2004h"]
[231.369264, "o", "> "]
[231.710246, "i", "if [ -f /home/user/cert_analysis/analysis.log ]; then echo \"Log exists\"; fi\n"]
[231.710876, "o", "if [ -f /home/user/cert_analysis/analysis.log ]; then echo \"Log exists\"; fi\r\n\u001b[?2004l\r"]
[231.710951, "o", "\u001b[?2004h"]
[231.711039, "o", "> "]
[232.064548, "i", "if [ -f /home/user/cert_analysis/errors.json ]; then echo \"JSON exists\"; fi\n"]
[232.065124, "o", "if [ -f /home/user/cert_analysis/errors.json ]; then echo \"JSON exists\"; fi\r\n\u001b[?2004l\r"]
[232.065185, "o", "\u001b[?2004h> "]
[232.233759, "i", "wc -l /home/user/cert_analysis/expiring_certs.csv\n"]
[232.23408, "o", "wc -l /home/user/cert_analysis/expiring_certs.csv\r\n\u001b[?2004l\r"]
[232.234131, "o", "\u001b[?2004h"]
[232.234174, "o", "> "]
[232.571216, "i", "tail -1 /home/user/cert_analysis/errors.json\n"]
[232.571608, "o", "tail -1 /home/user/cert_analysis/errors.json\r\n\u001b[?2004l\r"]
[232.571677, "o", "\u001b[?2004h"]
[232.57172, "o", "> "]
