New Terminal Output:

ted message.txt
root@fb6ac34e-364a-484b-9905-7cd722936e86:/home/user/work/integration# head -20 message.txt
POST /v1/payments
X-Correlation-ID: 88552211-beef-cafe-1337-998877665544
{"currency": "USD", "amount": 150}
root@fb6ac34e-364a-484b-9905-7cd722936e86:/home/user/work/integration# if command -v jq &> /dev/null; then echo "jq available, using it to parse amount"; amount
_value=$(jq -r '.amount' < message.txt); else echo "jq not available, using grep"; amount_value=$(grep -zoP '"amount":\s*\K[0-9]+' message.txt | head -n1 | tr -
d '\000\r'); fi
jq not available, using grep
root@fb6ac34e-364a-484b-9905-7cd722936e86:/home/user/work/integration# echo "Extracted amount_value: $amount_value"
Extracted amount_value: 150
root@fb6ac34e-364a-484b-9905-7cd722936e86:/home/user/work/integration#
