New Terminal Output:

root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# export GNUPGHOME=./secure_gnupg
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# CORRELATION_ID=$(grep -m 1 'X-Correlation-ID:' message.txt | sed -E "s/X-Correlation-ID:
*//")
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# echo "Correlation ID: '$CORRELATION_ID'"
'orrelation ID: '88552211-beef-cafe-1337-998877665544
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# AMOUNT=$(grep -o '"amount": [0-9]\+' message.txt | sed -E 's/"amount": //')
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# echo "Amount: '$AMOUNT'"
Amount: '150'
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# REVERSED_ID=$(echo "$CORRELATION_ID" | rev)
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# echo "Reversed ID: '$REVERSED_ID'"
445566778899-7331-efac-feeb-11225588'
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# PRODUCT=$(($AMOUNT * 0x1F)) # 0x1F is 31 in decimal
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# echo "Product (Amount * 0x1F): '$PRODUCT'"
Product (Amount * 0x1F): '4650'
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# PASSPHRASE="$REVERSED_ID-$PRODUCT"
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# echo "Passphrase for encryption: '$PASSPHRASE'"
445566778899-7331-efac-feeb-11225588-4650'
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration# echo "$PASSPHRASE" | gpg --batch --no-tty --homedir ./secure_gnupg --symmetric --cipher-a
lgo AES256 --output payload.encrypted --pinentry-mode loopback message.txt
gpg: Sorry, we are in batchmode - can't get input
root@d5074937-613b-4e52-a479-9a2a5265ea0f:/home/user/work/integration#
