Running tests: tests/common/protocol/test_wire.py::TestWireProtocol::test_report_event_multiple_events_to_fill_buffer tests/common/protocol/test_wire.py::TestWireProtocol::test_report_event_small_event 
FAIL: Tests failed (exit code: 1)
============================= test session starts ==============================
platform linux -- Python 3.10.19, pytest-9.0.2, pluggy-1.6.0 -- /usr/local/bin/python3.10
cachedir: .pytest_cache
rootdir: /workspace/repo
plugins: mock-3.15.1, timeout-2.4.0
timeout: 60.0s
timeout method: signal
timeout func_only: False
collecting ... collected 2 items

tests/common/protocol/test_wire.py::TestWireProtocol::test_report_event_multiple_events_to_fill_buffer FAILED [ 50%]
tests/common/protocol/test_wire.py::TestWireProtocol::test_report_event_small_event FAILED [100%]

=================================== FAILURES ===================================
______ TestWireProtocol.test_report_event_multiple_events_to_fill_buffer _______
tests/common/protocol/test_wire.py:472: in test_report_event_multiple_events_to_fill_buffer
    self.assertEqual(patch_send_event.call_count, 2)
E   AssertionError: 0 != 2
________________ TestWireProtocol.test_report_event_small_event ________________
tests/common/protocol/test_wire.py:458: in test_report_event_small_event
    self.assertEqual(patch_send_event.call_count, 1)
E   AssertionError: 0 != 1
=============================== warnings summary ===============================
azurelinuxagent/common/future.py:133
  /workspace/repo/azurelinuxagent/common/future.py:133: DeprecationWarning: distro.linux_distribution() is deprecated. It should only be used as a compatibility shim with Python's platform.linux_distribution(). Please use distro.id(), distro.version() and distro.name() instead.
    distro.linux_distribution(

azurelinuxagent/common/future.py:137
  /workspace/repo/azurelinuxagent/common/future.py:137: DeprecationWarning: distro.linux_distribution() is deprecated. It should only be used as a compatibility shim with Python's platform.linux_distribution(). Please use distro.id(), distro.version() and distro.name() instead.
    full_name = distro.linux_distribution()[0].strip()

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/common/protocol/test_wire.py::TestWireProtocol::test_report_event_multiple_events_to_fill_buffer
FAILED tests/common/protocol/test_wire.py::TestWireProtocol::test_report_event_small_event
======================== 2 failed, 2 warnings in 1.41s =========================
