{"version": 2, "width": 160, "height": 40, "timestamp": 1770669932, "env": {"SHELL": "/bin/bash", "TERM": "tmux-256color"}}
[0.004392, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo# "]
[0.944597, "i", "clear\r"]
[0.944832, "o", "clear\r\n\u001b[?2004l\r"]
[0.946568, "o", "\u001b[H\u001b[J\u001b[3J"]
[0.946884, "o", "\u001b[?2004h"]
[0.946976, "o", "root@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo# "]
[4.526302, "i", "cd pygears\n"]
[4.526464, "o", "cd pygears\r\n\u001b[?2004l\r"]
[4.526578, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears# "]
[7.200724, "i", "cd core\n"]
[7.200902, "o", "cd core\r\n\u001b[?2004l\r"]
[7.201082, "o", "\u001b[?2004h"]
[7.201113, "o", "root@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[9.785083, "i", "nano gear_inst.py\n"]
[9.785409, "o", "nano gear_inst.py\r\n\u001b[?2004l\r"]
[9.785951, "o", "bash: nano: command not found\r\n"]
[9.78622, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[16.6821, "i", "vi gear_inst.py\n"]
[16.682339, "o", "vi gear_inst.py\r\n\u001b[?2004l\r"]
[16.682905, "o", "bash: vi: command not found\r\n"]
[16.683283, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[19.583142, "i", "cat gear_inst.py\n"]
[19.583326, "o", "cat gear_inst.py\r\n\u001b[?2004l\r"]
[19.58499, "o", "import inspect\r\nimport fnmatch\r\nimport sys\r\nfrom copy import copy\r\nfrom pygears.core.graph import get_producer_port\r\nfrom pygears.conf import MultiAlternativeError, core_log, reg\r\nfrom pygears.typing import Any, cast, get_match_conds\r\nfrom pygears.core.util import is_standard_func, get_function_context_dict\r\nfrom .partial import Partial\r\nfrom .intf import Intf\r\nfrom .infer_ftypes import TypeMatchError, infer_ftypes, type_is_specified\r\nfrom .gear import TooManyArguments, GearTypeNotSpecified, GearArgsNotSpecified\r\nfrom .gear import Gear, create_hier\r\nfrom .gear_decorator import GearDecoratorPlugin\r\nfrom .gear_memoize import get_memoized_gear, memoize_gear\r\nfrom .port import HDLConsumer, HDLProducer\r\nfrom .channel import channel_interfaces\r\n\r\ndef check(pattern, node):\r\n    if isinstance(pattern, str):\r\n        return fnmatch.fnmatch(node.name, pattern)\r\n    else:\r\n        return pattern(node)\r\n\r\ndef is_traced(node):\r\n    return any((check(p, node) for p in reg['debug/trace']))\r\n\r\ndef get_obj_var_name(frame, obj):\r\n    for (var_name, var_obj) in frame.f_locals.items():\r\n        if obj is var_obj:\r\n            return var_name\r\n    else:\r\n        None\r\n\r\ndef find_current_gear_frame():\r\n    import inspect\r\n    code_map = reg['gear/code_map']\r\n    if not code_map:\r\n        return None\r\n    for (frame, *_) in inspect.stack():\r\n        if frame.f_code is code_map[-1].func.__code__:\r\n            return frame\r\n    else:\r\n        return None\r\noper_name = {'__add__': '+', '__and__': '&', '__floordiv__': '/', '__truediv__': '//', '__eq__': '==', '__ge__': '>=', '__gt__': '>', '__invert__': '~', '__le__': '<=', '__lt__': '<', '__lshift__': '<<', '__matmul__': '@', '__mod__': '%', '__mul__': '*', '__ne__': '!=', '__neg__': '-', '__rshift__': '>>', '__sub__': '-', '__xor__': '^'}\r\n\r\ndef get_operator_name(func):\r\n    for (name, p) in reg['gear/intf_oper'].items():\r\n        if isinstance(p, Partial):\r\n            p = p.func\r\n        if p is func:\r\n            return oper_name[name]\r\n    return None\r\n\r\ndef expand_varargs(args, annotations, varargsname, varargs):\r\n    vararg_type_list = []\r\n    if varargsname in annotations:\r\n        vararg_type = annotations[varargsname]\r\n    else:\r\n        vararg_type = Any\r\n    for (i, a) in enumerate(varargs):\r\n        if isinstance(vararg_type, str):\r\n            type_tmpl_i = vararg_type.format(i).encode()\r\n        else:\r\n            type_tmpl_i = vararg_type\r\n        argname = f'{varargsname}{i}'\r\n        vararg_type_list.append(argname)\r\n        annotations[argname] = type_tmpl_i\r\n        args[argname] = a\r\n    if vararg_type_list:\r\n        annotations[varargsname] = f\"({', '.join(vararg_type_list)}, )\".encode()\r\n\r\ndef infer_params(args, params, context):\r\n    arg_types = {name: arg.dtype for (name, arg) in args.items()}\r\n    return infer_ftypes(params, arg_types, namespace=context)\r\n\r\nclass intf_name_tracer:\r\n\r\n    def __init__(self, gear):\r\n        self.enabled = reg['gear/infer_signal_names']\r\n        if self.enabled == 'debug':\r\n            self.enabled = is_traced(gear)\r\n        if not self.enabled:\r\n            return\r\n        self.code_map = reg['gear/code_map']\r\n        self.gear = gear\r\n\r\n    def tracer(self, frame, event, arg):\r\n        if event == 'return':\r\n            for cm in self.code_map:\r\n                if frame.f_code is cm.func.__code__:\r\n                    cm.func_locals = frame.f_locals.copy()\r\n\r\n    def __enter__(self):\r\n        if not self.enabled:\r\n            return\r\n        self.code_map.append(self.gear)\r\n        if reg['gear/current_module'].parent == reg['gear/root']:\r\n            sys.setprofile(self.tracer)\r\n        return self\r\n\r\n    def __exit__(self, exception_type, exception_value, traceback):\r\n        if not self.enabled:\r\n            return\r\n        cur_gear = reg['gear/current_module']\r\n        if cur_gear.parent == reg['gear/root']:\r\n            sys.setprofile(None)\r\n        cm = self.code_map.pop()\r\n        if exception_type is None and hasattr(cm, 'func_locals'):\r\n            for (name, val) in filter(lambda x: isinstance(x[1], Intf), cm.func_locals.items()):\r\n                if not hasattr(val, 'var_name'):\r\n                    cnt = 0\r\n                    for c in cur_gear.child + cur_gear.in_ports:\r\n                        if c.basename == name:\r\n                            cnt += 1\r\n                    if cnt == 0:\r\n                        val.var_name = name\r\n                    else:\r\n                        val.var_name = f'{name}{cnt}'\r\n\r\ndef resolve_func(gear_inst):\r\n    out_dtype = gear_inst.params.get('return', None)\r\n    if out_dtype is None:\r\n        out_dtype = ()\r\n    elif out_dtype:\r\n        if isinstance(out_dtype, dict):\r\n            out_dtype = tuple(out_dtype.values())\r\n"]
[19.585145, "o", "    if not isinstance(out_dtype, tuple):\r\n        out_dtype = (out_dtype,)\r\n    if not is_standard_func(gear_inst.func):\r\n        return (tuple(), out_dtype)\r\n    with create_hier(gear_inst):\r\n        with intf_name_tracer(gear_inst):\r\n            local_in_intfs = gear_inst.in_port_intfs\r\n            out_intfs = gear_inst.func(*local_in_intfs, **gear_inst.explicit_params)\r\n        if out_intfs is None:\r\n            out_intfs = tuple()\r\n        elif not isinstance(out_intfs, tuple):\r\n            out_intfs = (out_intfs,)\r\n        for (i, intf) in enumerate(out_intfs):\r\n            if isinstance(intf, Partial):\r\n                raise GearArgsNotSpecified(f'Unresolved gear \"{intf.func.__name__}\" with arguments {intf.args} and parameters {intf.kwds}, returned as output \"{i}\": {str(MultiAlternativeError(intf.errors))}')\r\n        err = None\r\n        try:\r\n            (out_intfs, out_dtype) = resolve_out_types(out_intfs, out_dtype, gear_inst)\r\n        except (TypeError, TypeMatchError) as e:\r\n            err = type(e)(f\"{str(e)}\\n    when instantiating '{gear_inst.name}'\")\r\n        if err:\r\n            raise err\r\n    return (out_intfs, out_dtype)\r\n\r\ndef resolve_gear(gear_inst, out_intfs, out_dtype, fix_intfs):\r\n    dflt_dout_name = reg['gear/naming/default_out_name']\r\n    for i in range(len(gear_inst.outnames), len(out_dtype)):\r\n        if out_intfs and hasattr(out_intfs[i], 'var_name'):\r\n            gear_inst.outnames.append(out_intfs[i].var_name)\r\n        else:\r\n            gear_inst.outnames.append(dflt_dout_name if len(out_dtype) == 1 else f'{dflt_dout_name}{i}')\r\n    gear_inst.connect_output(out_intfs, out_dtype)\r\n    intfs = []\r\n    out_intfs = []\r\n    if isinstance(fix_intfs, dict):\r\n        for (i, (name, dt)) in enumerate(zip(gear_inst.outnames, out_dtype)):\r\n            if name in fix_intfs or i in fix_intfs:\r\n                if name in fix_intfs:\r\n                    intf = fix_intfs[name]\r\n                elif i in fix_intfs:\r\n                    intf = fix_intfs[i]\r\n                err = None\r\n                try:\r\n                    get_match_conds(dt, intf.dtype)\r\n                except (TypeError, TypeMatchError) as e:\r\n                    err = type(e)(f\"{str(e)}\\n    when connecting user supplied output interface '{name}' of '{gear_inst.name}'\\n    FIX: Consider changing the type of the supplied output interface '{name}' to '{repr(dt)}'\")\r\n                if err:\r\n                    raise err\r\n            else:\r\n                intf = Intf(dt)\r\n                out_intfs.append(intf)\r\n            intfs.append(intf)\r\n    elif fix_intfs:\r\n        intfs = fix_intfs\r\n    else:\r\n        intfs = [Intf(dt) for dt in out_dtype]\r\n        out_intfs = intfs\r\n    if len(intfs) != len(gear_inst.out_port_intfs):\r\n        raise GearArgsNotSpecified(f\"Received {len(intfs)} output interfaces, while expecting {len(gear_inst.out_port_intfs)}\\n    when instantiating '{gear_inst.name}'\")\r\n    for (intf, port) in zip(intfs, gear_inst.out_ports):\r\n        intf.source(port)\r\n    if any((not type_is_specified(i.dtype) for i in out_intfs)):\r\n        raise GearTypeNotSpecified(f'Output type of the gear \"{gear_inst.name}\" could not be resolved, and resulted in \"{repr(out_dtype)}\"')\r\n    for c in gear_inst.child:\r\n        channel_interfaces(c)\r\n    if len(out_intfs) > 1:\r\n        return tuple(out_intfs)\r\n    elif len(out_intfs) == 1:\r\n        return out_intfs[0]\r\n    else:\r\n        return None\r\n\r\ndef resolve_out_types(out_intfs, out_dtype, gear_inst):\r\n    if out_intfs and (not out_dtype):\r\n        out_dtype = tuple((intf.dtype for intf in out_intfs))\r\n        return (out_intfs, out_dtype)\r\n    if out_intfs:\r\n        if len(out_intfs) != len(out_dtype):\r\n            relation = 'smaller' if len(out_intfs) < len(out_dtype) else 'larger'\r\n            raise TypeMatchError(f\"Number of actual output interfaces ({len(out_intfs)}) is {relation} than the number of specified output types: ({tuple((getattr(i, 'dtype', type(i)) for i in out_intfs))}) vs {repr(out_dtype)}\")\r\n        casted_out_intfs = list(out_intfs)\r\n        for (i, (intf, t)) in enumerate(zip(out_intfs, out_dtype)):\r\n            err = None\r\n            try:\r\n                if intf.dtype != t:\r\n                    cast(intf.dtype, t)\r\n            except (TypeError, TypeMatchError) as e:\r\n                err = type(e)(f'{str(e)}, when casting type for output port {i}')\r\n            if err:\r\n                raise err\r\n        for (i, (intf, t)) in enumerate(zip(out_intfs, out_dtype)):\r\n            if intf.dtype != t:\r\n                from pygears.lib.cast import cast as cast_gear\r\n                casted_out_intfs[i] = cast_gear(intf, t=t)\r\n        out_intfs = tuple(casted_out_intfs)\r\n        return (out_intfs, out_dtype)\r\n    return (out_intfs, out_dtype)\r\n\r\ndef terminate_internal_intfs(gear_inst):\r\n    if not is_standard_func(gear_inst.func):\r\n        for p in gear_inst.in_ports:\r\n            if p.consumer is not None:\r\n                p.consumer.connect(HDLConsumer())\r\n        for i in gear_inst.out_port_intfs:\r\n            i.source(HDLProducer())\r\n\r\nclass GearInstPlugin(GearDecoratorPlugin):\r\n\r\n    @classmethod\r\n    def bind(cls):\r\n        reg['gear/code_map'] = []\r\n        reg['gear/gear_dflt_resolver'] = gear_base_resolver\r\n        reg.confdef('gear/memoize', False)\r\n        reg.confdef('gear/infer_signal_names', 'debug')\r\n        reg.confdef('debug/trace', default=[])\r\n\r\n    @classmethod\r\n    def reset(cls):\r\n        reg['gear/code_map'] = []"]
[19.585396, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[29.138703, "i", "cd ../sim\n"]
[29.138942, "o", "cd ../sim\r\n\u001b[?2004l\r"]
[29.139169, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/sim# "]
[45.953427, "i", "cat inst.py\n"]
[45.953598, "o", "cat inst.py\r\n\u001b[?2004l\r"]
[45.955369, "o", "import inspect\r\nimport weakref\r\nfrom pygears import reg, Intf, module, find\r\nfrom pygears.sim.sim_gear import SimGear, is_simgear_func\r\nfrom pygears.sim.sim import SimPlugin, cosim\r\nfrom pygears.core.gear import GearPlugin\r\nfrom pygears.core.gear_inst import gear_base_resolver\r\nfrom pygears.core.hier_node import HierVisitorBase\r\nfrom pygears.core.port import HDLConsumer, HDLProducer\r\nintfs = []\r\n\r\nclass SimInstVisitor(HierVisitorBase):\r\n\r\n    def __init__(self):\r\n        self.namespace = reg['sim/module_namespace']\r\n"]
[45.955395, "o", "        self.sim_map = reg['sim/map']\r\n\r\n    def Gear(self, module):\r\n        if module.parent is None:\r\n            return False\r\n        if module.params.get('__sim__', None) is not None:\r\n            cfg = module.params['__sim__']\r\n            if isinstance(cfg, dict):\r\n                cfg = cfg.copy()\r\n                sim = cfg.pop('sim')\r\n                cosim(module, sim, **cfg)\r\n            else:\r\n                cosim(module, cfg)\r\n        sim_cls = module.params.get('sim_cls', None)\r\n        sim_inst = None\r\n        if sim_cls is None:\r\n"]
[45.955448, "o", "            sim_cls = self.namespace.get(module.definition, None)\r\n        if sim_cls:\r\n            sim_inst = sim_cls(module)\r\n        elif is_simgear_func(module.func):\r\n            sim_inst = SimGear(module)\r\n        if sim_inst:\r\n            self.sim_map[module] = sim_inst\r\n            return True\r\n\r\ndef sim_inst(top=None):\r\n    if top is None:\r\n        top = find('/')\r\n    v = SimInstVisitor()\r\n    v.visit(top)\r\n    return top\r\n\r\nclass SimInstPlugin(SimPlugin, GearPlugin):\r\n\r\n    @classmethod\r\n    def bind(cls):\r\n        reg['sim/flow'].append(sim_inst)\r\n        reg['sim/module_namespace'] = {}\r\n        reg['sim/map'] = {}\r\n        reg['gear/params/extra/sim_cls'] = None\r\n        reg['gear/params/extra/__sim__'] = None\r\n        reg['gear/gear_dflt_resolver'] = sim_compile_resolver\r\n\r\n    @classmethod\r\n    def reset(cls):\r\n        reg['sim/map'] = {}"]
[45.955735, "o", "\u001b[?2004h"]
[45.955755, "o", "root@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/sim# "]
[70.376174, "i", "cd ../core\n"]
[70.376453, "o", "cd ../core\r\n\u001b[?2004l\r"]
[70.376611, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[70.727606, "i", "echo 'def gear_signature(func): pass' > gear_inst.py\n"]
[70.728208, "o", "echo 'def gear_signature(func): pass' > gear_inst.py\r\n\u001b[?2004l\r"]
[70.73096, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[81.853152, "i", "echo 'def __init__(self): pass' >> gear_inst.py\n"]
[81.853641, "o", "echo 'def __init__(self): pass' >> gear_inst.py\r\n\u001b[?2004l\r"]
[81.853839, "o", "\u001b[?2004h"]
[81.853863, "o", "root@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[93.619003, "i", "echo 'def check_args_num(args, params): pass' >> gear_inst.py\n"]
[93.619624, "o", "echo 'def check_args_num(args, params): pass' >> gear_inst.py\r\n\u001b[?2004l\r"]
[93.61981, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[103.151192, "i", "echo 'def gear_base_resolver(gear_inst): pass' >> gear_inst.py\n"]
[103.151908, "o", "echo 'def gear_base_resolver(gear_inst): pass' >> gear_inst.py\r\n\u001b[?2004l\r"]
[103.152092, "o", "\u001b[?2004h"]
[103.152183, "o", "root@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[114.921187, "i", "echo 'def check_args_specified(args): pass' >> gear_inst.py\n"]
[114.921668, "o", "echo 'def check_args_specified(args): pass' >> gear_inst.py\r\n\u001b[?2004l\r"]
[114.921798, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[127.78059, "i", "echo 'def resolve_return_annotation(func): pass' >> gear_inst.py\n"]
[127.781238, "o", "echo 'def resolve_return_annotation(func): pass' >> gear_inst.py\r\n\u001b[?2004l\r"]
[127.781403, "o", "\u001b[?2004h"]
[127.781466, "o", "root@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[148.972183, "i", "cd ../sim\n"]
[148.972366, "o", "cd ../sim\r\n\u001b[?2004l\r"]
[148.972477, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/sim# "]
[149.404905, "i", "echo 'def sim_compile_resolver(gear_inst): pass' >> inst.py\n"]
[149.405466, "o", "echo 'def sim_compile_resolver(gear_inst): pass' >> inst.py\r\n\u001b[?2004l\r"]
[149.407092, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/sim# "]
[165.754498, "i", "cd ../core\n"]
[165.754693, "o", "cd ../core\r\n\u001b[?2004l\r"]
[165.754819, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[166.185443, "i", "echo 'def infer_const_args(args): pass' >> gear_inst.py\n"]
[166.185995, "o", "echo 'def infer_const_args(args): pass' >> gear_inst.py\r\n"]
[166.186048, "o", "\u001b[?2004l\r"]
[166.186246, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[180.817432, "i", "echo 'def __hash__(self): pass' >> gear_inst.py\n"]
[180.818002, "o", "echo 'def __hash__(self): pass' >> gear_inst.py\r\n\u001b[?2004l\r"]
[180.818238, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[195.402655, "i", "echo 'def resolve_gear_name(gear): pass' >> gear_inst.py\n"]
[195.403415, "o", "echo 'def resolve_gear_name(gear): pass' >> gear_inst.py\r\n\u001b[?2004l\r"]
[195.403582, "o", "\u001b[?2004h"]
[195.403665, "o", "root@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[217.514918, "i", "echo 'def resolve_args(args): pass' >> gear_inst.py\n"]
[217.515486, "o", "echo 'def resolve_args(args): pass' >> gear_inst.py\r\n\u001b[?2004l\r"]
[217.515705, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/core# "]
[985.921063, "i", "cd /workspace/repo\n"]
[985.921373, "o", "cd /workspace/repo\r\n\u001b[?2004l\r"]
[985.921533, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo# "]
[986.56808, "i", "pytest tests/core/test_infer_ftypes_errs.py::test_incomplete_argument -v\n"]
[986.568733, "o", "pytest tests/core/test_infer_ftypes_errs.py::test_incomplete_argument -v\r\n\u001b[?2004l\r"]
[986.871448, "o", "Traceback (most recent call last):\r\n  File \"/usr/local/bin/pytest\", line 8, in <module>\r\n    sys.exit(console_main())\r\n  File \"/usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py\", line 223, in console_main\r\n    code = main()\r\n  File \"/usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py\", line 193, in main\r\n    config = _prepareconfig(new_args, plugins)\r\n  File \"/usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py\", line 361, in _prepareconfig\r\n    config: Config = pluginmanager.hook.pytest_cmdline_parse(\r\n  File \"/usr/local/lib/python3.10/site-packages/pluggy/_hooks.py\", line 512, in __call__\r\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\r\n  File \"/usr/local/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\r\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\r\n  File \"/usr/local/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\r\n    raise exception\r\n  File \"/usr/local/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\r\n    teardown.throw(exception)\r\n  File \"/usr/local/lib/python3.10/site-packages/_pytest/helpconfig.py\", line 124, in pytest_cmdline_parse\r\n    config = yield\r\n  File \"/usr/local/lib/python3.10/site-packages/pluggy/_callers.py\", line 121, in _multicall\r\n    res = hook_impl.function(*args)\r\n  File \"/usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py\", line 1186, in pytest_cmdline_parse\r\n    self.parse(args)\r\n  File \"/usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py\", line 1539, in parse\r\n    self.pluginmanager.load_setuptools_entrypoints(\"pytest11\")\r\n  File \"/usr/local/lib/python3.10/site-packages/pluggy/_manager.py\", line 416, in load_setuptools_entrypoints\r\n    plugin = ep.load()\r\n  File \"/usr/local/lib/python3.10/importlib/metadata/__init__.py\", line 171, in load\r\n    module = import_module(match.group('module'))\r\n  File \"/usr/local/lib/python3.10/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1050, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 992, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap>\", line 1050, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 992, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap>\", line 1050, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 688, in _load_unlocked\r\n  File \"/usr/local/lib/python3.10/site-packages/_pytest/assertion/rewrite.py\", line 197, in exec_module\r\n    exec(co, module.__dict__)\r\n  File \"/workspace/repo/pygears/__init__.py\", line 34, in <module>\r\n    import pygears.sim\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 688, in _load_unlocked\r\n  File \"/usr/local/lib/python3.10/site-packages/_pytest/assertion/rewrite.py\", line 197, in exec_module\r\n    exec(co, module.__dict__)\r\n  File \"/workspace/repo/pygears/sim/__init__.py\", line 8, in <module>\r\n    from . import inst\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 688, in _load_unlocked\r\n  File \"/usr/local/lib/python3.10/site-packages/_pytest/assertion/rewrite.py\", line 188, in exec_module\r\n    source_stat, co = _rewrite_test(fn, self.config)\r\n  File \"/usr/local/lib/python3.10/site-packages/_pyte"]
[986.871531, "o", "st/assertion/rewrite.py\", line 357, in _rewrite_test\r\n    tree = ast.parse(source, filename=strfn)\r\n  File \"/usr/local/lib/python3.10/ast.py\", line 50, in parse\r\n    return compile(source, filename, mode, flags,\r\n  File \"/workspace/repo/pygears/sim/inst.py\", line 61\r\n    reg['sim/map'] = {}def sim_compile_resolver(gear_inst): pass\r\n                       ^^^\r\nSyntaxError: invalid syntax\r\n"]
[986.8961, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo# "]
[1008.368809, "i", "cd pygears/sim\n"]
[1008.369246, "o", "cd pygears/sim\r\n\u001b[?2004l\r"]
[1008.369468, "o", "\u001b[?2004hroot@fed5a6e7-5eb4-4b1c-91ac-722212d1f822:/workspace/repo/pygears/sim# "]
[1008.903874, "i", "sed -i '/reg[\\'sim/map\\'] = {}/a\\\\n' inst.py\n"]
[1008.904418, "o", "sed -i '/reg[\\'sim/map\\'] = {}/a\\\\n' inst.py\r\n\u001b[?2004l\r"]
[1008.904494, "o", "\u001b[?2004h> "]
[1022.528156, "i", "cd /workspace/repo\n"]
[1022.528506, "o", "cd /workspace/repo\r\n\u001b[?2004l\r"]
[1022.528583, "o", "\u001b[?2004h> "]
[1023.111145, "i", "pytest tests/core/test_infer_ftypes_errs.py::test_incomplete_argument -v\n"]
[1023.111701, "o", "pytest tests/core/test_infer_ftypes_errs.py::test_incomplete_argument -v\r\n\u001b[?2004l\r"]
[1023.111842, "o", "\u001b[?2004h> "]
