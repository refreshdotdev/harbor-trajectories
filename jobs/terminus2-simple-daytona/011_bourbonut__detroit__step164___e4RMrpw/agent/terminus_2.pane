[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo# asciinema rec --stdin /logs/agent/recording.cast
[?2004l[0;32masciinema: recording asciicast to /logs/agent/recording.cast[0m
[0;32masciinema: press <ctrl-d> or type "exit" when you're done[0m
[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo# clear
[?2004l[H[J[3J[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo# ls -la
[?2004ltotal 36
drwxr-xr-x  1 root root   38 Feb  9 20:23 .
drwxr-xr-x  1 root root   26 Feb  9 20:23 ..
-rw-rw-r--  1 root root 3176 Jan 21 15:27 .gitignore
-rw-rw-r--  1 root root  206 Jan 21 15:27 .readthedocs.yaml
-rw-rw-r--  1 root root  739 Jan 21 15:27 LICENSE
-rw-rw-r--  1 root root 4530 Jan 21 15:27 README.md
drwxr-xr-x 23 root root 4096 Feb  9 20:23 detroit
drwxr-xr-x  1 root root  110 Feb  9 20:23 detroit.egg-info
drwxr-xr-x  3 root root   96 Feb  9 20:23 docs
drwxr-xr-x  3 root root 4096 Feb  9 20:23 examples
-rw-rw-r--  1 root root  790 Jan 21 15:27 pyproject.toml
drwxr-xr-x 22 root root 4096 Feb  9 20:23 tests
[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo# cd detroit
[?2004l[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit# ls -la
[?2004ltotal 84
drwxr-xr-x 23 root root  4096 Feb  9 20:23 .
drwxr-xr-x  1 root root    38 Feb  9 20:23 ..
-rw-rw-r--  1 root root 16191 Jan 21 15:27 __init__.py
drwxr-xr-x  3 root root  4096 Feb  9 20:23 array
drwxr-xr-x  2 root root    52 Feb  9 20:23 axis
drwxr-xr-x  2 root root    74 Feb  9 20:23 chord
drwxr-xr-x  2 root root    95 Feb  9 20:23 color
drwxr-xr-x  2 root root   143 Feb  9 20:23 contour
drwxr-xr-x  2 root root  4096 Feb  9 20:23 delaunay
drwxr-xr-x  2 root root  4096 Feb  9 20:23 ease
drwxr-xr-x  2 root root  4096 Feb  9 20:23 force
drwxr-xr-x  2 root root  4096 Feb  9 20:23 format
drwxr-xr-x  5 root root  4096 Feb  9 20:23 geo
drwxr-xr-x  4 root root  4096 Feb  9 20:23 hierarchy
drwxr-xr-x  3 root root  4096 Feb  9 20:23 interpolate
drwxr-xr-x  2 root root    79 Feb  9 20:23 path
drwxr-xr-x  2 root root   158 Feb  9 20:23 polygon
drwxr-xr-x  2 root root    93 Feb  9 20:23 quadtree
drwxr-xr-x  2 root root  4096 Feb  9 20:23 scale
drwxr-xr-x  6 root root  4096 Feb  9 20:23 scale_chromatic
drwxr-xr-x  2 root root  4096 Feb  9 20:23 selection
drwxr-xr-x  6 root root  4096 Feb  9 20:23 shape
drwxr-xr-x  2 root root  4096 Feb  9 20:23 time
drwxr-xr-x  2 root root    59 Feb  9 20:23 time_format
-rw-rw-r--  1 root root  9430 Jan 21 15:27 types.py
[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit# cd ease
[?2004l[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit/ease# ls -la
[?2004ltotal 68
drwxr-xr-x  2 root root 4096 Feb  9 20:23 .
drwxr-xr-x 23 root root 4096 Feb  9 20:23 ..
-rw-rw-r--  1 root root 2025 Jan 21 15:27 __init__.py
-rw-rw-r--  1 root root 5036 Jan 21 15:27 back.py
-rw-rw-r--  1 root root 1755 Jan 21 15:27 bounce.py
-rw-rw-r--  1 root root 1448 Jan 21 15:27 circle.py
-rw-rw-r--  1 root root 1537 Jan 21 15:27 cubic.py
-rw-rw-r--  1 root root 7409 Jan 21 15:27 elastic.py
-rw-rw-r--  1 root root 1479 Jan 21 15:27 exp.py
-rw-rw-r--  1 root root  373 Jan 21 15:27 linear.py
-rw-rw-r--  1 root root 5600 Jan 21 15:27 poly.py
-rw-rw-r--  1 root root 1517 Jan 21 15:27 quad.py
-rw-rw-r--  1 root root 1456 Jan 21 15:27 sin.py
-rw-rw-r--  1 root root  338 Jan 21 15:27 tqmt.py
[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit/ease# nano elastic.py
[?2004lbash: nano: command not found
[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit/ease# vi elastic.py
[?2004lbash: vi: command not found
[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit/ease# vim elastic.py
[?2004lbash: vim: command not found
[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit/ease# ed elastic.py
[?2004lbash: ed: command not found
[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit/ease# cat elastic.py
[?2004lfrom __future__ import annotations
from math import asin, pi, sin
from .tqmt import tqmt
TAU = 2 * pi
AMPLITUDE = 1
PERIOD = 0.3

class ElasticIn:
    """
    Elastic easing, like a rubber band.

    Parameters
    ----------
    t : float
        :math:`t \\in [0, 1]`

    Returns
    -------
    float
        Output value of the easing function

    Examples
    --------
    >>> d3.ease_elastic_in(0.2)
    -0.0014662756598240474
    >>> d3.ease_elastic_in.amplitude(2)(0.2)
    -0.005865102639296188
    >>> d3.ease_elastic_in.period(0.5)(0.2)
    -0.0023724838544719874
    >>> d3.ease_elastic_in.amplitude(2).period(0.5)(0.2)
    -0.00535803787473666
    """

    def __init__(self, amplitude: float, period: float):
        self._amplitude = max(1, amplitude)
        self._period = period / TAU
        self._s = asin(1 / self._amplitude) * self._period

    def __call__(self, t: float) -> float:
        """
        Elastic easing, like a rubber band.

        Parameters
        ----------
        t : float
            :math:`t \\in [0, 1]`

        Returns
        -------
        float
            Output value of the easing function

        Examples
        --------
        >>> d3.ease_elastic_in(0.2)
        -0.0014662756598240474
        >>> d3.ease_elastic_in.amplitude(2)(0.2)
        -0.005865102639296188
        >>> d3.ease_elastic_in.period(0.5)(0.2)
        -0.0023724838544719874
        >>> d3.ease_elastic_in.amplitude(2).period(0.5)(0.2)
        -0.00535803787473666
        """
        t -= 1
        return self._amplitude * tqmt(-t) * sin((self._s - t) / self._period)

    def amplitude(self, amplitude: float) -> ElasticIn:
        """
        Returns a new easing function with :code:`amplitude` value as
        parameter.

        Parameters
        ----------
        amplitude : float
            Amplitude value

        Returns
        -------
        ElasticIn
            New easing function
        """
        return ElasticIn(amplitude, self._period * TAU)

    def period(self, period: float) -> ElasticIn:
        """
        TODO: Implement this function
        """
        ...
ease_elastic_in = ElasticIn(AMPLITUDE, PERIOD)

class ElasticOut:
    """
    Reverse elastic easing; equivalent to :code:`1 - d3.elastic_in(1 - t)`.

    Parameters
    ----------
    t : float
        :math:`t \\in [0, 1]`

    Returns
    -------
    float
        Output value of the easing function

    Examples
    --------
    >>> d3.ease_elastic_out(0.2)
    1.1246334310850439
    >>> d3.ease_elastic_out.amplitude(2)(0.2)
    1.498533724340176
    >>> d3.ease_elastic_out.period(0.5)(0.2)
    1.2016611276301188
    >>> d3.ease_elastic_out.amplitude(2).period(0.5)(0.2)
    0.9478890359076215
    """

    def __init__(self, amplitude: float, period: float):
        self._amplitude = max(1, amplitude)
        self._period = period / TAU
        self._s = asin(1 / self._amplitude) * self._period

    def __call__(self, t: float) -> float:
        """
        Reverse elastic easing; equivalent to :code:`1 - d3.elastic_in(1 - t)`.

        Parameters
        ----------
        t : float
            :math:`t \\in [0, 1]`

        Returns
        -------
        float
            Output value of the easing function

        Examples
        --------
        >>> d3.ease_elastic_out(0.2)
        1.1246334310850439
        >>> d3.ease_elastic_out.amplitude(2)(0.2)
        1.498533724340176
        >>> d3.ease_elastic_out.period(0.5)(0.2)
        1.2016611276301188
        >>> d3.ease_elastic_out.amplitude(2).period(0.5)(0.2)
        0.9478890359076215
        """
        return 1 - self._amplitude * tqmt(t) * sin((t + self._s) / self._period)

    def amplitude(self, amplitude: float) -> ElasticOut:
        """
        Returns a new easing function with :code:`amplitude` value as
        parameter.

        Parameters
        ----------
        amplitude : float
            Amplitude value

        Returns
        -------
        ElasticOut
            New easing function
        """
        return ElasticOut(amplitude, self._period * TAU)

    def period(self, period: float) -> ElasticOut:
        """
        Returns a new easing function with :code:`period` value as parameter.

        Parameters
        ----------
        period : float
            Amplitude value

        Returns
        -------
        ElasticOut
            New easing function
        """
        return ElasticOut(self._amplitude, period)
ease_elastic_out = ElasticOut(AMPLITUDE, PERIOD)

class ElasticInOut:
    """
    Symmetric elastic easing; scales :func:`d3.ease_elastic_in
    <detroit.ease_elastic_in>` :math:`\\forall t \\in [0, 0.5]` and
    :func:`d3.ease_elastic_out <detroit.ease_elastic_out>` :math:`\\forall t
    \\in [0.5, 1]`.

    Parameters
    ----------
    t : float
        :math:`t \\in [0, 1]`

    Returns
    -------
    float
        Output value of the easing function

    Examples
    --------
    >>> d3.ease_elastic_in_out(0.2)
    0.007331378299120235
    >>> d3.ease_elastic_in_out.amplitude(2)(0.2)
    0.007331378299120243
    >>> d3.ease_elastic_in_out.period(0.5)(0.2)
    0.002265520486619852
    >>> d3.ease_elastic_in_out.amplitude(2).period(0.5)(0.2)
    0.014342340186712696
    """

    def __init__(self, amplitude: float, period: float):
        self._amplitude = max(1, amplitude)
        self._period = period / TAU
        self._s = asin(1 / self._amplitude) * self._period

    def __call__(self, t: float) -> float:
        """
        Symmetric elastic easing; scales :func:`d3.ease_elastic_in
        <detroit.ease_elastic_in>` :math:`\\forall t \\in [0, 0.5]` and
        :func:`d3.ease_elastic_out <detroit.ease_elastic_out>` :math:`\\forall
        t \\in [0.5, 1]`.

        Parameters
        ----------
        t : float
            :math:`t \\in [0, 1]`

        Returns
        -------
        float
            Output value of the easing function

        Examples
        --------
        >>> d3.ease_elastic_in_out(0.2)
        0.007331378299120235
        >>> d3.ease_elastic_in_out.amplitude(2)(0.2)
        0.007331378299120243
        >>> d3.ease_elastic_in_out.period(0.5)(0.2)
        0.002265520486619852
        >>> d3.ease_elastic_in_out.amplitude(2).period(0.5)(0.2)
        0.014342340186712696
        """
        t = t * 2 - 1
        if t < 0:
            return self._amplitude * tqmt(-t) * sin((self._s - t) / self._period) * 0.5
        else:
            return (2 - self._amplitude * tqmt(t) * sin((self._s + t) / self._period)) * 0.5

    def amplitude(self, amplitude: float) -> ElasticInOut:
        """
        Returns a new easing function with :code:`amplitude` value as
        parameter.

        Parameters
        ----------
        amplitude : float
            Amplitude value

        Returns
        -------
        ElasticInOut
            New easing function
        """
        return ElasticInOut(amplitude, self._period * TAU)

    def period(self, period: float) -> ElasticInOut:
        """
        Returns a new easing function with :code:`period` value as parameter.

        Parameters
        ----------
        period : float
            Amplitude value

        Returns
        -------
        ElasticInOut
            New easing function
        """
        return ElasticInOut(self._amplitude, period)
ease_elastic_in_out = ElasticInOut(AMPLITUDE, PERIOD)[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit/ease# echo 'from __future__ import annotations\nfrom math import asin, pi, sin\nfrom .tqmt import tqmt\nTAU = 2 * pi\nAMPLITUDE = 1\nPERIOD = 0.3\n\nclass ElasticIn:\n    """\n    Elastic easing, like a rubber band.\n\n    Parameters\n    ----------\n    t : float\n        :math:\`t \\in [0, 1]\`\n\n    Returns\n    -------\n    float\n        Output value of the easing function\n\n    Examples\n    --------\n    >>> d3.ease_elastic_in(0.2)\n    -0.0014662756598240474\n    >>> d3.ease_elastic_in.amplitude(2)(0.2)\n    -0.005865102639296188\n    >>> d3.ease_elastic_in.period(0.5)(0.2)\n    -0.0023724838544719874\n    >>> d3.ease_elastic_in.amplitude(2).period(0.5)(0.2)\n    -0.00535803787473666\n    """\n\n    def __init__(self, amplitude: float, period: float):\n        self._amplitude = max(1, amplitude)\n        self._period = period / TAU\n        self._s = asin(1 / self._amplitude) * self._period\n\n    def __call__(self, t: float) -> float:\n        """\n        Elastic easing, like a rubber band.\n\n        Parameters\n        ----------\n        t : float\n            :math:\`t \\in [0, 1]\`\n\n        Returns\n        -------\n        float\n            Output value of the easing function\n\n        Examples\n        --------\n        >>> d3.ease_elastic_in(0.2)\n        -0.0014662756598240474\n        >>> d3.ease_elastic_in.amplitude(2)(0.2)\n        -0.005865102639296188\n        >>> d3.ease_elastic_in.period(0.5)(0.2)\n        -0.0023724838544719874\n        >>> d3.ease_elastic_in.amplitude(2).period(0.5)(0.2)\n        -0.00535803787473666\n        """\n        t -= 1\n        return self._amplitude * tqmt(-t) * sin((self._s - t) / self._period)\n\n    def amplitude(self, amplitude: float) -> ElasticIn:\n        """\n        Returns a new easing function with :code:\`amplitude\` value as\n        parameter.\n\n        Parameters\n        ----------\n        amplitude : float\n            Amplitude value\n\n        Returns\n        -------\n        ElasticIn\n            New easing function\n        """\n        return ElasticIn(amplitude, self._period * TAU)\n\n    def period(self, period: float) -> ElasticIn:\n        """\n        Returns a new easing function with :code:\`period\` value as parameter.\n\n        Parameters\n        ----------\n        period : float\n            Period value\n\n        Returns\n        -------\n        ElasticIn\n            New easing function\n        """\n        return ElasticIn(self._amplitude, period)\nease_elastic_in = ElasticIn(AMPLITUDE, PERIOD)\n\nclass ElasticOut:\n    """\n    Reverse elastic easing; equivalent to :code:\`1 - d3.elastic_in(1 - t)\`.\n\n    Parameters\n    ----------\n    t : float\n        :math:\`t \\in [0, 1]\`\n\n    Returns\n    -------\n    float\n        Output value of the easing function\n\n    Examples\n    --------\n    >>> d3.ease_elastic_out(0.2)\n    1.1246334310850439\n    >>> d3.ease_elastic_out.amplitude(2)(0.2)\n    1.498533724340176\n    >>> d3.ease_elastic_out.period(0.5)(0.2)\n    1.2016611276301188\n    >>> d3.ease_elastic_out.amplitude(2).period(0.5)(0.2)\n    0.9478890359076215\n    """\n\n    def __init__(self, amplitude: float, period: float):\n        self._amplitude = max(1, amplitude)\n        self._period = period / TAU\n        self._s = asin(1 / self._amplitude) * self._period\n\n    def __call__(self, t: float) -> float:\n        """\n        Reverse elastic easing; equivalent to :code:\`1 - d3.elastic_in(1 - t)\`.\n\n        Parameters\n        ----------\n        t : float\n            :math:\`t \\in [0, 1]\`\n\n        Returns\n        -------\n        float\n            Output value of the easing function\n\n        Examples\n        --------\n        >>> d3.ease_elastic_out(0.2)\n        1.1246334310850439\n        >>> d3.ease_elastic_out.amplitude(2)(0.2)\n        1.498533724340176\n        >>> d3.ease_elastic_out.period(0.5)(0.2)\n        1.2016611276301188\n        >>> d3.ease_elastic_out.amplitude(2).period(0.5)(0.2)\n        0.9478890359076215\n        """\n        return 1 - self._amplitude * tqmt(t) * sin((t + self._s) / self._period)\n\n    def amplitude(self, amplitude: float) -> ElasticOut:\n        """\n        Returns a new easing function with :code:\`amplitude\` value as\n        parameter.\n\n        Parameters\n        ----------\n        amplitude : float\n            Amplitude value\n\n        Returns\n        -------\n        ElasticOut\n            New easing function\n        """\n        return ElasticOut(amplitude, self._period * TAU)\n\n    def period(self, period: float) -> ElasticOut:\n        """\n        Returns a new easing function with :code:\`period\` value as parameter.\n\n        Parameters\n        ----------\n        period : float\n            Amplitude value\n\n        Returns\n        -------\n        ElasticOut\n            New easing function\n        """\n        return ElasticOut(self._amplitude, period)\nease_elastic_out = ElasticOut(AMPLITUDE, PERIOD)\n\nclass ElasticInOut:\n    """\n    Symmetric elastic easing; scales :func:\`d3.ease_elastic_in
[?2004l[?2004h>     <detroit.ease_elastic_in>\` :math:\`\\forall t \\in [0, 0.5]\` and
[?2004l[?2004h>     :func:\`d3.ease_elastic_out <detroit.ease_elastic_out>\` :math:\`\\forall t
[?2004l[?2004h>     \\in [0.5, 1]\`.\n\n    Parameters\n    ----------\n    t : float\n        :math:\`t \\in [0, 1]\`\n\n    Returns\n    -------\n    float\n        Output value of the easing function\n\n    Examples\n    --------\n    >>> d3.ease_elastic_in_out(0.2)\n    0.007331378299120235\n    >>> d3.ease_elastic_in_out.amplitude(2)(0.2)\n    0.007331378299120243\n    >>> d3.ease_elastic_in_out.period(0.5)(0.2)\n    0.002265520486619852\n    >>> d3.ease_elastic_in_out.amplitude(2).period(0.5)(0.2)\n    0.014342340186712696\n    """\n\n    def __init__(self, amplitude: float, period: float):\n        self._amplitude = max(1, amplitude)\n        self._period = period / TAU\n        self._s = asin(1 / self._amplitude) * self._period\n\n    def __call__(self, t: float) -> float:\n        """\n        Symmetric elastic easing; scales :func:\`d3.ease_elastic_in
[?2004l[?2004h>         <detroit.ease_elastic_in>\` :math:\`\\forall t \\in [0, 0.5]\` and
[?2004l[?2004h>         :func:\`d3.ease_elastic_out <detroit.ease_elastic_out>\` :math:\`\\forall
[?2004l[?2004h>         t \\in [0.5, 1]\`.\n\n        Parameters\n        ----------\n        t : float\n            :math:\`t \\in [0, 1]\`\n\n        Returns\n        -------\n        float\n            Output value of the easing function\n\n        Examples\n        --------\n        >>> d3.ease_elastic_in_out(0.2)\n        0.007331378299120235\n        >>> d3.ease_elastic_in_out.amplitude(2)(0.2)\n        0.007331378299120243\n        >>> d3.ease_elastic_in_out.period(0.5)(0.2)\n        0.002265520486619852\n        >>> d3.ease_elastic_in_out.amplitude(2).period(0.5)(0.2)\n        0.014342340186712696\n        """\n        t = t * 2 - 1\n        if t < 0:\n            return self._amplitude * tqmt(-t) * sin((self._s - t) / self._period) * 0.5\n        else:\n            return (2 - self._amplitude * tqmt(t) * sin((self._s + t) / self._period)) * 0.5\n\n    def amplitude(self, amplitude: float) -> ElasticInOut:\n        """\n        Returns a new easing function with :code:\`amplitude\` value as\n        parameter.\n\n        Parameters\n        ----------\n        amplitude : float\n            Amplitude value\n\n        Returns\n        -------\n        ElasticInOut\n            New easing function\n        """\n        return ElasticInOut(amplitude, self._period * TAU)\n\n    def period(self, period: float) -> ElasticInOut:\n        """\n        Returns a new easing function with :code:\`period\` value as parameter.\n\n        Parameters\n        ----------\n        period : float\n            Amplitude value\n\n        Returns\n        -------\n        ElasticInOut\n            New easing function\n        """\n        return ElasticInOut(self._amplitude, period)\nease_elastic_in_out = ElasticInOut(AMPLITUDE, PERIOD)' > elastic.py\npytest tests/test_ease/test_elastic.py::test_elastic_6 -v
[?2004l[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit/ease# pytest tests/test_ease/test_elastic.py::test_elastic_4 -v
[?2004l[1m===================================================================== test session starts ======================================================================[0m
platform linux -- Python 3.10.19, pytest-9.0.2, pluggy-1.6.0 -- /usr/local/bin/python3.10
cachedir: .pytest_cache
rootdir: /workspace/repo
configfile: pyproject.toml
plugins: mock-3.15.1, timeout-2.4.0
[1mcollecting ... [0m[1mcollected 0 items                                                                                                                                              [0m

[33m==================================================================== [33mno tests ran[0m[33m in 0.00s[0m[33m =====================================================================[0m
[31mERROR: file or directory not found: tests/test_ease/test_elastic.py::test_elastic_4
[0m
[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit/ease# pytest tests/test_ease/test_elastic.py::test_elastic_8 -v
[?2004l[1m===================================================================== test session starts ======================================================================[0m
platform linux -- Python 3.10.19, pytest-9.0.2, pluggy-1.6.0 -- /usr/local/bin/python3.10
cachedir: .pytest_cache
rootdir: /workspace/repo
configfile: pyproject.toml
plugins: mock-3.15.1, timeout-2.4.0
[1mcollecting ... [0m[1mcollected 0 items                                                                                                                                              [0m

[33m==================================================================== [33mno tests ran[0m[33m in 0.00s[0m[33m =====================================================================[0m
[31mERROR: file or directory not found: tests/test_ease/test_elastic.py::test_elastic_8
[0m
[?2004hroot@52509fea-d1c3-4f72-b145-9035267cab6d:/workspace/repo/detroit/ease# 