{"version": 2, "width": 160, "height": 40, "timestamp": 1770669315, "env": {"SHELL": "/bin/bash", "TERM": "tmux-256color"}}
[0.005866, "o", "\u001b[?2004h"]
[0.006543, "o", "root@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[0.923796, "i", "clear\r"]
[0.924173, "o", "clear\r\n\u001b[?2004l\r"]
[0.925634, "o", "\u001b[H\u001b[J\u001b[3J"]
[0.925819, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[6.306152, "i", "nano opencensus/trace/propagation/google_cloud_format.py\n"]
[6.306563, "o", "nano opencensus/trace/propagation/google_cloud_format.py\r\n"]
[6.306603, "o", "\u001b[?2004l\r"]
[6.307131, "o", "bash: nano: command not found\r\n"]
[6.307459, "o", "\u001b[?2004h"]
[6.307506, "o", "root@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[10.863409, "i", "vi opencensus/trace/propagation/google_cloud_format.py\n"]
[10.86369, "o", "vi opencensus/trace/propagation/google_cloud_format.py\r\n\u001b[?2004l\r"]
[10.864122, "o", "bash: vi: command not found\r\n"]
[10.864387, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[15.177279, "i", "cat opencensus/trace/propagation/google_cloud_format.py\n"]
[15.17774, "o", "cat opencensus/trace/propagation/google_cloud_format.py\r\n\u001b[?2004l\r"]
[15.179467, "o", "import logging\r\nimport re\r\nfrom opencensus.trace.span_context import SpanContext\r\nfrom opencensus.trace.trace_options import TraceOptions\r\n_TRACE_CONTEXT_HEADER_NAME = 'X-Cloud-Trace-Context'\r\n_TRACE_CONTEXT_HEADER_FORMAT = '([0-9a-f]{32})(\\\\/([\\\\d]{0,20}))?(;o=(\\\\d+))?'\r\n_TRACE_CONTEXT_HEADER_RE = re.compile(_TRACE_CONTEXT_HEADER_FORMAT)\r\n_TRACE_ID_DELIMETER = '/'\r\n_SPAN_ID_DELIMETER = ';'\r\n\r\nclass GoogleCloudFormatPropagator(object):\r\n    \"\"\"This class is for converting the trace header in google cloud format\r\n    and generate a SpanContext, or converting a SpanContext to a google cloud\r\n    format header. Later we will add implementation for supporting other\r\n    format like binary format and zipkin, opencensus format.\r\n    \"\"\"\r\n\r\n    def from_header(self, header):\r\n        \"\"\"Generate a SpanContext object using the trace context header.\r\n        The value of enabled parsed from header is int. Need to convert to\r\n        bool.\r\n\r\n        :type header: str\r\n        :param header: Trace context header which was extracted from the HTTP\r\n                       request headers.\r\n\r\n        :rtype: :class:`~opencensus.trace.span_context.SpanContext`\r\n        :returns: SpanContext generated from the trace context header.\r\n        \"\"\"\r\n        if header is None:\r\n            return SpanContext()\r\n        try:\r\n            match = re.search(_TRACE_CONTEXT_HEADER_RE, header)\r\n        except TypeError:\r\n            logging.warning('Header should be str, got %s. Cannot parse the header.', header.__class__.__name__)\r\n            raise\r\n        if match:\r\n            trace_id = match.group(1)\r\n            span_id = match.group(3)\r\n            trace_options = match.group(5)\r\n            if trace_options is None:\r\n                trace_options = 1\r\n            if span_id:\r\n                span_id = '{:016x}'.format(int(span_id))\r\n            span_context = SpanContext(trace_id=trace_id, span_id=span_id, trace_options=TraceOptions(trace_options), from_header=True)\r\n            return span_context\r\n        else:\r\n            logging.warning('Cannot parse the header %s, generate a new context instead.', header)\r\n            return SpanContext()\r\n\r\n    def from_headers(self, headers):\r\n        \"\"\"\r\n        TODO: Implement this function\r\n        \"\"\"\r\n        ...\r\n\r\n    def to_header(self, span_context):\r\n        \"\"\"Convert a SpanContext object to header string.\r\n\r\n        :type span_context:\r\n            :class:`~opencensus.trace.span_context.SpanContext`\r\n        :param span_context: SpanContext object.\r\n\r\n        :rtype: str\r\n        :returns: A trace context header string in google cloud format.\r\n        \"\"\"\r\n        trace_id = span_context.trace_id\r\n        span_id = span_context.span_id\r\n        trace_options = span_context.trace_options.trace_options_byte\r\n        header = '{}/{};o={}'.format(trace_id, int(span_id, 16), int(trace_options))\r\n        return header\r\n\r\n    def to_headers(self, span_context):\r\n        \"\"\"Convert a SpanContext object to HTTP request headers.\r\n\r\n        :type span_context:\r\n            :class:`~opencensus.trace.span_context.SpanContext`\r\n        :param span_context: SpanContext object.\r\n\r\n"]
[15.179514, "o", "        :rtype: dict\r\n        :returns: Trace context headers in google cloud format.\r\n        \"\"\"\r\n        return {_TRACE_CONTEXT_HEADER_NAME: self.to_header(span_context)}"]
[15.179838, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[21.215617, "i", "sed -i '/def from_headers(self, headers):/,/.../c\\    def from_headers(self, headers):\\        header = headers.get(_TRACE_CONTEXT_HEADER_NAME)\\        return self.from_header(header)' opencensus/trace/propagation/google_cloud_format.py\n"]
[21.217347, "o", "sed -i '/def from_headers(self, headers):/,/.../c\\    def from_headers(self, headers):\\        header = headers.get(_TRACE_CONTEXT_HEADER_NAME)\\        return self.from_header(header)' opencensus/trace/propagation/google_cloud_format.py\r\n\u001b[?2004l\r"]
[21.2285, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[26.063657, "i", "pytest tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match -v\n"]
[26.06479, "o", "pytest tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match -v\r\n\u001b[?2004l\r"]
[26.257086, "o", "\u001b[1m===================================================================== test session starts ======================================================================\u001b[0m\r\nplatform linux -- Python 3.10.19, pytest-9.0.2, pluggy-1.6.0 -- /usr/local/bin/python3.10\r\n"]
[26.258848, "o", "cachedir: .pytest_cache\r\nrootdir: /workspace/repo\r\nplugins: mock-3.15.1, timeout-2.4.0\r\n"]
[26.25894, "o", "\u001b[1mcollecting ... \u001b[0m"]
[26.350838, "o", "\u001b[1m\rcollected 0 items / 1 error                                                                                                                                    \u001b[0m\r\n"]
[26.351661, "o", "\r\n"]
[26.351834, "o", "============================================================================ ERRORS ============================================================================\r\n\u001b[31m\u001b[1m__________________________________________ ERROR collecting tests/unit/trace/propagation/test_google_cloud_format.py ___________________________________________\u001b[0m\r\n\u001b[31m/usr/local/lib/python3.10/site-packages/_pytest/python.py:507: in importtestmodule\r\n    mod = import_path(\r\n/usr/local/lib/python3.10/site-packages/_pytest/pathlib.py:587: in import_path\r\n    importlib.import_module(module_name)\r\n/usr/local/lib/python3.10/importlib/__init__.py:126: in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n<frozen importlib._bootstrap>:1050: in _gcd_import\r\n    ???\r\n<frozen importlib._bootstrap>:1027: in _find_and_load\r\n    ???\r\n<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked\r\n    ???\r\n<frozen importlib._bootstrap>:688: in _load_unlocked\r\n    ???\r\n/usr/local/lib/python3.10/site-packages/_pytest/assertion/rewrite.py:197: in exec_module\r\n    exec(co, module.__dict__)\r\ntests/unit/trace/propagation/test_google_cloud_format.py:17: in <module>\r\n    from opencensus.trace.propagation import google_cloud_format\r\nE     File \"/workspace/repo/opencensus/trace/propagation/google_cloud_format.py\", line 81\r\nE       \"\"\"\r\nE       ^\r\nE   SyntaxError: unterminated triple-quoted string literal (detected at line 82)\u001b[0m\r\n"]
[26.351903, "o", "\u001b[36m\u001b[1m=================================================================== short test summary info ====================================================================\u001b[0m\r\n\u001b[31mERROR\u001b[0m tests/unit/trace/propagation/test_google_cloud_format.py\r\n\u001b[31m======================================================================= \u001b[31m\u001b[1m1 error\u001b[0m\u001b[31m in 0.09s\u001b[0m\u001b[31m =======================================================================\u001b[0m\r\n"]
[26.368522, "o", "\u001b[31mERROR: found no collectors for /workspace/repo/tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match\r\n\u001b[0m\r\n"]
[26.388422, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[49.461245, "i", "sed -i 's/\"\"\"$/\"\"\"\\n/' opencensus/trace/propagation/google_cloud_format.py\n"]
[49.461828, "o", "sed -i 's/\"\"\"$/\"\"\"\\n/' opencensus/trace/propagation/google_cloud_format.py\r\n\u001b[?2004l\r"]
[49.463898, "o", "\u001b[?2004h"]
[49.463925, "o", "root@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[56.200662, "i", "pytest tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match -v\n"]
[56.201117, "o", "pytest tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match -v\r\n\u001b[?2004l\r"]
[56.326335, "o", "\u001b[1m===================================================================== test session starts ======================================================================\u001b[0m\r\nplatform linux -- Python 3.10.19, pytest-9.0.2, pluggy-1.6.0 -- /usr/local/bin/python3.10\r\n"]
[56.328213, "o", "cachedir: .pytest_cache\r\nrootdir: /workspace/repo\r\nplugins: mock-3.15.1, timeout-2.4.0\r\n"]
[56.328305, "o", "\u001b[1mcollecting ... \u001b[0m"]
[56.411457, "o", "\u001b[1m\rcollected 0 items / 1 error                                                                                                                                    \u001b[0m\r\n"]
[56.411844, "o", "\r\n============================================================================ ERRORS ============================================================================\r\n"]
[56.411919, "o", "\u001b[31m\u001b[1m__________________________________________ ERROR collecting tests/unit/trace/propagation/test_google_cloud_format.py ___________________________________________\u001b[0m\r\n\u001b[31m/usr/local/lib/python3.10/site-packages/_pytest/python.py:507: in importtestmodule\r\n    mod = import_path(\r\n/usr/local/lib/python3.10/site-packages/_pytest/pathlib.py:587: in import_path\r\n    importlib.import_module(module_name)\r\n/usr/local/lib/python3.10/importlib/__init__.py:126: in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n<frozen importlib._bootstrap>:1050: in _gcd_import\r\n    ???\r\n<frozen importlib._bootstrap>:1027: in _find_and_load\r\n    ???\r\n<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked\r\n    ???\r\n<frozen importlib._bootstrap>:688: in _load_unlocked\r\n    ???\r\n/usr/local/lib/python3.10/site-packages/_pytest/assertion/rewrite.py:197: in exec_module\r\n    exec(co, module.__dict__)\r\ntests/unit/trace/propagation/test_google_cloud_format.py:17: in <module>\r\n    from opencensus.trace.propagation import google_cloud_format\r\nE     File \"/workspace/repo/opencensus/trace/propagation/google_cloud_format.py\", line 85\r\nE       \"\"\"\r\nE       ^\r\nE   SyntaxError: unterminated triple-quoted string literal (detected at line 87)\u001b[0m\r\n"]
[56.411995, "o", "\u001b[36m\u001b[1m=================================================================== short test summary info ====================================================================\u001b[0m\r\n\u001b[31mERROR\u001b[0m tests/unit/trace/propagation/test_google_cloud_format.py\r\n"]
[56.412075, "o", "\u001b[31m======================================================================= \u001b[31m\u001b[1m1 error\u001b[0m\u001b[31m in 0.09s\u001b[0m\u001b[31m =======================================================================\u001b[0m\r\n"]
[56.428267, "o", "\u001b[31mERROR: found no collectors for /workspace/repo/tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match\r\n\u001b[0m\r\n"]
[56.449371, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[80.264829, "i", "sed -i '/def from_headers(self, headers):/,/return self.from_header(header)/c\\    def from_headers(self, headers):\\        header = headers.get(_TRACE_CONTEXT_HEADER_NAME)\\        return self.from_header(header)' opencensus/trace/propagation/google_cloud_format.py\n"]
[80.266986, "o", "sed -i '/def from_headers(self, headers):/,/return self.from_header(header)/c\\    def from_headers(self, headers):\\        header = headers.get(_TRACE_CONTEXT_HEADER_NAME)\\        return self.from_header(header)' opencensus/trace/propagation/google_cloud_format.py\r\n\u001b[?2004l\r"]
[80.269059, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[100.65375, "i", "pytest tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match -v\n"]
[100.654226, "o", "pytest tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match -v\r\n\u001b[?2004l\r"]
[100.785721, "o", "\u001b[1m===================================================================== test session starts ======================================================================\u001b[0m\r\nplatform linux -- Python 3.10.19, pytest-9.0.2, pluggy-1.6.0 -- /usr/local/bin/python3.10\r\n"]
[100.787683, "o", "cachedir: .pytest_cache\r\nrootdir: /workspace/repo\r\nplugins: mock-3.15.1, timeout-2.4.0\r\n\u001b[1mcollecting ... \u001b[0m"]
[100.811475, "o", "\u001b[1m\rcollected 1 item                                                                                                                                               \u001b[0m\r\n"]
[100.811676, "o", "\r\ntests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match "]
[100.83078, "o", "\u001b[31mFAILED\u001b[0m\u001b[31m                                     [100%]\u001b[0m"]
[100.831523, "o", "\r\n\r\n=========================================================================== FAILURES ===========================================================================\r\n"]
[100.831684, "o", "\u001b[31m\u001b[1m______________________________________________________ TestGoogleCloudFormatPropagator.test_headers_match ______________________________________________________\u001b[0m\r\n\r\nself = <test_google_cloud_format.TestGoogleCloudFormatPropagator testMethod=test_headers_match>\r\n\r\n"]
[100.856977, "o", "    \u001b[0m\u001b[94mdef\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[92mtest_headers_match\u001b[39;49;00m(\u001b[96mself\u001b[39;49;00m):\u001b[90m\u001b[39;49;00m\r\n        \u001b[90m# Trace option is enabled.\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\r\n        headers = {\u001b[90m\u001b[39;49;00m\r\n            \u001b[33m'\u001b[39;49;00m\u001b[33mX-Cloud-Trace-Context\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m:\u001b[90m\u001b[39;49;00m\r\n                \u001b[33m'\u001b[39;49;00m\u001b[33m6e0c63257de34c92bf9efcd03927272e/67667974448284343;o=1\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m,\u001b[90m\u001b[39;49;00m\r\n        }\u001b[90m\u001b[39;49;00m\r\n        expected_trace_id = \u001b[33m'\u001b[39;49;00m\u001b[33m6e0c63257de34c92bf9efcd03927272e\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\r\n        expected_span_id = \u001b[33m'\u001b[39;49;00m\u001b[33m00f067aa0ba902b7\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\r\n    \u001b[90m\u001b[39;49;00m\r\n        propagator = google_cloud_format.GoogleCloudFormatPropagator()\u001b[90m\u001b[39;49;00m\r\n"]
[100.857166, "o", ">       span_context = propagator.from_headers(headers)\u001b[90m\u001b[39;49;00m\r\n\u001b[1m\u001b[31mE       AttributeError: 'GoogleCloudFormatPropagator' object has no attribute 'from_headers'. Did you mean: 'from_header'?\u001b[0m\r\n\r\n\u001b[1m\u001b[31mtests/unit/trace/propagation/test_google_cloud_format.py\u001b[0m:160: AttributeError\r\n"]
[100.857332, "o", "\u001b[36m\u001b[1m=================================================================== short test summary info ====================================================================\u001b[0m\r\n\u001b[31mFAILED\u001b[0m tests/unit/trace/propagation/test_google_cloud_format.py::\u001b[1mTestGoogleCloudFormatPropagator::test_headers_match\u001b[0m - AttributeError: 'GoogleCloudFormatPropagator' object has no attribute 'from_headers'. Did you mean: 'from_header'?\r\n\u001b[31m====================================================================== \u001b[31m\u001b[1m1 failed\u001b[0m\u001b[31m in 0.07s\u001b[0m\u001b[31m =======================================================================\u001b[0m\r\n"]
[100.89399, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[135.147536, "i", "sed -i 's/def from_header(self, header):/def from_headers(self, headers):/' opencensus/trace/propagation/google_cloud_format.py\n"]
[135.148285, "o", "sed -i 's/def from_header(self, header):/def from_headers(self, headers):/' opencensus/trace/propagation/google_cloud_format.py\r\n\u001b[?2004l\r"]
[135.15026, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[150.762627, "i", "pytest tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match -v\n"]
[150.763836, "o", "pytest tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match -v\r\n\u001b[?2004l\r"]
[150.898278, "o", "\u001b[1m===================================================================== test session starts ======================================================================\u001b[0m\r\nplatform linux -- Python 3.10.19, pytest-9.0.2, pluggy-1.6.0 -- /usr/local/bin/python3.10\r\n"]
[150.900227, "o", "cachedir: .pytest_cache\r\nrootdir: /workspace/repo\r\nplugins: mock-3.15.1, timeout-2.4.0\r\n\u001b[1mcollecting ... \u001b[0m"]
[150.923912, "o", "\u001b[1m\rcollected 1 item                                                                                                                                               \u001b[0m\r\n"]
[150.924161, "o", "\r\ntests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match "]
[150.944477, "o", "\u001b[31mFAILED\u001b[0m\u001b[31m                                     [100%]\u001b[0m"]
[150.945027, "o", "\r\n"]
[150.945076, "o", "\r\n=========================================================================== FAILURES ===========================================================================\r\n\u001b[31m\u001b[1m______________________________________________________ TestGoogleCloudFormatPropagator.test_headers_match ______________________________________________________\u001b[0m\r\n\r\n"]
[150.945245, "o", "self = <test_google_cloud_format.TestGoogleCloudFormatPropagator testMethod=test_headers_match>\r\n\r\n"]
[150.967055, "o", "    \u001b[0m\u001b[94mdef\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[92mtest_headers_match\u001b[39;49;00m(\u001b[96mself\u001b[39;49;00m):\u001b[90m\u001b[39;49;00m\r\n        \u001b[90m# Trace option is enabled.\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\r\n        headers = {\u001b[90m\u001b[39;49;00m\r\n            \u001b[33m'\u001b[39;49;00m\u001b[33mX-Cloud-Trace-Context\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m:\u001b[90m\u001b[39;49;00m\r\n                \u001b[33m'\u001b[39;49;00m\u001b[33m6e0c63257de34c92bf9efcd03927272e/67667974448284343;o=1\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m,\u001b[90m\u001b[39;49;00m\r\n        }\u001b[90m\u001b[39;49;00m\r\n        expected_trace_id = \u001b[33m'\u001b[39;49;00m\u001b[33m6e0c63257de34c92bf9efcd03927272e\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\r\n        expected_span_id = \u001b[33m'\u001b[39;49;00m\u001b[33m00f067aa0ba902b7\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\r\n    \u001b[90m\u001b[39;49;00m\r\n        propagator = google_cloud_format.GoogleCloudFormatPropagator()\u001b[90m\u001b[39;49;00m\r\n>       span_context = propagator.from_headers(headers)\u001b[90m\u001b[39;49;00m\r\n"]
[150.967112, "o", "\r\n\u001b[1m\u001b[31mtests/unit/trace/propagation/test_google_cloud_format.py\u001b[0m:160: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nself = <opencensus.trace.propagation.google_cloud_format.GoogleCloudFormatPropagator object at 0x742797d78fa0>\r\nheaders = {'X-Cloud-Trace-Context': '6e0c63257de34c92bf9efcd03927272e/67667974448284343;o=1'}\r\n\r\n"]
[150.967318, "o", "    \u001b[0m\u001b[94mdef\u001b[39;49;00m\u001b[90m \u001b[39;49;00m\u001b[92mfrom_headers\u001b[39;49;00m(\u001b[96mself\u001b[39;49;00m, headers):\u001b[90m\u001b[39;49;00m\r\n    \u001b[90m    \u001b[39;49;00m\u001b[33m\"\"\"Generate a SpanContext object using the trace context header.\u001b[39;49;00m\r\n    \u001b[33m    The value of enabled parsed from header is int. Need to convert to\u001b[39;49;00m\r\n    \u001b[33m    bool.\u001b[39;49;00m\r\n    \u001b[33m\u001b[39;49;00m\r\n    \u001b[33m    :type header: str\u001b[39;49;00m\r\n"]
[150.967362, "o", "    \u001b[33m    :param header: Trace context header which was extracted from the HTTP\u001b[39;49;00m\r\n    \u001b[33m                   request headers.\u001b[39;49;00m\r\n    \u001b[33m\u001b[39;49;00m\r\n    \u001b[33m    :rtype: :class:`~opencensus.trace.span_context.SpanContext`\u001b[39;49;00m\r\n    \u001b[33m    :returns: SpanContext generated from the trace context header.\u001b[39;49;00m\r\n    \u001b[33m    \"\"\"\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\r\n    \u001b[90m\u001b[39;49;00m\r\n>       \u001b[94mif\u001b[39;49;00m header \u001b[95mis\u001b[39;49;00m \u001b[94mNone\u001b[39;49;00m:\u001b[90m\u001b[39;49;00m\r\n\u001b[1m\u001b[31mE       NameError: name 'header' is not defined\u001b[0m\r\n\r\n"]
[150.967467, "o", "\u001b[1m\u001b[31mopencensus/trace/propagation/google_cloud_format.py\u001b[0m:32: NameError\r\n"]
[150.967603, "o", "\u001b[36m\u001b[1m=================================================================== short test summary info ====================================================================\u001b[0m\r\n\u001b[31mFAILED\u001b[0m tests/unit/trace/propagation/test_google_cloud_format.py::\u001b[1mTestGoogleCloudFormatPropagator::test_headers_match\u001b[0m - NameError: name 'header' is not defined\r\n\u001b[31m====================================================================== \u001b[31m\u001b[1m1 failed\u001b[0m\u001b[31m in 0.07s\u001b[0m\u001b[31m =======================================================================\u001b[0m\r\n"]
[151.004124, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[170.210022, "i", "sed -i 's/if header is None:/header = headers.get(_TRACE_CONTEXT_HEADER_NAME)\\n        if header is None:/' opencensus/trace/propagation/google_cloud_format.py\n"]
[170.211564, "o", "sed -i 's/if header is None:/header = headers.get(_TRACE_CONTEXT_HEADER_NAME)\\n        if header is None:/' opencensus/trace/propagation/google_cloud_format.py\r\n\u001b[?2004l\r"]
[170.213758, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
[185.678793, "i", "pytest tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match -v\n"]
[185.679896, "o", "pytest tests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match -v\r\n\u001b[?2004l\r"]
[185.810821, "o", "\u001b[1m===================================================================== test session starts ======================================================================\u001b[0m\r\nplatform linux -- Python 3.10.19, pytest-9.0.2, pluggy-1.6.0 -- /usr/local/bin/python3.10\r\n"]
[185.812652, "o", "cachedir: .pytest_cache\r\nrootdir: /workspace/repo\r\nplugins: mock-3.15.1, timeout-2.4.0\r\n"]
[185.812744, "o", "\u001b[1mcollecting ... \u001b[0m"]
[185.83665, "o", "\u001b[1m\rcollected 1 item                                                                                                                                               \u001b[0m\r\n"]
[185.836874, "o", "\r\ntests/unit/trace/propagation/test_google_cloud_format.py::TestGoogleCloudFormatPropagator::test_headers_match "]
[185.837726, "o", "\u001b[32mPASSED\u001b[0m\u001b[32m                                     [100%]\u001b[0m"]
[185.838466, "o", "\r\n"]
[185.838558, "o", "\r\n\u001b[32m====================================================================== \u001b[32m\u001b[1m1 passed\u001b[0m\u001b[32m in 0.03s\u001b[0m\u001b[32m =======================================================================\u001b[0m\r\n"]
[185.873901, "o", "\u001b[?2004hroot@223b2bcf-7c92-4400-98e6-d838470cf244:/workspace/repo# "]
