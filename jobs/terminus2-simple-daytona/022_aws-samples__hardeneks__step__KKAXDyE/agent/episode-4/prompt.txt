Previous response had warnings:
WARNINGS: - Extra text detected before JSON object
- Extra text detected after JSON object
- Command 1 should end with newline when followed by another command. Otherwise the two commands will be concatenated together on the same line.
- Command 2 should end with newline when followed by another command. Otherwise the two commands will be concatenated together on the same line.

New Terminal Output:

t@76218711-ea79-41ae-8fd9-e6939733f603:/workspace/repo/hardeneks/namespace_based/reliability# echo "from...resources import NamespacedResources\nfrom hardeneks.
rules import Rule, Result\n\nclass avoid_running_singleton_pods(Rule):\n    _type = 'namespace_based'\n    pillar ='reliability'\n    section = 'applications'\n
    message = 'Avoid running pods without deployments.'\n    url = 'https://aws.github.io/aws-eks-best-practices/reliability/docs/application/#avoid-running-sin
gleton-pods'\n\n    def check(self, namespaced_resources: NamespacedResources):\n        offenders = []\n        for pod in namespaced_resources.pods:\n
    owner = pod.metadata.owner_references\n            if not owner:\n                offenders.append(pod)\n        self.result = Result(status=True, resource_
type='Pod', namespace=namespaced_resources.namespace)\n        if offenders:\n            self.result = Result(status=False, resource_type='Pod', resources=[i.m
etadata.name for i in offenders], namespace=namespaced_resources.namespace)\n\nclass run_multiple_replicas(Rule):\n    _type = 'namespace_based'\n    pillar ='r
eliability'\n    section = 'applications'\n    message = 'Avoid running single replica deployments.'\n    url = 'https://aws.github.io/aws-eks-best-practices/re
liability/docs/application/#run-multiple-replicas'\n\n    def check(self, namespaced_resources: NamespacedResources):\n        offenders = []\n        for deplo
yment in namespaced_resources.deployments:\n            if deployment.spec.replicas < 2:\n                offenders.append(deployment)\n        self.result = Re
sult(status=True, resource_type='Deployment', namespace=namespaced_resources.namespace)\n        if offenders:\n            self.result = Result(status=False, r
esource_type='Deployment', resources=[i.metadata.name for i in offenders], namespace=namespaced_resources.namespace)\n\nclass schedule_replicas_across_nodes(Rul
e):\n    _type = 'namespace_based'\n    pillar ='reliability'\n    section = 'applications'\n    message = 'Spread replicas across AZs and Nodes.'\n    url = 'h
ttps://aws.github.io/aws-eks-best-practices/reliability/docs/application/#schedule-replicas-across-nodes'\n\n    def check(self, namespaced_resources: Namespace
dResources):\n        offenders = []\n        for deployment in namespaced_resources.deployments:\n            if not deployment.spec.template.spec.affinity or
not deployment.spec.template.spec.topology_spread_constraints:\n                offenders.append(deployment)\n        self.result = Result(status=True, resource
_type='Deployment', namespace=namespaced_resources.namespace)\n        if offenders:\n            self.result = Result(status=False, resource_type='Deployment',
 resources=[i.metadata.name for i in offenders], namespace=namespaced_resources.namespace)\n\nclass check_horizontal_pod_autoscaling_exists(Rule):\n    _type =
'namespace_based'\n    pillar ='reliability'\n    section = 'applications'\n    message = 'Deploy horizontal pod autoscaler for deployments.'\n    url = 'https:
//aws.github.io/aws-eks-best-practices/reliability/docs/application/#horizontal-pod-autoscaler-hpa'\n\n    def check(self, namespaced_resources: NamespacedResou
rces):\n        offenders = []\n        hpas = [i.spec.scale_target_ref.name for i in namespaced_resources.hpas]\n        for deployment in namespaced_resources
.deployments:\n            if deployment.metadata.name not in hpas:\n                offenders.append(deployment)\n        self.result = Result(status=True, res
ource_type='Deployment', namespace=namespaced_resources.namespace)\n        if offenders:\n            self.result = Result(status=False, resource_type='Deploym
ent', resources=[i.metadata.name for i in offenders], namespace=namespaced_resources.namespace)\n\nclass check_readiness_probes(Rule):\n    _type = 'namespace_b
ased'\n    pillar ='reliability'\n    section = 'applications'\n    message = 'Define readiness probes for pods.'\n    url = 'https://aws.github.io/aws-eks-best
-practices/reliability/docs/application/#use-readiness-probe-to-detect-partial-unavailability'\n\n    def check(self, namespaced_resources: NamespacedResources)
:\n        offenders = []\n        for pod in namespaced_resources.pods:\n            for container in pod.spec.containers:\n                if not container.re
adiness_probe:\n                    offenders.append(pod)\n        self.result = Result(status=True, resource_type='Pod', namespace=namespaced_resources.namespa
ce)\n        if offenders:\n            self.result = Result(status=False, resource_type='Pod', resources=[i.metadata.name for i in offenders], namespace=namesp
aced_resources.namespace)\n\nclass check_liveness_probes(Rule):\n    _type = 'namespace_based'\n    pillar ='reliability'\n    section = 'applications'\n    mes
sage = 'Define liveness probes for pods.'\n    url = 'https://aws.github.io/aws-eks-best-practices/reliability/docs/application/#use-liveness-probe-to-remove-un
healthy-pods'\n\n    def check(self, namespaced_resources: NamespacedResources):\n        offenders = []\n        for pod in namespaced_resources.pods:\n
     for container in pod.spec.containers:\n                if not container.liveness_probe:\n                    offenders.append(pod)\n        self.result = R
esult(status=True, resource_type='Pod', namespace=namespaced_resources.namespace)\n        if offenders:\n            self.result = Result(status=False, resourc
e_type='Pod', resources=[i.metadata.name for i in offenders], namespace=namespaced_resources.namespace)" > applications.py\ncd /workspace/repo\npytest tests/tes
t_reliability_applications.py::test_schedule_replicas_across_nodes -v\n
