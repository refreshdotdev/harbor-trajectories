import{b as l,v as te,w as se,x as re,y as ae,t as g,M as ne,L as ie,S as oe,z as ue,O as ce,i as le}from"./index-CYR-HZan.js";import{e as he,a as de,b as fe,c as me,S as G,n as b,m as H,d as w,h as X,Q as pe,f as U,g as ye,o as I,r as _,i as ge,j as N,p as K,s as ve,k as be,T as Pe}from"./index-JVv6katd.js";import{M as Se}from"./mutation--h5hHClj.js";import{c as we,d as C,a as B,g as Qe,e as Oe,b as qe,f as Me,r as Ae}from"./compare-Br3z3FUS-D09VrqaM.js";function W(e){return{onFetch:(t,s)=>{const r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,n=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let h=!1;const P=d=>{me(d,()=>t.signal,()=>h=!0)},f=he(t.options,t.fetchOptions),m=async(d,v,S)=>{if(h)return Promise.reject();if(v==null&&d.pages.length)return Promise.resolve(d);const O=(()=>{const y={client:t.client,queryKey:t.queryKey,pageParam:v,direction:S?"backward":"forward",meta:t.options.meta};return P(y),y})(),q=await f(O),{maxPages:T}=t.options,p=S?de:fe;return{pages:p(d.pages,q,T),pageParams:p(d.pageParams,v,T)}};if(a&&n.length){const d=a==="backward",v=d?Ee:$,S={pages:n,pageParams:i},Q=v(r,S);o=await m(S,Q,d)}else{const d=e??n.length;do{const v=u===0?i[0]??r.initialPageParam:$(r,o);if(u>0&&v==null)break;o=await m(o,v),u++}while(u<d)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=c}}}function $(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function Ee(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var Ce=class extends G{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,t,s){const r=new Se({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){this.#e.add(e);const t=x(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=x(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=x(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(a=>a.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=x(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){b.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>H(t,s))}findAll(e={}){return this.getAll().filter(t=>H(e,t))}notify(e){b.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return b.batch(()=>Promise.all(e.map(t=>t.continue().catch(w))))}};function x(e){return e.options.scope?.id}var Te=class extends G{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const r=t.queryKey,a=t.queryHash??X(r,t);let n=this.get(a);return n||(n=new pe({client:e,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(n)),n}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){b.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>U(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>U(e,s)):t}notify(e){b.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){b.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){b.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xe=class{#e;#t;#s;#a;#n;#r;#i;#o;constructor(e={}){this.#e=e.queryCache||new Te,this.#t=e.mutationCache||new Ce,this.#s=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#i=ye.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=I.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(_(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),n=this.#e.get(r.queryHash)?.state.data,i=ge(t,n);if(i!==void 0)return this.#e.build(this,r).setData(i,{...s,manual:!0})}setQueriesData(e,t,s){return b.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;b.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return b.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=b.batch(()=>this.#e.findAll(e).map(a=>a.cancel(s)));return Promise.all(r).then(w).catch(w)}invalidateQueries(e,t={}){return b.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=b.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let n=a.fetch(void 0,s);return s.throwOnError||(n=n.catch(w)),a.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(r).then(w)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(_(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(w).catch(w)}fetchInfiniteQuery(e){return e.behavior=W(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(w).catch(w)}ensureInfiniteQueryData(e){return e.behavior=W(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return I.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#a.set(N(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],s={};return t.forEach(r=>{K(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){this.#n.set(N(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],s={};return t.forEach(r=>{K(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=X(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ve&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Re=(e,t,s,r,a,n,i,o)=>{let u=document.documentElement,c=["light","dark"];function h(m){(Array.isArray(e)?e:[e]).forEach(d=>{let v=d==="class",S=v&&n?a.map(Q=>n[Q]||Q):a;v?(u.classList.remove(...S),u.classList.add(n&&n[m]?n[m]:m)):u.setAttribute(d,m)}),P(m)}function P(m){o&&c.includes(m)&&(u.style.colorScheme=m)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)h(r);else try{let m=localStorage.getItem(t)||s,d=i&&m==="system"?f():m;h(d)}catch{}},z=["light","dark"],Y="(prefers-color-scheme: dark)",je=typeof window>"u",Z=l.createContext(void 0),Le=e=>l.useContext(Z)?l.createElement(l.Fragment,null,e.children):l.createElement(De,{...e}),ke=["light","dark"],De=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:s=!0,enableColorScheme:r=!0,storageKey:a="theme",themes:n=ke,defaultTheme:i=s?"system":"light",attribute:o="data-theme",value:u,children:c,nonce:h,scriptProps:P})=>{let[f,m]=l.useState(()=>He(a,i)),[d,v]=l.useState(()=>f==="system"?j():f),S=u?Object.values(u):n,Q=l.useCallback(p=>{let y=p;if(!y)return;p==="system"&&s&&(y=j());let A=u?u[y]:y,D=t?Ue(h):null,E=document.documentElement,F=M=>{M==="class"?(E.classList.remove(...S),A&&E.classList.add(A)):M.startsWith("data-")&&(A?E.setAttribute(M,A):E.removeAttribute(M))};if(Array.isArray(o)?o.forEach(F):F(o),r){let M=z.includes(i)?i:null,ee=z.includes(y)?y:M;E.style.colorScheme=ee}D?.()},[h]),O=l.useCallback(p=>{let y=typeof p=="function"?p(f):p;m(y);try{localStorage.setItem(a,y)}catch{}},[f]),q=l.useCallback(p=>{let y=j(p);v(y),f==="system"&&s&&!e&&Q("system")},[f,e]);l.useEffect(()=>{let p=window.matchMedia(Y);return p.addListener(q),q(p),()=>p.removeListener(q)},[q]),l.useEffect(()=>{let p=y=>{y.key===a&&(y.newValue?m(y.newValue):O(i))};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[O]),l.useEffect(()=>{Q(e??f)},[e,f]);let T=l.useMemo(()=>({theme:f,setTheme:O,forcedTheme:e,resolvedTheme:f==="system"?d:f,themes:s?[...n,"system"]:n,systemTheme:s?d:void 0}),[f,O,e,d,s,n]);return l.createElement(Z.Provider,{value:T},l.createElement(Fe,{forcedTheme:e,storageKey:a,attribute:o,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:u,themes:n,nonce:h,scriptProps:P}),c)},Fe=l.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:a,defaultTheme:n,value:i,themes:o,nonce:u,scriptProps:c})=>{let h=JSON.stringify([s,t,n,e,o,i,r,a]).slice(1,-1);return l.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${Re.toString()})(${h})`}})}),He=(e,t)=>{if(je)return;let s;try{s=localStorage.getItem(e)||void 0}catch{}return s||t},Ue=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},j=e=>(e||(e=window.matchMedia(Y)),e.matches?"dark":"light");function J(e,t,s){return r=>{if(!(t.length===0||t.some(n=>!we(r.getAll(n),e.getAll(n)))))return C("[nuqs `%s`] no change, returning previous",t.join(","),r),r;const a=L(e,t,s);return C("[nuqs `%s`] subbed search params change\n  from %O\n  to   %O",t.join(","),r,a),a}}function L(e,t,s){if(t.length===0)return e;const r=s?new URLSearchParams(e):e;for(const a of e.keys())t.includes(a)||r.delete(a);return r}let R=0;function Ie(e=1){R=e}function _e(){R=Math.max(0,R-1),!(R>0)&&V()}function V(){C("[nuqs] Aborting queues"),B.abortAll(),Qe.abort().forEach(e=>B.queuedQuerySync.emit(e))}const k="__nuqs__";function Ne(e){if(e instanceof URL)return e.searchParams;if(e.startsWith("?"))return new URLSearchParams(e);try{return new URL(e,location.origin).searchParams}catch{return new URLSearchParams(e)}}function Ke(e){return typeof history>"u"?!1:history.nuqs?.version&&history.nuqs.version!=="2.8.6"?(console.error(Oe(409),history.nuqs.version,"2.8.6",e),!1):!history.nuqs?.adapters?.includes(e)}function Be(e){history.nuqs=history.nuqs??{version:"2.8.6",adapters:[]},history.nuqs.adapters.push(e)}function We(e,t){if(!Ke(t))return;let s=typeof location=="object"?location.search:"";e.on("update",i=>{const o=i.toString();s=o.length?"?"+o:""}),window.addEventListener("popstate",()=>{s=location.search,V()}),C("[nuqs %s] Patching history (%s adapter)","2.8.6",t);function r(i){_e();try{if(new URL(i,location.origin).search===s)return}catch{}try{e.emit("update",Ne(i))}catch(o){console.error(o)}}const a=history.pushState,n=history.replaceState;history.pushState=function(o,u,c){a.call(history,o,"",c),c&&u!==k&&r(c)},history.replaceState=function(o,u,c){n.call(history,o,"",c),c&&u!==k&&r(c)},Be(t)}function $e({adapter:e,useNavigate:t,useSearchParams:s}){const r=Me();function a(i){const o=t();return{searchParams:n(i),updateUrl:l.useCallback((u,c)=>{l.startTransition(()=>{r.emit("update",u)});const h=new URL(location.href);h.search=Ae(u),C(`[nuqs ${e}] Updating url: %s`,h);const P=c.history==="push"?history.pushState:history.replaceState;Ie(c.shallow?1:2),P.call(history,history.state,k,h),c.shallow===!1&&o({hash:h.hash,search:h.search},{replace:!0,preventScrollReset:!0,state:history.state?.usr}),c.scroll&&window.scrollTo(0,0)},[o]),autoResetQueueOnUpdate:!1}}function n(i=[]){const[o]=s(typeof location>"u"?new URLSearchParams:new URLSearchParams(location.search)),[u,c]=l.useState(()=>typeof location>"u"?L(o,i,!0):L(new URLSearchParams(location.search),i,!1));return l.useEffect(()=>{function h(){c(J(new URLSearchParams(location.search),i,!1))}function P(f){c(J(f,i,!0))}return r.on("update",P),window.addEventListener("popstate",h),()=>{r.off("update",P),window.removeEventListener("popstate",h)}},[i.join("&")]),u}return We(r,e),{NuqsAdapter:qe(a),useOptimisticSearchParams:n}}const ze=$e({adapter:"react-router-v7",useNavigate:te,useSearchParams:se}),Je=ze.NuqsAdapter,Ge=new xe;function et({children:e}){return g.jsxs("html",{lang:"en",suppressHydrationWarning:!0,children:[g.jsxs("head",{children:[g.jsx("meta",{charSet:"utf-8"}),g.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),g.jsx(ne,{}),g.jsx(ie,{})]}),g.jsxs("body",{children:[e,g.jsx(oe,{}),g.jsx(ue,{})]})]})}const tt=re(function(){return g.jsx(be,{client:Ge,children:g.jsx(Le,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:g.jsxs(Je,{children:[g.jsx(ce,{}),g.jsx(Pe,{theme:"system",style:{fontFamily:"var(--font-sans)"}})]})})})}),st=ae(function({error:t}){let s="Oops!",r="An unexpected error occurred.",a;return le(t)&&(s=t.status===404?"404":"Error",r=t.status===404?"The requested page could not be found.":t.statusText||r),g.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[g.jsx("h1",{children:s}),g.jsx("p",{children:r}),a]})});export{st as ErrorBoundary,et as Layout,tt as default};
